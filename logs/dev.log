2025-01-25 12:56:36,398 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 12:56:36,513 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 14580 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 12:56:36,515 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 12:56:36,517 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "dev"
2025-01-25 12:56:39,898 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 12:56:39,902 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 12:56:39,992 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:56:39,997 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:56:40,000 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:56:40,004 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:56:40,008 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:56:40,012 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:56:40,013 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 95 ms. Found 0 JDBC repository interfaces.
2025-01-25 12:56:40,032 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 12:56:40,035 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 12:56:40,143 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 97 ms. Found 6 JPA repository interfaces.
2025-01-25 12:56:42,186 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 12:56:42,207 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 12:56:42,212 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 12:56:42,213 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 12:56:42,490 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 12:56:42,492 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5331 ms
2025-01-25 12:56:42,974 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 12:56:45,186 ERROR [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.flywaydb.core.api.configuration.ClassicConfiguration.setDataSource(ClassicConfiguration.java:1094)
	at org.flywaydb.core.api.configuration.FluentConfiguration.dataSource(FluentConfiguration.java:624)
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.configureDataSource(FlywayAutoConfiguration.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:175)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:146)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1705)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1454)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4414)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:874)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-01-25 12:56:45,350 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 12:56:45,351 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 12:56:45,352 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 12:56:45,379 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 12:56:46,734 ERROR [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:48)
	at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.<init>(JdbcConnectionFactory.java:74)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:142)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1705)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1454)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4414)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:874)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-01-25 12:56:46,742 ERROR [main] o.s.b.w.e.tomcat.TomcatStarter: Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system\target\classes\code\with\vanilson\libraryapplication\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userRepository' defined in code.with.vanilson.libraryapplication.user.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-01-25 12:56:46,780 INFO  [main] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2025-01-25 12:56:46,785 WARN  [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-01-25 12:56:46,804 INFO  [main] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-25 12:56:46,842 ERROR [main] o.s.boot.SpringApplication: Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 86 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system\target\classes\code\with\vanilson\libraryapplication\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userRepository' defined in code.with.vanilson.libraryapplication.user.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4414)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:874)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in code.with.vanilson.libraryapplication.user.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1705)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1454)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 132 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 146 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"
--------------------------------------------------------------------------------------------------------------------------
SQL State  : 28P01
Error Code : 0
Message    : FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 158 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"
--------------------------------------------------------------------------------------------------------------------------
SQL State  : 28P01
Error Code : 0
Message    : FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"

	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:60)
	at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.<init>(JdbcConnectionFactory.java:74)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:142)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 167 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:48)
	... 173 common frames omitted
2025-01-25 12:56:46,864 WARN  [main] o.s.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [code.with.vanilson.libraryapplication.integration.librarian.LibrarianControllerIntegrationTest@29eaf100]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@673605ef testClass = code.with.vanilson.libraryapplication.integration.librarian.LibrarianControllerIntegrationTest, locations = [], classes = [code.with.vanilson.libraryapplication.LibraryManagementSystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a5a4e19, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@41f69e84, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5f9edf14, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@376a0d86, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@35a3d49f, org.springframework.boot.test.context.SpringBootTestAnnotation@5c336261], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 72 common frames omitted
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 86 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system\target\classes\code\with\vanilson\libraryapplication\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userRepository' defined in code.with.vanilson.libraryapplication.user.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4414)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:874)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in code.with.vanilson.libraryapplication.user.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1705)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1454)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 132 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 146 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"
--------------------------------------------------------------------------------------------------------------------------
SQL State  : 28P01
Error Code : 0
Message    : FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 158 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"
--------------------------------------------------------------------------------------------------------------------------
SQL State  : 28P01
Error Code : 0
Message    : FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"

	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:60)
	at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.<init>(JdbcConnectionFactory.java:74)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:142)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 167 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: autentica��o do tipo password falhou para usu�rio "${POSTGRES_USERNAME}"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:48)
	... 173 common frames omitted
2025-01-25 12:57:28,846 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 12:57:28,939 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 620 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 12:57:28,941 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 12:57:28,942 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 12:57:31,333 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 12:57:31,335 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 12:57:31,448 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:57:31,453 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:57:31,457 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:57:31,461 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:57:31,464 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:57:31,468 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:57:31,469 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 127 ms. Found 0 JDBC repository interfaces.
2025-01-25 12:57:31,484 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 12:57:31,486 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 12:57:31,588 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 92 ms. Found 6 JPA repository interfaces.
2025-01-25 12:57:33,325 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 12:57:33,348 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 12:57:33,353 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 12:57:33,354 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 12:57:33,601 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 12:57:33,603 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4305 ms
2025-01-25 12:57:33,852 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 12:57:34,292 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 12:57:34,296 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 12:57:34,314 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 12:57:34,642 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 12:57:34,643 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 12:57:34,643 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 12:57:34,720 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 12:57:34,728 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 12:57:34,767 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 12:57:34,772 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2025-01-25 12:57:34,782 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 12:57:34,835 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 12:57:34,851 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 12:57:34,921 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 12:57:34,935 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.059s)
2025-01-25 12:57:35,157 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 12:57:35,309 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 12:57:35,405 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 12:57:36,079 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 12:57:38,931 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 12:57:39,034 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 12:57:39,794 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 12:57:41,528 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 12:57:41,647 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24a26847, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30eb427c, org.springframework.security.web.context.SecurityContextHolderFilter@79b01476, org.springframework.security.web.header.HeaderWriterFilter@5bb2f959, org.springframework.security.web.authentication.logout.LogoutFilter@798e73de, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7daecd21, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f0e6be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60c588cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59c9e3b9, org.springframework.security.web.session.SessionManagementFilter@2f65c341, org.springframework.security.web.access.ExceptionTranslationFilter@7e18b9e6, org.springframework.security.web.access.intercept.AuthorizationFilter@353f73ac]
2025-01-25 12:57:41,665 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 12:57:41,666 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 12:57:43,061 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 12:57:43,109 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56500 (http) with context path ''
2025-01-25 12:57:43,147 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.039 seconds (process running for 17.736)
2025-01-25 12:57:44,470 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 12:57:44,474 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 12:57:44,478 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 12:58:27,480 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 12:58:27,548 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 540 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 12:58:27,549 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 12:58:27,550 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 12:58:30,005 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 12:58:30,008 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 12:58:30,108 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:58:30,112 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:58:30,116 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:58:30,118 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:58:30,125 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:58:30,128 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 12:58:30,129 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 109 ms. Found 0 JDBC repository interfaces.
2025-01-25 12:58:30,144 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 12:58:30,145 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 12:58:30,240 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 87 ms. Found 6 JPA repository interfaces.
2025-01-25 12:58:31,915 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 12:58:31,933 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 12:58:31,939 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 12:58:31,940 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 12:58:32,205 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 12:58:32,206 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4301 ms
2025-01-25 12:58:32,460 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 12:58:32,908 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 12:58:32,911 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 12:58:32,932 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 12:58:33,269 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 12:58:33,269 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 12:58:33,270 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 12:58:33,349 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 12:58:33,360 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 12:58:33,400 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 12:58:33,405 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2025-01-25 12:58:33,416 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 12:58:33,460 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 12:58:33,479 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 12:58:33,541 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 12:58:33,551 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.054s)
2025-01-25 12:58:33,752 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 12:58:33,873 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 12:58:33,948 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 12:58:34,491 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 12:58:36,733 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 12:58:36,822 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 12:58:37,563 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 12:58:39,488 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 12:58:39,720 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5802572b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c05fb12, org.springframework.security.web.context.SecurityContextHolderFilter@5064988, org.springframework.security.web.header.HeaderWriterFilter@3da20c42, org.springframework.security.web.authentication.logout.LogoutFilter@1be7b7de, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7ae736a8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3662309d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c696163, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@702f99a5, org.springframework.security.web.session.SessionManagementFilter@187b33de, org.springframework.security.web.access.ExceptionTranslationFilter@5b0af511, org.springframework.security.web.access.intercept.AuthorizationFilter@73ccc475]
2025-01-25 12:58:39,741 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 12:58:39,743 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 12:58:41,573 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 12:58:41,630 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56559 (http) with context path ''
2025-01-25 12:58:41,674 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.878 seconds (process running for 17.373)
2025-01-25 12:58:42,491 INFO  [http-nio-auto-1-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 12:58:42,492 INFO  [http-nio-auto-1-exec-3] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 12:58:42,495 INFO  [http-nio-auto-1-exec-3] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 12:58:42,535 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 12:58:42,573 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 12:58:42,789 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 12:58:43,825 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 12:58:43,827 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 12:58:43,832 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 13:22:15,656 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 13:22:15,750 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 4400 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 13:22:15,752 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 13:22:15,754 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 13:22:18,246 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:22:18,249 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 13:22:18,362 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:22:18,373 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:22:18,379 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:22:18,384 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:22:18,388 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:22:18,392 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:22:18,394 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 136 ms. Found 0 JDBC repository interfaces.
2025-01-25 13:22:18,410 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:22:18,412 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 13:22:18,524 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 106 ms. Found 6 JPA repository interfaces.
2025-01-25 13:22:20,274 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 13:22:20,291 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:22:20,296 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 13:22:20,297 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 13:22:20,578 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 13:22:20,579 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4399 ms
2025-01-25 13:22:20,821 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 13:22:21,254 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 13:22:21,259 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 13:22:21,277 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 13:22:21,612 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 13:22:21,613 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 13:22:21,614 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 13:22:21,692 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 13:22:21,700 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 13:22:21,738 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 13:22:21,745 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 13:22:21,755 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 13:22:21,796 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 13:22:21,814 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 13:22:21,888 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 13:22:21,902 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.060s)
2025-01-25 13:22:22,086 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 13:22:22,240 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 13:22:22,319 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 13:22:22,781 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 13:22:25,107 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 13:22:25,180 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:22:25,807 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 13:22:27,817 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 13:22:27,938 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38f9b6cd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@95237fc, org.springframework.security.web.context.SecurityContextHolderFilter@c39ebcf, org.springframework.security.web.header.HeaderWriterFilter@7c089fbc, org.springframework.security.web.authentication.logout.LogoutFilter@c2a7ded, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7acb8e6b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@182934f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31f151ff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73605fde, org.springframework.security.web.session.SessionManagementFilter@43a304ee, org.springframework.security.web.access.ExceptionTranslationFilter@475cb91b, org.springframework.security.web.access.intercept.AuthorizationFilter@42985121]
2025-01-25 13:22:27,957 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 13:22:27,959 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 13:22:29,271 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:22:29,332 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 59946 (http) with context path ''
2025-01-25 13:22:29,391 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.518 seconds (process running for 17.071)
2025-01-25 13:22:30,237 INFO  [http-nio-auto-1-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 13:22:30,238 INFO  [http-nio-auto-1-exec-3] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 13:22:30,242 INFO  [http-nio-auto-1-exec-3] o.s.web.servlet.DispatcherServlet: Completed initialization in 4 ms
2025-01-25 13:22:30,279 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 13:22:30,423 ERROR [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 13:22:31,745 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:22:31,748 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 13:22:31,753 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 13:28:16,221 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 13:28:16,303 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 4932 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 13:28:16,304 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 13:28:16,306 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 13:28:18,993 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:28:18,996 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 13:28:19,137 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:28:19,142 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:28:19,145 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:28:19,151 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:28:19,155 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:28:19,160 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:28:19,162 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 157 ms. Found 0 JDBC repository interfaces.
2025-01-25 13:28:19,179 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:28:19,183 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 13:28:19,303 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 111 ms. Found 6 JPA repository interfaces.
2025-01-25 13:28:20,962 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 13:28:20,976 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:28:20,979 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 13:28:20,980 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 13:28:21,239 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 13:28:21,240 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4558 ms
2025-01-25 13:28:21,478 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 13:28:21,928 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 13:28:21,932 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 13:28:21,954 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 13:28:22,278 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 13:28:22,279 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 13:28:22,279 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 13:28:22,351 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 13:28:22,360 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 13:28:22,402 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 13:28:22,408 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.028s)
2025-01-25 13:28:22,417 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 13:28:22,460 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 13:28:22,478 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 13:28:22,550 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 13:28:22,564 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.061s)
2025-01-25 13:28:22,741 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 13:28:22,895 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 13:28:22,992 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 13:28:23,533 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 13:28:25,819 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 13:28:25,881 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:28:26,611 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 13:28:28,456 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 13:28:28,573 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@593fcbe7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b13aca4, org.springframework.security.web.context.SecurityContextHolderFilter@492e988c, org.springframework.security.web.header.HeaderWriterFilter@702f99a5, org.springframework.security.web.authentication.logout.LogoutFilter@5111de33, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@1cfa5e46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46eb5c0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@763a46fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bb59da3, org.springframework.security.web.session.SessionManagementFilter@39090979, org.springframework.security.web.access.ExceptionTranslationFilter@6c861b25, org.springframework.security.web.access.intercept.AuthorizationFilter@397fd951]
2025-01-25 13:28:28,588 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 13:28:28,589 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 13:28:29,985 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:28:30,038 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 60415 (http) with context path ''
2025-01-25 13:28:30,079 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.546 seconds (process running for 16.925)
2025-01-25 13:28:30,846 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 13:28:30,846 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 13:28:30,849 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 13:28:30,878 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 13:28:31,023 ERROR [http-nio-auto-1-exec-1] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 13:28:32,483 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:28:32,487 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 13:28:32,492 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 13:31:08,670 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 13:31:08,746 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 25804 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 13:31:08,747 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 13:31:08,749 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 13:31:11,296 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:31:11,299 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 13:31:11,407 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:31:11,411 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:31:11,415 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:31:11,418 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:31:11,421 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:31:11,424 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:31:11,425 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 104 ms. Found 0 JDBC repository interfaces.
2025-01-25 13:31:11,440 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:31:11,442 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 13:31:11,531 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 80 ms. Found 6 JPA repository interfaces.
2025-01-25 13:31:13,210 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 13:31:13,225 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:31:13,230 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 13:31:13,231 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 13:31:13,497 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 13:31:13,499 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4399 ms
2025-01-25 13:31:13,725 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 13:31:14,125 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 13:31:14,129 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 13:31:14,147 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 13:31:14,460 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 13:31:14,461 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 13:31:14,462 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 13:31:14,535 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 13:31:14,543 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 13:31:14,585 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 13:31:14,591 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.028s)
2025-01-25 13:31:14,600 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 13:31:14,637 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 13:31:14,655 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 13:31:14,717 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 13:31:14,728 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.053s)
2025-01-25 13:31:14,925 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 13:31:15,053 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 13:31:15,130 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 13:31:15,595 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 13:31:17,581 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 13:31:17,642 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:31:18,266 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 13:31:19,855 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 13:31:19,979 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cd9cafb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3da20c42, org.springframework.security.web.context.SecurityContextHolderFilter@793942d9, org.springframework.security.web.header.HeaderWriterFilter@105fa381, org.springframework.security.web.authentication.logout.LogoutFilter@71da8575, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@1193d400, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38913b95, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@234523e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16209621, org.springframework.security.web.session.SessionManagementFilter@573d3ec6, org.springframework.security.web.access.ExceptionTranslationFilter@130e2aef, org.springframework.security.web.access.intercept.AuthorizationFilter@7f85482c]
2025-01-25 13:31:19,996 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 13:31:19,997 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 13:31:21,244 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:31:21,299 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 60637 (http) with context path ''
2025-01-25 13:31:21,342 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.353 seconds (process running for 16.525)
2025-01-25 13:31:22,070 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 13:31:22,071 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 13:31:22,074 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 13:31:22,110 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 13:31:22,288 ERROR [http-nio-auto-1-exec-1] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 13:31:23,624 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:31:23,629 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 13:31:23,638 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 13:35:40,661 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 13:35:40,734 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 26312 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 13:35:40,735 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 13:35:40,737 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 13:35:43,175 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:35:43,177 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 13:35:43,287 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:35:43,292 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:35:43,295 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:35:43,298 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:35:43,303 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:35:43,307 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:35:43,308 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 119 ms. Found 0 JDBC repository interfaces.
2025-01-25 13:35:43,327 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:35:43,329 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 13:35:43,435 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 97 ms. Found 6 JPA repository interfaces.
2025-01-25 13:35:45,081 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 13:35:45,098 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:35:45,103 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 13:35:45,105 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 13:35:45,366 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 13:35:45,367 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4270 ms
2025-01-25 13:35:45,613 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 13:35:46,000 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 13:35:46,005 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 13:35:46,023 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 13:35:46,343 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 13:35:46,344 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 13:35:46,345 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 13:35:46,437 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 13:35:46,448 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 13:35:46,495 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 13:35:46,502 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.030s)
2025-01-25 13:35:46,514 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 13:35:46,571 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 13:35:46,619 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 13:35:46,696 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 13:35:46,710 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.066s)
2025-01-25 13:35:46,955 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 13:35:47,127 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 13:35:47,243 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 13:35:47,924 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 13:35:50,013 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 13:35:50,107 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:35:50,711 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 13:35:52,360 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 13:35:52,476 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5111de33, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b33446d, org.springframework.security.web.context.SecurityContextHolderFilter@117bb3a4, org.springframework.security.web.header.HeaderWriterFilter@182934f2, org.springframework.security.web.authentication.logout.LogoutFilter@38f9b6cd, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@36b5dbdf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@702f99a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19dffe76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@775b3762, org.springframework.security.web.session.SessionManagementFilter@7959747d, org.springframework.security.web.access.ExceptionTranslationFilter@e76aa, org.springframework.security.web.access.intercept.AuthorizationFilter@77dd0ac9]
2025-01-25 13:35:52,495 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 13:35:52,495 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 13:35:53,825 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:35:53,886 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 60906 (http) with context path ''
2025-01-25 13:35:53,931 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.994 seconds (process running for 16.34)
2025-01-25 13:35:54,609 INFO  [http-nio-auto-1-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 13:35:54,610 INFO  [http-nio-auto-1-exec-2] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 13:35:54,613 INFO  [http-nio-auto-1-exec-2] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 13:35:54,643 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 13:35:54,680 INFO  [http-nio-auto-1-exec-2] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 13:35:54,889 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 13:35:55,099 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 13:35:55,142 ERROR [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 13:35:56,453 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:35:56,457 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 13:35:56,461 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 13:39:56,102 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 13:39:56,196 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 5292 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 13:39:56,197 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 13:39:56,199 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 13:40:00,313 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:40:00,315 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 13:40:00,430 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:00,435 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:00,439 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:00,444 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:00,448 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:00,452 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:00,454 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 118 ms. Found 0 JDBC repository interfaces.
2025-01-25 13:40:00,472 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:40:00,476 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 13:40:00,587 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 102 ms. Found 6 JPA repository interfaces.
2025-01-25 13:40:02,681 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 13:40:02,710 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:40:02,718 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 13:40:02,719 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 13:40:03,065 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 13:40:03,067 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 6493 ms
2025-01-25 13:40:03,359 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 13:40:03,819 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 13:40:03,822 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 13:40:03,846 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 13:40:04,211 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 13:40:04,212 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 13:40:04,213 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 13:40:04,287 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 13:40:04,297 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 13:40:04,337 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 13:40:04,343 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 13:40:04,354 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 13:40:04,392 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 13:40:04,410 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 13:40:04,473 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 13:40:04,484 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.051s)
2025-01-25 13:40:04,662 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 13:40:04,792 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 13:40:04,858 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 13:40:05,361 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 13:40:07,663 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 13:40:07,730 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:40:08,400 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 13:40:10,108 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 13:40:10,225 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56d9bc5f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7252e3ec, org.springframework.security.web.context.SecurityContextHolderFilter@5837b801, org.springframework.security.web.header.HeaderWriterFilter@55c7ba5, org.springframework.security.web.authentication.logout.LogoutFilter@7e3c5dbb, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@3f35d13d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b7a96e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d78dd9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b69be74, org.springframework.security.web.session.SessionManagementFilter@7f8bc54e, org.springframework.security.web.access.ExceptionTranslationFilter@74ed1b3d, org.springframework.security.web.access.intercept.AuthorizationFilter@31854086]
2025-01-25 13:40:10,242 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 13:40:10,242 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 13:40:11,523 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:40:11,591 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 61170 (http) with context path ''
2025-01-25 13:40:11,624 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 16.251 seconds (process running for 18.8)
2025-01-25 13:40:12,352 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 13:40:12,352 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 13:40:12,355 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 13:40:12,390 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 13:40:12,540 ERROR [http-nio-auto-1-exec-1] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 13:40:13,787 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:40:13,792 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 13:40:13,798 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 13:40:37,340 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 13:40:37,414 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 4144 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 13:40:37,415 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 13:40:37,416 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 13:40:39,892 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:40:39,895 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 13:40:39,999 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:40,005 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:40,013 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:40,018 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:40,022 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:40,027 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:40:40,029 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 124 ms. Found 0 JDBC repository interfaces.
2025-01-25 13:40:40,050 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:40:40,053 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 13:40:40,161 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 100 ms. Found 6 JPA repository interfaces.
2025-01-25 13:40:41,818 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 13:40:41,837 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:40:41,842 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 13:40:41,843 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 13:40:42,107 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 13:40:42,108 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4297 ms
2025-01-25 13:40:42,355 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 13:40:42,737 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 13:40:42,740 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 13:40:42,757 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 13:40:43,081 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 13:40:43,082 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 13:40:43,082 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 13:40:43,154 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 13:40:43,162 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 13:40:43,197 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 13:40:43,202 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2025-01-25 13:40:43,212 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 13:40:43,249 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 13:40:43,265 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 13:40:43,321 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 13:40:43,333 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.044s)
2025-01-25 13:40:43,523 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 13:40:43,652 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 13:40:43,728 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 13:40:44,195 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 13:40:46,342 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 13:40:46,403 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:40:47,167 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 13:40:48,960 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 13:40:49,062 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cd9cafb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3da20c42, org.springframework.security.web.context.SecurityContextHolderFilter@793942d9, org.springframework.security.web.header.HeaderWriterFilter@105fa381, org.springframework.security.web.authentication.logout.LogoutFilter@71da8575, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@71120f9a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38913b95, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@234523e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16209621, org.springframework.security.web.session.SessionManagementFilter@573d3ec6, org.springframework.security.web.access.ExceptionTranslationFilter@130e2aef, org.springframework.security.web.access.intercept.AuthorizationFilter@7f85482c]
2025-01-25 13:40:49,080 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 13:40:49,081 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 13:40:50,333 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:40:50,381 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 61206 (http) with context path ''
2025-01-25 13:40:50,420 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.901 seconds (process running for 16.498)
2025-01-25 13:40:51,122 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 13:40:51,122 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 13:40:51,124 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2025-01-25 13:40:51,155 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 13:40:51,314 ERROR [http-nio-auto-1-exec-1] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 13:40:52,395 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:40:52,400 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 13:40:52,405 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 13:49:32,404 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 13:49:32,488 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 22160 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 13:49:32,491 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 13:49:32,493 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 13:49:35,170 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:49:35,173 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 13:49:35,284 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:49:35,290 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:49:35,294 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:49:35,297 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:49:35,302 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:49:35,306 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:49:35,307 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 114 ms. Found 0 JDBC repository interfaces.
2025-01-25 13:49:35,325 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:49:35,328 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 13:49:35,456 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 119 ms. Found 6 JPA repository interfaces.
2025-01-25 13:49:37,361 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 13:49:37,378 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:49:37,383 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 13:49:37,383 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 13:49:37,656 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 13:49:37,658 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4747 ms
2025-01-25 13:49:37,929 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 13:49:38,353 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 13:49:38,382 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 13:49:38,403 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 13:49:38,764 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 13:49:38,764 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 13:49:38,765 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 13:49:38,853 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 13:49:38,862 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 13:49:38,902 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 13:49:38,908 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 13:49:38,917 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 13:49:38,958 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 13:49:38,979 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 13:49:39,049 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 13:49:39,061 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 13:49:39,245 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 13:49:39,413 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 13:49:39,491 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 13:49:40,049 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 13:49:42,502 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 13:49:42,573 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:49:43,311 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 13:49:45,164 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 13:49:45,279 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42cb8174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3108d1e1, org.springframework.security.web.context.SecurityContextHolderFilter@42985121, org.springframework.security.web.header.HeaderWriterFilter@c2a7ded, org.springframework.security.web.authentication.logout.LogoutFilter@69c7b870, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@2e5337d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38f9b6cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39081953, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59711ea7, org.springframework.security.web.session.SessionManagementFilter@54d20609, org.springframework.security.web.access.ExceptionTranslationFilter@2086dfb8, org.springframework.security.web.access.intercept.AuthorizationFilter@2ec3c213]
2025-01-25 13:49:45,296 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 13:49:45,297 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 13:49:46,673 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:49:46,735 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 61709 (http) with context path ''
2025-01-25 13:49:46,774 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.157 seconds (process running for 18.588)
2025-01-25 13:49:47,666 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 13:49:47,666 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 13:49:47,671 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 4 ms
2025-01-25 13:49:47,723 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 13:49:47,970 ERROR [http-nio-auto-1-exec-1] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 13:51:41,312 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 13:51:41,402 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 14312 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 13:51:41,404 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 13:51:41,406 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 13:51:43,511 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:51:43,514 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 13:51:43,612 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:51:43,617 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:51:43,621 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:51:43,624 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:51:43,628 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:51:43,631 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 13:51:43,633 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 111 ms. Found 0 JDBC repository interfaces.
2025-01-25 13:51:43,645 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 13:51:43,648 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 13:51:43,735 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 80 ms. Found 6 JPA repository interfaces.
2025-01-25 13:51:45,207 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 13:51:45,229 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:51:45,233 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 13:51:45,235 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 13:51:45,462 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 13:51:45,462 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3732 ms
2025-01-25 13:51:45,661 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 13:51:46,005 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 13:51:46,030 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 13:51:46,050 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 13:51:46,373 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 13:51:46,374 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 13:51:46,374 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 13:51:46,437 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 13:51:46,445 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 13:51:46,479 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 13:51:46,484 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.021s)
2025-01-25 13:51:46,492 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 13:51:46,525 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 13:51:46,540 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 13:51:46,590 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 13:51:46,601 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.041s)
2025-01-25 13:51:46,772 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 13:51:46,889 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 13:51:46,954 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 13:51:47,486 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 13:51:50,053 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 13:51:50,144 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:51:50,946 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 13:51:51,441 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m12s950ms270µs900ns).
2025-01-25 13:51:53,314 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 13:51:53,327 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 13:51:53,346 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 13:51:53,601 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 13:51:53,774 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f67401, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5323c6de, org.springframework.security.web.context.SecurityContextHolderFilter@95237fc, org.springframework.security.web.header.HeaderWriterFilter@6df37cc4, org.springframework.security.web.authentication.logout.LogoutFilter@68c7162b, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@1181a376, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6175782c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cdd90c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e1321fd, org.springframework.security.web.session.SessionManagementFilter@42985121, org.springframework.security.web.access.ExceptionTranslationFilter@39090979, org.springframework.security.web.access.intercept.AuthorizationFilter@3108d1e1]
2025-01-25 13:51:53,797 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 13:51:53,798 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 13:52:04,859 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 13:52:05,010 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 61847 (http) with context path ''
2025-01-25 13:52:05,132 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 24.397 seconds (process running for 26.679)
2025-01-25 13:52:51,695 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m5s557ms569µs900ns).
2025-01-25 13:54:27,296 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m2s843ms319µs700ns).
2025-01-25 13:55:27,995 INFO  [http-nio-auto-1-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 13:55:27,995 INFO  [http-nio-auto-1-exec-2] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 13:55:27,997 INFO  [http-nio-auto-1-exec-2] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 13:55:28,019 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 13:55:28,131 ERROR [http-nio-auto-1-exec-2] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 14:05:15,847 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:05:15,949 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 16896 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:05:15,950 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:05:15,952 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:05:19,158 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:05:19,162 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:05:19,298 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:05:19,313 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:05:19,318 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:05:19,324 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:05:19,330 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:05:19,335 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:05:19,337 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 166 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:05:19,362 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:05:19,364 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:05:19,531 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 154 ms. Found 6 JPA repository interfaces.
2025-01-25 14:05:22,131 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:05:22,161 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:05:22,167 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:05:22,168 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:05:22,549 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:05:22,550 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 6105 ms
2025-01-25 14:05:22,937 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:05:23,483 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:05:23,488 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:05:23,518 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:05:24,116 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:05:24,117 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:05:24,119 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:05:24,262 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:05:24,274 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:05:24,340 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:05:24,350 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.047s)
2025-01-25 14:05:24,370 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:05:24,446 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:05:24,474 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:05:24,565 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:05:24,581 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.079s)
2025-01-25 14:05:24,840 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:05:25,031 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:05:25,168 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:05:26,000 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:05:29,019 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:05:29,102 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:05:29,943 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:05:32,084 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:05:32,245 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a7c82e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22128b73, org.springframework.security.web.context.SecurityContextHolderFilter@5f2896fa, org.springframework.security.web.header.HeaderWriterFilter@10d1f6da, org.springframework.security.web.authentication.logout.LogoutFilter@1a3761a, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6924ff83, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14aeb8e6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43e869ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@338f9bb5, org.springframework.security.web.session.SessionManagementFilter@f777d41, org.springframework.security.web.access.ExceptionTranslationFilter@5f83fdf6, org.springframework.security.web.access.intercept.AuthorizationFilter@6066cf5]
2025-01-25 14:05:32,267 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:05:32,268 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:05:34,056 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:05:34,131 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 62872 (http) with context path ''
2025-01-25 14:05:34,177 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 19.353 seconds (process running for 22.379)
2025-01-25 14:05:35,112 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:05:35,113 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:05:35,119 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 5 ms
2025-01-25 14:05:35,180 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:05:35,396 ERROR [http-nio-auto-1-exec-1] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 14:05:35,625 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:05:35,786 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:05:35,801 INFO  [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 14:05:36,031 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 14:05:36,065 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:05:36,071 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 14:05:37,648 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:05:37,654 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:05:37,660 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:08:04,309 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m52s110ms762µs800ns).
2025-01-25 14:08:06,485 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:08:06,493 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:08:06,497 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:08:25,519 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:08:25,599 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 14856 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:08:25,600 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:08:25,602 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:08:28,162 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:08:28,165 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:08:28,307 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:08:28,314 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:08:28,322 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:08:28,326 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:08:28,331 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:08:28,336 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:08:28,338 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 150 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:08:28,357 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:08:28,360 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:08:28,519 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 148 ms. Found 6 JPA repository interfaces.
2025-01-25 14:08:30,409 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:08:30,427 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:08:30,434 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:08:30,435 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:08:30,686 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:08:30,687 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4729 ms
2025-01-25 14:08:30,929 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:08:31,294 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:08:31,297 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:08:31,312 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:08:31,645 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:08:31,645 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:08:31,646 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:08:31,718 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:08:31,726 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:08:31,764 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:08:31,789 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.046s)
2025-01-25 14:08:31,802 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:08:31,847 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:08:31,869 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:08:31,939 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:08:31,951 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.058s)
2025-01-25 14:08:32,167 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:08:32,286 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:08:32,359 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:08:32,831 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:08:34,852 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:08:34,910 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:08:35,520 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:08:37,300 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:08:37,411 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c39ebcf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ff167c4, org.springframework.security.web.context.SecurityContextHolderFilter@fbd9b1f, org.springframework.security.web.header.HeaderWriterFilter@12008a54, org.springframework.security.web.authentication.logout.LogoutFilter@64027866, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@344d6bb3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39c821c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c47135c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1be7b7de, org.springframework.security.web.session.SessionManagementFilter@7c8ec235, org.springframework.security.web.access.ExceptionTranslationFilter@201cc412, org.springframework.security.web.access.intercept.AuthorizationFilter@7fb57b7c]
2025-01-25 14:08:37,431 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:08:37,432 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:08:38,768 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:08:38,823 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 63054 (http) with context path ''
2025-01-25 14:08:38,863 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.087 seconds (process running for 16.827)
2025-01-25 14:08:39,616 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:08:39,616 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:08:39,618 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2025-01-25 14:08:39,648 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:08:41,096 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:08:41,102 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:08:41,106 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:11:55,283 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:11:55,377 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 10388 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:11:55,378 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:11:55,380 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:11:58,373 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:11:58,377 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:11:58,508 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:11:58,514 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:11:58,519 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:11:58,523 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:11:58,527 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:11:58,531 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:11:58,533 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 144 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:11:58,557 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:11:58,559 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:11:58,697 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 127 ms. Found 6 JPA repository interfaces.
2025-01-25 14:12:00,725 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:12:00,746 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:12:00,751 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:12:00,752 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:12:01,078 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:12:01,079 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5227 ms
2025-01-25 14:12:01,383 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:12:01,874 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:12:01,879 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:12:01,905 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:12:02,435 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:12:02,436 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:12:02,437 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:12:02,538 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:12:02,549 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:12:02,593 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:12:02,600 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 14:12:02,612 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:12:02,706 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:12:02,735 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:12:02,801 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:12:02,813 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 14:12:02,994 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:12:03,121 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:12:03,204 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:12:03,698 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:12:06,016 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:12:06,081 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:12:06,727 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:12:08,489 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:12:08,624 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c39ebcf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ff167c4, org.springframework.security.web.context.SecurityContextHolderFilter@fbd9b1f, org.springframework.security.web.header.HeaderWriterFilter@12008a54, org.springframework.security.web.authentication.logout.LogoutFilter@64027866, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6d6c4775, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39c821c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c47135c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1be7b7de, org.springframework.security.web.session.SessionManagementFilter@7c8ec235, org.springframework.security.web.access.ExceptionTranslationFilter@201cc412, org.springframework.security.web.access.intercept.AuthorizationFilter@7fb57b7c]
2025-01-25 14:12:08,641 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:12:08,642 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:12:10,150 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:12:10,213 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 63255 (http) with context path ''
2025-01-25 14:12:10,252 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.777 seconds (process running for 18.883)
2025-01-25 14:12:10,993 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:12:10,993 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:12:10,998 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 14:12:11,034 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:12:12,405 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:12:12,409 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:12:12,413 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:29:33,669 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:29:33,739 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 19048 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:29:33,740 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:29:33,741 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:29:36,259 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:29:36,262 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:29:36,366 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:29:36,377 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:29:36,381 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:29:36,386 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:29:36,390 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:29:36,394 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:29:36,395 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 125 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:29:36,412 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:29:36,414 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:29:36,529 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 106 ms. Found 6 JPA repository interfaces.
2025-01-25 14:29:38,289 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:29:38,307 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:29:38,311 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:29:38,312 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:29:38,574 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:29:38,575 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4432 ms
2025-01-25 14:29:38,820 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:29:39,206 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:29:39,211 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:29:39,235 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:29:39,580 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:29:39,581 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:29:39,582 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:29:39,689 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:29:39,700 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:29:39,751 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:29:39,757 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.032s)
2025-01-25 14:29:39,768 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:29:39,825 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:29:39,849 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:29:39,926 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:29:39,938 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.067s)
2025-01-25 14:29:40,157 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:29:40,306 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:29:40,395 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:29:41,056 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:29:43,449 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:29:43,517 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:29:44,144 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:29:45,912 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:29:46,026 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5eea8854, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18e69455, org.springframework.security.web.context.SecurityContextHolderFilter@6c861b25, org.springframework.security.web.header.HeaderWriterFilter@7ff167c4, org.springframework.security.web.authentication.logout.LogoutFilter@497f0cb2, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6a271c2b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d78dd9d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32317a37, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e850e68, org.springframework.security.web.session.SessionManagementFilter@35caab4c, org.springframework.security.web.access.ExceptionTranslationFilter@25c4d2a0, org.springframework.security.web.access.intercept.AuthorizationFilter@6409a2e4]
2025-01-25 14:29:46,045 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:29:46,046 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:29:47,334 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:29:47,382 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 64230 (http) with context path ''
2025-01-25 14:29:47,422 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.432 seconds (process running for 16.733)
2025-01-25 14:29:48,169 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:29:48,170 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:29:48,173 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 14:29:48,205 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:29:49,618 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:29:49,624 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:29:49,630 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:35:04,105 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:35:04,200 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 15512 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:35:04,201 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:35:04,203 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:35:06,887 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:35:06,890 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:35:06,993 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:35:06,998 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:35:07,007 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:35:07,012 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:35:07,016 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:35:07,021 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:35:07,022 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 121 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:35:07,037 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:35:07,040 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:35:07,134 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 89 ms. Found 6 JPA repository interfaces.
2025-01-25 14:35:08,821 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:35:08,844 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:35:08,849 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:35:08,850 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:35:09,158 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:35:09,159 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4542 ms
2025-01-25 14:35:09,469 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:35:09,940 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:35:09,943 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:35:09,969 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:35:10,341 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:35:10,342 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:35:10,343 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:35:10,421 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:35:10,429 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:35:10,477 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:35:10,483 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.027s)
2025-01-25 14:35:10,497 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:35:10,578 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:35:10,598 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:35:10,672 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:35:10,684 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.061s)
2025-01-25 14:35:10,894 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:35:11,013 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:35:11,102 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:35:11,619 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:35:13,743 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:35:13,804 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:35:14,382 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:35:16,120 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:35:16,234 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@763a46fe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@106361e9, org.springframework.security.web.context.SecurityContextHolderFilter@48715ab, org.springframework.security.web.header.HeaderWriterFilter@1069baea, org.springframework.security.web.authentication.logout.LogoutFilter@19dffe76, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6f36c42, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fb57b7c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4aedac7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22974eba, org.springframework.security.web.session.SessionManagementFilter@4c12e25d, org.springframework.security.web.access.ExceptionTranslationFilter@659b0c20, org.springframework.security.web.access.intercept.AuthorizationFilter@6d89f87d]
2025-01-25 14:35:16,250 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:35:16,251 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:35:17,608 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:35:17,656 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 64563 (http) with context path ''
2025-01-25 14:35:17,696 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.515 seconds (process running for 17.23)
2025-01-25 14:35:18,459 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:35:18,460 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:35:18,462 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 14:35:18,493 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:35:19,795 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:35:19,799 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:35:19,804 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:37:05,707 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:37:05,797 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 19988 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:37:05,798 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:37:05,800 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:37:08,255 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:37:08,259 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:37:08,406 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:37:08,419 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:37:08,423 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:37:08,428 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:37:08,432 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:37:08,438 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:37:08,440 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 168 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:37:08,461 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:37:08,463 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:37:08,607 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 133 ms. Found 6 JPA repository interfaces.
2025-01-25 14:37:10,658 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:37:10,677 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:37:10,682 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:37:10,683 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:37:10,969 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:37:10,970 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4808 ms
2025-01-25 14:37:11,228 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:37:11,636 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:37:11,640 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:37:11,660 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:37:12,016 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:37:12,017 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:37:12,018 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:37:12,112 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:37:12,121 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:37:12,167 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:37:12,173 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.030s)
2025-01-25 14:37:12,183 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:37:12,229 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:37:12,250 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:37:12,319 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:37:12,332 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.056s)
2025-01-25 14:37:12,513 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:37:12,636 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:37:12,713 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:37:13,226 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:37:15,282 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:37:15,349 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:37:15,991 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:37:17,714 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:37:17,822 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@353f73ac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c47135c, org.springframework.security.web.context.SecurityContextHolderFilter@1e1908ab, org.springframework.security.web.header.HeaderWriterFilter@7534b2a4, org.springframework.security.web.authentication.logout.LogoutFilter@441eae0b, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@39a8905b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79b01476, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d0d1e50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3faadc24, org.springframework.security.web.session.SessionManagementFilter@b8d8fb7, org.springframework.security.web.access.ExceptionTranslationFilter@67eb43a0, org.springframework.security.web.access.intercept.AuthorizationFilter@4c32d208]
2025-01-25 14:37:17,838 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:37:17,838 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:37:19,228 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:37:19,290 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 64686 (http) with context path ''
2025-01-25 14:37:19,339 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.296 seconds (process running for 16.898)
2025-01-25 14:37:20,108 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:37:20,109 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:37:20,111 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 14:37:20,140 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:37:21,603 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:37:21,608 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:37:21,613 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:39:26,922 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:39:27,016 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 13860 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:39:27,017 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:39:27,019 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:39:29,816 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:39:29,820 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:39:29,938 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:39:29,953 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:39:29,958 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:39:29,964 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:39:29,968 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:39:29,972 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:39:29,974 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 144 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:39:29,996 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:39:29,998 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:39:30,158 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 150 ms. Found 6 JPA repository interfaces.
2025-01-25 14:39:31,794 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:39:31,815 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:39:31,819 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:39:31,820 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:39:32,075 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:39:32,077 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4585 ms
2025-01-25 14:39:32,347 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:39:32,730 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:39:32,735 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:39:32,758 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:39:33,069 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:39:33,070 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:39:33,071 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:39:33,167 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:39:33,177 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:39:33,227 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:39:33,234 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.035s)
2025-01-25 14:39:33,245 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:39:33,298 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:39:33,328 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:39:33,411 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:39:33,424 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.073s)
2025-01-25 14:39:33,655 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:39:33,770 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:39:33,849 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:39:34,375 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:39:36,442 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:39:36,507 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:39:37,128 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:39:38,823 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:39:38,936 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@735c0454, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f475ede, org.springframework.security.web.context.SecurityContextHolderFilter@48720dcf, org.springframework.security.web.header.HeaderWriterFilter@6fefaeba, org.springframework.security.web.authentication.logout.LogoutFilter@47ce44ab, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@2c75b0c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e44bc38, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5565fc22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@353f73ac, org.springframework.security.web.session.SessionManagementFilter@1b2092fe, org.springframework.security.web.access.ExceptionTranslationFilter@5d7d2cb5, org.springframework.security.web.access.intercept.AuthorizationFilter@16209621]
2025-01-25 14:39:38,953 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:39:38,954 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:39:40,239 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:39:40,289 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 64823 (http) with context path ''
2025-01-25 14:39:40,324 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.128 seconds (process running for 16.792)
2025-01-25 14:39:41,019 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:39:41,019 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:39:41,023 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 14:39:41,052 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:39:42,266 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:39:42,270 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:39:42,276 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:41:38,239 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:41:38,310 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 11424 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:41:38,311 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:41:38,312 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:41:40,851 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:41:40,853 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:41:40,966 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:41:40,972 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:41:40,977 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:41:40,981 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:41:40,986 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:41:40,989 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:41:40,991 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 130 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:41:41,006 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:41:41,009 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:41:41,121 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 105 ms. Found 6 JPA repository interfaces.
2025-01-25 14:41:42,776 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:41:42,793 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:41:42,797 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:41:42,798 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:41:43,061 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:41:43,063 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4363 ms
2025-01-25 14:41:43,324 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:41:43,815 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:41:43,820 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:41:43,840 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:41:44,204 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:41:44,205 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:41:44,205 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:41:44,284 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:41:44,291 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:41:44,337 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:41:44,342 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.028s)
2025-01-25 14:41:44,353 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:41:44,397 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:41:44,414 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:41:44,486 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:41:44,499 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.056s)
2025-01-25 14:41:44,702 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:41:44,826 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:41:44,933 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:41:45,553 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:41:47,829 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:41:47,901 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:41:48,570 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:41:50,656 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:41:50,771 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30a1e459, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ec3c213, org.springframework.security.web.context.SecurityContextHolderFilter@54d20609, org.springframework.security.web.header.HeaderWriterFilter@4d484eda, org.springframework.security.web.authentication.logout.LogoutFilter@1d0e2c96, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@3e4d197, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6631e6af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6175782c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79715834, org.springframework.security.web.session.SessionManagementFilter@1b84d2e, org.springframework.security.web.access.ExceptionTranslationFilter@698df5e8, org.springframework.security.web.access.intercept.AuthorizationFilter@6409a49a]
2025-01-25 14:41:50,788 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:41:50,789 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:41:52,129 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:41:52,178 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 64984 (http) with context path ''
2025-01-25 14:41:52,216 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.676 seconds (process running for 17.173)
2025-01-25 14:41:52,913 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:41:52,913 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:41:52,915 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2025-01-25 14:41:52,941 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:41:54,534 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:41:54,540 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:41:54,546 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:44:52,172 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:44:52,243 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 5548 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:44:52,244 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:44:52,245 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:44:55,003 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:44:55,021 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:44:55,141 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:44:55,146 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:44:55,149 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:44:55,154 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:44:55,157 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:44:55,162 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:44:55,164 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 132 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:44:55,185 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:44:55,188 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:44:55,335 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 135 ms. Found 6 JPA repository interfaces.
2025-01-25 14:44:56,962 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:44:56,980 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:44:56,984 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:44:56,985 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:44:57,225 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:44:57,226 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4596 ms
2025-01-25 14:44:57,457 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:44:57,959 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:44:57,991 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:44:58,018 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:44:58,384 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:44:58,385 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:44:58,386 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:44:58,471 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:44:58,479 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:44:58,524 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:44:58,530 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 14:44:58,542 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:44:58,595 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:44:58,625 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:44:58,707 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:44:58,719 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.074s)
2025-01-25 14:44:58,951 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:44:59,105 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:44:59,187 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:44:59,734 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:45:01,873 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:45:01,943 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:45:02,717 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:45:04,633 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:45:04,744 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72a80668, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42cb8174, org.springframework.security.web.context.SecurityContextHolderFilter@6631e6af, org.springframework.security.web.header.HeaderWriterFilter@3638ae1c, org.springframework.security.web.authentication.logout.LogoutFilter@327dcf8c, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@193b6f5b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38e8f9a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b7bfa82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3108d1e1, org.springframework.security.web.session.SessionManagementFilter@489f5b24, org.springframework.security.web.access.ExceptionTranslationFilter@19dffe76, org.springframework.security.web.access.intercept.AuthorizationFilter@30a1e459]
2025-01-25 14:45:04,759 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:45:04,760 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:45:06,020 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:45:06,067 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 65159 (http) with context path ''
2025-01-25 14:45:06,105 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.902 seconds (process running for 17.72)
2025-01-25 14:45:06,819 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:45:06,819 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:45:06,822 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 14:45:06,857 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:45:08,137 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:45:08,142 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:45:08,146 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:47:30,418 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:47:30,498 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 26072 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:47:30,499 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:47:30,500 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:47:33,065 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:47:33,067 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:47:33,194 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:47:33,200 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:47:33,206 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:47:33,209 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:47:33,213 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:47:33,218 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:47:33,218 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 143 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:47:33,233 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:47:33,236 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:47:33,351 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 108 ms. Found 6 JPA repository interfaces.
2025-01-25 14:47:35,086 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:47:35,106 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:47:35,111 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:47:35,112 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:47:35,341 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:47:35,342 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4437 ms
2025-01-25 14:47:35,584 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:47:35,958 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:47:35,962 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:47:35,984 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:47:36,311 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:47:36,313 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:47:36,314 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:47:36,387 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:47:36,397 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:47:36,436 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:47:36,441 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2025-01-25 14:47:36,451 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:47:36,495 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:47:36,509 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:47:36,571 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:47:36,584 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.052s)
2025-01-25 14:47:36,757 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:47:36,894 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:47:36,982 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:47:37,585 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:47:40,171 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:47:40,240 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:47:40,917 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:47:42,614 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:47:42,723 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a16325, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@450555ac, org.springframework.security.web.context.SecurityContextHolderFilter@5565fc22, org.springframework.security.web.header.HeaderWriterFilter@58507830, org.springframework.security.web.authentication.logout.LogoutFilter@fbd9b1f, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@18a693de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68b5a37d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22479830, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5064988, org.springframework.security.web.session.SessionManagementFilter@7d9a5edf, org.springframework.security.web.access.ExceptionTranslationFilter@52f0b3d8, org.springframework.security.web.access.intercept.AuthorizationFilter@7269674d]
2025-01-25 14:47:42,741 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:47:42,742 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:47:44,052 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:47:44,102 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 65338 (http) with context path ''
2025-01-25 14:47:44,137 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.557 seconds (process running for 17.753)
2025-01-25 14:47:44,868 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:47:44,869 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:47:44,872 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 14:47:44,905 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:47:46,288 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:47:46,292 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:47:46,296 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:51:07,430 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:51:07,492 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 10988 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:51:07,493 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:51:07,494 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:51:10,079 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:51:10,083 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:51:10,214 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:51:10,226 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:51:10,232 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:51:10,238 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:51:10,241 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:51:10,248 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:51:10,250 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 158 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:51:10,274 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:51:10,277 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:51:10,426 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 136 ms. Found 6 JPA repository interfaces.
2025-01-25 14:51:12,240 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:51:12,257 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:51:12,261 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:51:12,262 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:51:12,505 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:51:12,506 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4664 ms
2025-01-25 14:51:12,736 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:51:13,105 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:51:13,109 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:51:13,146 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:51:13,462 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:51:13,463 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:51:13,464 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:51:13,545 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:51:13,554 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:51:13,592 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:51:13,599 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.028s)
2025-01-25 14:51:13,609 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:51:13,650 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:51:13,664 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:51:13,728 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:51:13,741 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.054s)
2025-01-25 14:51:13,950 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:51:14,070 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:51:14,138 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:51:14,654 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:51:16,922 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:51:16,993 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:51:17,609 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:51:19,224 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:51:19,334 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@593fcbe7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b13aca4, org.springframework.security.web.context.SecurityContextHolderFilter@492e988c, org.springframework.security.web.header.HeaderWriterFilter@702f99a5, org.springframework.security.web.authentication.logout.LogoutFilter@5111de33, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@12b9d405, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46eb5c0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@763a46fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bb59da3, org.springframework.security.web.session.SessionManagementFilter@39090979, org.springframework.security.web.access.ExceptionTranslationFilter@6c861b25, org.springframework.security.web.access.intercept.AuthorizationFilter@397fd951]
2025-01-25 14:51:19,349 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:51:19,350 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:51:20,683 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:51:20,728 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 65531 (http) with context path ''
2025-01-25 14:51:20,764 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.044 seconds (process running for 16.327)
2025-01-25 14:51:21,484 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:51:21,485 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:51:21,487 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 14:51:21,512 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:51:22,775 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:51:22,780 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:51:22,786 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:55:42,046 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:55:42,122 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 12568 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:55:42,122 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:55:42,123 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:55:44,661 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:55:44,664 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:55:44,771 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:55:44,776 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:55:44,780 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:55:44,783 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:55:44,787 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:55:44,791 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:55:44,792 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 119 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:55:44,807 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:55:44,809 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:55:44,911 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 93 ms. Found 6 JPA repository interfaces.
2025-01-25 14:55:46,980 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:55:47,001 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:55:47,006 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:55:47,007 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:55:47,325 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:55:47,327 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4810 ms
2025-01-25 14:55:47,647 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:55:48,140 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:55:48,145 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:55:48,168 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:55:48,575 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:55:48,576 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:55:48,577 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:55:48,662 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:55:48,674 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:55:48,731 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:55:48,738 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.041s)
2025-01-25 14:55:48,752 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:55:48,809 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:55:48,833 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:55:48,910 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:55:48,920 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.066s)
2025-01-25 14:55:49,113 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:55:49,239 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:55:49,315 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:55:49,893 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:55:52,112 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:55:52,174 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:55:52,792 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:55:54,636 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:55:54,753 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@327dcf8c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69c7b870, org.springframework.security.web.context.SecurityContextHolderFilter@4d484eda, org.springframework.security.web.header.HeaderWriterFilter@19a920d1, org.springframework.security.web.authentication.logout.LogoutFilter@22d522d4, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@106c4a72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3638ae1c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@402e48d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62ccf42c, org.springframework.security.web.session.SessionManagementFilter@1727d525, org.springframework.security.web.access.ExceptionTranslationFilter@31f151ff, org.springframework.security.web.access.intercept.AuthorizationFilter@1d0e2c96]
2025-01-25 14:55:54,767 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:55:54,768 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:55:56,081 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:55:56,133 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 49456 (http) with context path ''
2025-01-25 14:55:56,169 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.869 seconds (process running for 17.296)
2025-01-25 14:55:57,029 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:55:57,030 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:55:57,032 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 14:55:57,056 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:55:58,389 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:55:58,392 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:55:58,397 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:56:52,575 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:56:52,649 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 19668 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:56:52,651 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:56:52,652 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:56:55,392 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:56:55,395 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:56:55,495 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:56:55,499 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:56:55,502 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:56:55,506 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:56:55,509 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:56:55,515 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:56:55,516 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 114 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:56:55,533 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:56:55,535 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:56:55,643 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 98 ms. Found 6 JPA repository interfaces.
2025-01-25 14:56:57,382 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:56:57,404 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:56:57,410 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:56:57,411 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:56:57,717 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:56:57,718 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4722 ms
2025-01-25 14:56:57,961 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:56:58,334 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:56:58,338 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:56:58,360 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:56:58,740 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:56:58,741 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:56:58,741 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:56:58,824 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:56:58,834 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:56:58,885 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:56:58,892 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.034s)
2025-01-25 14:56:58,901 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:56:58,945 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:56:58,970 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:56:59,043 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:56:59,056 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.061s)
2025-01-25 14:56:59,242 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:56:59,371 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:56:59,448 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:56:59,990 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:57:02,833 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:57:02,903 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:57:03,624 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:57:05,346 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:57:05,462 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@327dcf8c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69c7b870, org.springframework.security.web.context.SecurityContextHolderFilter@4d484eda, org.springframework.security.web.header.HeaderWriterFilter@19a920d1, org.springframework.security.web.authentication.logout.LogoutFilter@22d522d4, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@482652f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3638ae1c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@402e48d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62ccf42c, org.springframework.security.web.session.SessionManagementFilter@1727d525, org.springframework.security.web.access.ExceptionTranslationFilter@31f151ff, org.springframework.security.web.access.intercept.AuthorizationFilter@1d0e2c96]
2025-01-25 14:57:05,477 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:57:05,478 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:57:06,745 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:57:06,800 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 49534 (http) with context path ''
2025-01-25 14:57:06,838 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.974 seconds (process running for 17.41)
2025-01-25 14:57:07,545 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:57:07,546 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:57:07,548 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 14:57:07,576 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:57:08,051 WARN  [http-nio-auto-1-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23502, SQLState: 23502
2025-01-25 14:57:08,053 ERROR [http-nio-auto-1-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper: NULL not allowed for column "POSTAL_CODE"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23502-224]
2025-01-25 14:57:09,313 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:57:09,318 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:57:09,322 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 14:57:49,080 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 14:57:49,271 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 17164 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 14:57:49,274 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 14:57:49,278 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 14:57:54,207 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:57:54,214 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 14:57:54,420 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:57:54,430 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:57:54,436 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:57:54,442 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:57:54,447 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:57:54,454 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 14:57:54,457 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 228 ms. Found 0 JDBC repository interfaces.
2025-01-25 14:57:54,492 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 14:57:54,497 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 14:57:54,688 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 176 ms. Found 6 JPA repository interfaces.
2025-01-25 14:57:58,221 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 14:57:58,253 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:57:58,261 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 14:57:58,262 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 14:57:58,649 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 14:57:58,651 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 8566 ms
2025-01-25 14:57:58,990 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 14:57:59,533 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 14:57:59,538 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 14:57:59,563 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 14:58:00,027 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 14:58:00,028 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 14:58:00,029 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 14:58:00,130 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 14:58:00,144 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 14:58:00,189 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 14:58:00,194 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 14:58:00,206 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 14:58:00,261 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 14:58:00,287 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 14:58:00,382 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 14:58:00,402 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.085s)
2025-01-25 14:58:00,686 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 14:58:00,923 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 14:58:01,050 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 14:58:01,704 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 14:58:05,173 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 14:58:05,302 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:58:06,574 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 14:58:09,945 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 14:58:10,249 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3dcb28de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a16325, org.springframework.security.web.context.SecurityContextHolderFilter@5623354e, org.springframework.security.web.header.HeaderWriterFilter@66a5a12c, org.springframework.security.web.authentication.logout.LogoutFilter@5b0af511, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@44929971, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@124bc9fa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22a7d2f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@450555ac, org.springframework.security.web.session.SessionManagementFilter@234523e, org.springframework.security.web.access.ExceptionTranslationFilter@5bb2f959, org.springframework.security.web.access.intercept.AuthorizationFilter@45bedfed]
2025-01-25 14:58:10,285 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 14:58:10,286 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 14:58:12,778 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 14:58:12,840 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 49614 (http) with context path ''
2025-01-25 14:58:12,885 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 25.23 seconds (process running for 29.295)
2025-01-25 14:58:13,754 INFO  [http-nio-auto-1-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 14:58:13,754 INFO  [http-nio-auto-1-exec-6] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 14:58:13,757 INFO  [http-nio-auto-1-exec-6] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 14:58:13,796 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 14:58:14,553 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 14:58:14,580 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 14:58:16,416 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 14:58:16,423 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 14:58:16,429 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:00:09,281 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:00:09,378 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 10060 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:00:09,380 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:00:09,382 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:00:12,497 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:00:12,500 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:00:12,603 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:12,607 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:12,610 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:12,613 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:12,616 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:12,619 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:12,621 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 104 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:00:12,637 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:00:12,640 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:00:12,744 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 97 ms. Found 6 JPA repository interfaces.
2025-01-25 15:00:14,455 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:00:14,476 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:00:14,482 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:00:14,483 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:00:14,730 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:00:14,731 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4891 ms
2025-01-25 15:00:14,967 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:00:15,475 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:00:15,479 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:00:15,501 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:00:15,864 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:00:15,864 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:00:15,865 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:00:15,943 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:00:15,970 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:00:16,013 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:00:16,018 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.030s)
2025-01-25 15:00:16,027 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:00:16,069 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:00:16,092 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:00:16,168 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:00:16,182 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.068s)
2025-01-25 15:00:16,373 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:00:16,528 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:00:16,623 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:00:17,178 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:00:19,632 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:00:19,699 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:00:20,366 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:00:22,493 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:00:22,608 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@bbe07e5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c089fbc, org.springframework.security.web.context.SecurityContextHolderFilter@648ebda1, org.springframework.security.web.header.HeaderWriterFilter@68b5a37d, org.springframework.security.web.authentication.logout.LogoutFilter@4a16325, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@1170d81f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73f937d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@798e73de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e5259c0, org.springframework.security.web.session.SessionManagementFilter@23707d5d, org.springframework.security.web.access.ExceptionTranslationFilter@59e5ecab, org.springframework.security.web.access.intercept.AuthorizationFilter@44ba9865]
2025-01-25 15:00:22,623 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:00:22,624 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:00:24,154 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:00:24,215 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 49752 (http) with context path ''
2025-01-25 15:00:24,253 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.862 seconds (process running for 18.892)
2025-01-25 15:00:25,081 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:00:25,082 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:00:25,085 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 15:00:25,123 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:00:25,644 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:00:25,657 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:00:25,791 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:00:25,964 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:00:25,989 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:00:25,991 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:00:26,014 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:00:26,051 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:00:26,071 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:00:26,108 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:00:26,113 INFO  [http-nio-auto-1-exec-6] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:00:27,124 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:00:27,129 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:00:27,133 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:00:48,087 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:00:48,179 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 3864 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:00:48,180 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:00:48,182 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:00:50,717 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:00:50,720 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:00:50,848 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:50,854 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:50,861 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:50,871 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:50,876 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:50,881 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:00:50,883 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 154 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:00:50,901 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:00:50,904 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:00:51,021 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 108 ms. Found 6 JPA repository interfaces.
2025-01-25 15:00:52,691 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:00:52,709 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:00:52,713 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:00:52,714 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:00:53,008 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:00:53,010 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4494 ms
2025-01-25 15:00:53,300 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:00:53,859 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:00:53,865 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:00:53,889 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:00:54,314 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:00:54,315 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:00:54,316 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:00:54,414 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:00:54,424 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:00:54,469 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:00:54,481 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.037s)
2025-01-25 15:00:54,493 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:00:54,546 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:00:54,573 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:00:54,650 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:00:54,661 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.068s)
2025-01-25 15:00:54,946 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:00:55,128 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:00:55,295 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:00:56,233 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:00:59,079 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:00:59,156 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:00:59,789 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:01:01,784 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:01:01,896 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65227bd6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@397fd951, org.springframework.security.web.context.SecurityContextHolderFilter@39090979, org.springframework.security.web.header.HeaderWriterFilter@4184bced, org.springframework.security.web.authentication.logout.LogoutFilter@7c95440d, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@2182ebc7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a95898c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e3c5dbb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d2fe236, org.springframework.security.web.session.SessionManagementFilter@2086dfb8, org.springframework.security.web.access.ExceptionTranslationFilter@35caab4c, org.springframework.security.web.access.intercept.AuthorizationFilter@5efb3259]
2025-01-25 15:01:01,912 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:01:01,913 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:01:03,276 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:01:03,325 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 49801 (http) with context path ''
2025-01-25 15:01:03,366 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.983 seconds (process running for 18.437)
2025-01-25 15:01:04,051 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:01:04,052 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:01:04,054 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 15:01:04,082 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:01:04,515 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:01:04,528 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:01:04,645 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:01:04,784 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:01:04,806 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:01:04,808 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:01:04,827 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:01:04,858 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:01:04,870 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:01:04,898 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:01:04,902 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 15:01:05,814 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:01:05,818 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:01:05,822 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:01:44,222 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:01:44,352 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 15880 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:01:44,353 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:01:44,355 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:01:47,434 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:01:47,438 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:01:47,565 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:01:47,571 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:01:47,576 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:01:47,588 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:01:47,593 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:01:47,599 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:01:47,602 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 151 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:01:47,622 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:01:47,625 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:01:47,772 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 137 ms. Found 6 JPA repository interfaces.
2025-01-25 15:01:50,044 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:01:50,068 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:01:50,075 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:01:50,076 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:01:50,414 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:01:50,415 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5539 ms
2025-01-25 15:01:50,805 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:01:51,386 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:01:51,391 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:01:51,417 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:01:51,899 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:01:51,901 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:01:51,902 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:01:52,026 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:01:52,038 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:01:52,093 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:01:52,100 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.037s)
2025-01-25 15:01:52,115 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:01:52,176 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:01:52,203 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:01:52,275 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:01:52,285 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.061s)
2025-01-25 15:01:52,519 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:01:52,681 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:01:52,781 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:01:53,413 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:01:56,338 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:01:56,418 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:01:57,136 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:01:59,024 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:01:59,150 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48715ab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4077e676, org.springframework.security.web.context.SecurityContextHolderFilter@798e73de, org.springframework.security.web.header.HeaderWriterFilter@7c4b5d13, org.springframework.security.web.authentication.logout.LogoutFilter@eba003e, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@43ee585f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76145ef9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3da20c42, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25c4d2a0, org.springframework.security.web.session.SessionManagementFilter@48f27e0b, org.springframework.security.web.access.ExceptionTranslationFilter@4f1502d7, org.springframework.security.web.access.intercept.AuthorizationFilter@503a3c11]
2025-01-25 15:01:59,169 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:01:59,170 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:02:00,573 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:02:00,627 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 49850 (http) with context path ''
2025-01-25 15:02:00,663 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 17.395 seconds (process running for 20.745)
2025-01-25 15:02:01,459 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:02:01,459 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:02:01,463 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 15:02:01,501 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:02:01,981 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:02:02,002 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:02:02,156 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:02:02,323 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:02:02,347 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:02:02,349 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:02:02,372 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:02:02,404 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:02:02,417 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:02:02,436 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:02:02,440 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 15:02:03,494 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:02:03,497 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:02:03,501 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:07:22,025 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:07:22,114 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 21556 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:07:22,115 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:07:22,117 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:07:26,040 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:07:26,043 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:07:26,168 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:07:26,175 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:07:26,179 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:07:26,183 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:07:26,186 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:07:26,190 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:07:26,193 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 141 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:07:26,211 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:07:26,213 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:07:26,332 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 111 ms. Found 6 JPA repository interfaces.
2025-01-25 15:07:28,003 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:07:28,024 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:07:28,029 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:07:28,030 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:07:28,281 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:07:28,282 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5190 ms
2025-01-25 15:07:28,553 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:07:28,919 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:07:28,923 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:07:28,943 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:07:29,340 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:07:29,341 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:07:29,342 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:07:29,421 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:07:29,430 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:07:29,466 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:07:29,472 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 15:07:29,481 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:07:29,519 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:07:29,537 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:07:29,600 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:07:29,615 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.053s)
2025-01-25 15:07:29,794 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:07:29,941 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:07:30,019 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:07:30,674 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:07:33,009 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:07:33,080 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:07:33,746 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:07:35,463 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:07:35,576 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fa498b3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64cde9a5, org.springframework.security.web.context.SecurityContextHolderFilter@19dffe76, org.springframework.security.web.header.HeaderWriterFilter@e8f7aa3, org.springframework.security.web.authentication.logout.LogoutFilter@b69be74, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@470a2845, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b82254b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b3c411f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5efb3259, org.springframework.security.web.session.SessionManagementFilter@541b89ec, org.springframework.security.web.access.ExceptionTranslationFilter@51edc97d, org.springframework.security.web.access.intercept.AuthorizationFilter@5b7737eb]
2025-01-25 15:07:35,592 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:07:35,593 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:07:36,932 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:07:36,981 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 50346 (http) with context path ''
2025-01-25 15:07:37,018 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.734 seconds (process running for 18.402)
2025-01-25 15:07:37,721 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:07:37,721 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:07:37,723 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 15:07:37,747 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:07:38,165 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:07:38,177 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:07:38,318 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:07:38,489 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:07:38,511 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:07:38,513 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:07:38,533 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:07:38,565 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:07:38,578 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:07:38,594 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:07:38,597 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 15:07:39,519 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:07:39,523 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:07:39,528 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:08:14,553 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:08:14,630 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 22388 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:08:14,632 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:08:14,633 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:08:17,113 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:08:17,117 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:08:17,243 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:08:17,249 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:08:17,259 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:08:17,263 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:08:17,268 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:08:17,275 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:08:17,277 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 149 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:08:17,298 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:08:17,300 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:08:17,446 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 138 ms. Found 6 JPA repository interfaces.
2025-01-25 15:08:19,417 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:08:19,435 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:08:19,441 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:08:19,442 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:08:19,692 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:08:19,693 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4670 ms
2025-01-25 15:08:19,932 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:08:20,344 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:08:20,348 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:08:20,365 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:08:20,716 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:08:20,716 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:08:20,717 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:08:20,790 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:08:20,800 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:08:20,843 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:08:20,849 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.032s)
2025-01-25 15:08:20,858 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:08:20,904 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:08:20,923 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:08:20,987 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:08:20,998 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 15:08:21,179 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:08:21,312 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:08:21,385 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:08:21,861 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:08:24,121 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:08:24,183 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:08:24,837 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:08:26,630 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:08:26,742 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13553b2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d0e2c96, org.springframework.security.web.context.SecurityContextHolderFilter@1727d525, org.springframework.security.web.header.HeaderWriterFilter@6b7a96e1, org.springframework.security.web.authentication.logout.LogoutFilter@56d9bc5f, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@988eae9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9a1b870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16344151, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fa498b3, org.springframework.security.web.session.SessionManagementFilter@220f2d1b, org.springframework.security.web.access.ExceptionTranslationFilter@57441348, org.springframework.security.web.access.intercept.AuthorizationFilter@3d48674]
2025-01-25 15:08:26,759 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:08:26,760 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:08:28,054 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:08:28,104 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 50403 (http) with context path ''
2025-01-25 15:08:28,144 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.284 seconds (process running for 16.463)
2025-01-25 15:08:28,747 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:08:28,748 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:08:28,750 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 15:08:28,774 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:08:29,178 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:08:29,191 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:08:29,324 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:08:29,465 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:08:29,489 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:08:29,492 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:08:29,512 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:08:29,546 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:08:29,560 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:08:29,578 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:08:29,582 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 15:08:30,556 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:08:30,563 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:08:30,568 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:18:27,380 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:18:27,474 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 3660 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:18:27,476 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:18:27,477 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:18:30,126 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:18:30,129 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:18:30,253 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:18:30,258 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:18:30,262 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:18:30,267 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:18:30,272 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:18:30,279 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:18:30,282 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 143 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:18:30,306 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:18:30,309 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:18:30,445 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 127 ms. Found 6 JPA repository interfaces.
2025-01-25 15:18:32,286 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:18:32,306 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:18:32,311 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:18:32,312 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:18:32,567 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:18:32,568 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4677 ms
2025-01-25 15:18:32,854 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:18:33,230 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:18:33,253 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:18:33,273 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:18:33,591 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:18:33,592 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:18:33,593 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:18:33,673 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:18:33,681 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:18:33,724 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:18:33,729 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.027s)
2025-01-25 15:18:33,737 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:18:33,771 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:18:33,791 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:18:33,857 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:18:33,869 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 15:18:34,043 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:18:34,168 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:18:34,241 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:18:34,761 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:18:36,784 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:18:36,847 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:18:37,469 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:18:39,136 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:18:39,253 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79a68d19, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3052ce36, org.springframework.security.web.context.SecurityContextHolderFilter@274783f8, org.springframework.security.web.header.HeaderWriterFilter@49e4b332, org.springframework.security.web.authentication.logout.LogoutFilter@faa70af, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@31881213, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52d57307, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2095e085, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6eefc125, org.springframework.security.web.session.SessionManagementFilter@357f7e2d, org.springframework.security.web.access.ExceptionTranslationFilter@58084f58, org.springframework.security.web.access.intercept.AuthorizationFilter@735beda7]
2025-01-25 15:18:39,271 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:18:39,272 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:18:40,535 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:18:40,582 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 51237 (http) with context path ''
2025-01-25 15:18:40,619 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.011 seconds (process running for 17.156)
2025-01-25 15:18:41,369 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:18:41,369 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:18:41,373 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 15:18:41,416 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:18:41,869 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:18:41,884 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:18:42,033 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:18:42,222 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:18:42,259 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:18:42,261 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:18:42,310 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:18:42,371 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:18:42,382 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 15:18:43,318 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:18:43,322 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:18:43,328 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:19:45,428 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:19:45,504 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 26340 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:19:45,505 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:19:45,507 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:19:47,960 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:19:47,963 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:19:48,070 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:19:48,074 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:19:48,077 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:19:48,081 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:19:48,084 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:19:48,088 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:19:48,089 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 118 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:19:48,105 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:19:48,107 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:19:48,198 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 84 ms. Found 6 JPA repository interfaces.
2025-01-25 15:19:49,823 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:19:49,839 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:19:49,843 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:19:49,843 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:19:50,100 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:19:50,102 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4258 ms
2025-01-25 15:19:50,430 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:19:50,923 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:19:50,928 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:19:50,957 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:19:51,458 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:19:51,460 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:19:51,461 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:19:51,569 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:19:51,582 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:19:51,643 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:19:51,651 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.040s)
2025-01-25 15:19:51,666 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:19:51,727 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:19:51,754 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:19:51,819 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:19:51,833 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 15:19:52,026 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:19:52,156 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:19:52,228 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:19:52,749 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:19:55,135 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:19:55,197 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:19:55,809 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:19:58,672 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:19:58,881 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c3acda3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79805d37, org.springframework.security.web.context.SecurityContextHolderFilter@5b0ddbcf, org.springframework.security.web.header.HeaderWriterFilter@40b0436e, org.springframework.security.web.authentication.logout.LogoutFilter@492e988c, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6c758c74, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f8bc54e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35caab4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6175782c, org.springframework.security.web.session.SessionManagementFilter@35cf5d9, org.springframework.security.web.access.ExceptionTranslationFilter@64027866, org.springframework.security.web.access.intercept.AuthorizationFilter@38e8f9a8]
2025-01-25 15:19:58,915 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:19:58,917 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:20:02,568 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:20:02,627 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 51311 (http) with context path ''
2025-01-25 15:20:02,674 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 17.891 seconds (process running for 20.282)
2025-01-25 15:20:03,527 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:20:03,528 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:20:03,530 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 15:20:03,559 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:20:03,994 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:20:04,011 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:20:04,134 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:20:04,308 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:20:04,325 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:20:04,327 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:20:04,350 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:20:04,381 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:20:04,392 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:20:04,421 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:20:04,424 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 15:20:05,291 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:20:05,294 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:20:05,298 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:21:32,280 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:21:32,353 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 8708 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:21:32,354 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:21:32,355 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:21:34,788 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:21:34,791 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:21:34,888 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:21:34,895 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:21:34,903 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:21:34,906 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:21:34,911 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:21:34,914 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:21:34,915 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 116 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:21:34,933 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:21:34,935 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:21:35,035 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 93 ms. Found 6 JPA repository interfaces.
2025-01-25 15:21:36,720 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:21:36,744 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:21:36,750 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:21:36,751 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:21:37,024 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:21:37,025 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4325 ms
2025-01-25 15:21:37,273 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:21:37,704 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:21:37,708 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:21:37,734 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:21:38,231 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:21:38,231 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:21:38,232 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:21:38,328 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:21:38,337 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:21:38,393 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:21:38,400 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.037s)
2025-01-25 15:21:38,411 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:21:38,466 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:21:38,494 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:21:38,563 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:21:38,575 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.062s)
2025-01-25 15:21:38,784 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:21:38,918 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:21:39,007 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:21:39,567 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:21:41,620 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:21:41,675 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:21:42,275 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:21:43,934 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:21:44,039 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24555012, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b7737eb, org.springframework.security.web.context.SecurityContextHolderFilter@541b89ec, org.springframework.security.web.header.HeaderWriterFilter@2f1e3e1c, org.springframework.security.web.authentication.logout.LogoutFilter@7b7bfa82, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@402d443d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f7b7ac4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ba61340, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3415ecfe, org.springframework.security.web.session.SessionManagementFilter@702f99a5, org.springframework.security.web.access.ExceptionTranslationFilter@4aedac7f, org.springframework.security.web.access.intercept.AuthorizationFilter@f25106c]
2025-01-25 15:21:44,054 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:21:44,054 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:21:45,350 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:21:45,399 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 51432 (http) with context path ''
2025-01-25 15:21:45,431 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.839 seconds (process running for 16.278)
2025-01-25 15:21:46,117 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:21:46,117 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:21:46,121 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 4 ms
2025-01-25 15:21:46,165 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:21:46,573 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:21:46,585 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:21:46,711 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:21:46,845 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:21:46,866 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:21:46,868 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:21:46,892 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:21:46,920 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:21:46,931 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:21:46,963 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:21:46,967 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 15:21:47,971 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:21:47,974 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:21:47,980 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:22:09,181 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:22:09,284 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 24704 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:22:09,286 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:22:09,288 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:22:12,079 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:22:12,083 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:22:12,188 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:22:12,195 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:22:12,200 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:22:12,209 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:22:12,212 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:22:12,218 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:22:12,220 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 129 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:22:12,241 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:22:12,244 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:22:12,358 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 106 ms. Found 6 JPA repository interfaces.
2025-01-25 15:22:13,986 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:22:14,004 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:22:14,009 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:22:14,010 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:22:14,256 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:22:14,257 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4521 ms
2025-01-25 15:22:14,517 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:22:14,895 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:22:14,899 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:22:14,919 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:22:15,228 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:22:15,229 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:22:15,230 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:22:15,309 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:22:15,318 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:22:15,355 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:22:15,361 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2025-01-25 15:22:15,369 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:22:15,414 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:22:15,435 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:22:15,504 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:22:15,515 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.058s)
2025-01-25 15:22:15,702 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:22:15,830 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:22:15,913 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:22:16,367 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:22:18,624 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:22:18,684 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:22:19,299 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:22:20,980 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:22:21,101 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5111de33, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b33446d, org.springframework.security.web.context.SecurityContextHolderFilter@117bb3a4, org.springframework.security.web.header.HeaderWriterFilter@182934f2, org.springframework.security.web.authentication.logout.LogoutFilter@38f9b6cd, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@47e6004c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@702f99a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19dffe76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@775b3762, org.springframework.security.web.session.SessionManagementFilter@7959747d, org.springframework.security.web.access.ExceptionTranslationFilter@e76aa, org.springframework.security.web.access.intercept.AuthorizationFilter@77dd0ac9]
2025-01-25 15:22:21,120 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:22:21,121 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:22:22,399 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:22:22,451 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 51482 (http) with context path ''
2025-01-25 15:22:22,487 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.019 seconds (process running for 16.409)
2025-01-25 15:22:23,178 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:22:23,178 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:22:23,181 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 15:22:23,221 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:22:23,750 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:22:23,769 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:22:23,947 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:22:24,100 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:22:24,123 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:22:24,125 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:22:24,148 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:22:24,185 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:22:24,202 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:22:24,220 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:22:24,224 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 15:22:25,091 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:22:25,096 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:22:25,102 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:29:43,685 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:29:43,760 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 19120 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:29:43,761 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:29:43,762 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:29:46,394 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:29:46,397 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:29:46,514 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:29:46,529 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:29:46,533 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:29:46,539 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:29:46,543 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:29:46,547 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:29:46,549 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 141 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:29:46,569 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:29:46,572 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:29:46,698 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 118 ms. Found 6 JPA repository interfaces.
2025-01-25 15:29:48,370 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:29:48,392 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:29:48,396 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:29:48,397 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:29:48,641 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:29:48,642 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4523 ms
2025-01-25 15:29:48,890 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:29:49,275 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:29:49,280 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:29:49,298 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:29:49,616 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:29:49,617 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:29:49,618 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:29:49,696 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:29:49,706 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:29:49,747 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:29:49,753 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 15:29:49,763 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:29:49,801 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:29:49,820 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:29:49,891 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:29:49,902 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.059s)
2025-01-25 15:29:50,099 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:29:50,213 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:29:50,296 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:29:50,732 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:29:52,981 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:29:53,050 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:29:53,808 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:29:55,703 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:29:55,819 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f4b52fa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3468faa5, org.springframework.security.web.context.SecurityContextHolderFilter@213451a4, org.springframework.security.web.header.HeaderWriterFilter@62a153d3, org.springframework.security.web.authentication.logout.LogoutFilter@6e4e7a62, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7ce09850, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45e1d6a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17e71422, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7308c29a, org.springframework.security.web.session.SessionManagementFilter@610576c8, org.springframework.security.web.access.ExceptionTranslationFilter@10d1f6da, org.springframework.security.web.access.intercept.AuthorizationFilter@1f0f52d6]
2025-01-25 15:29:55,837 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:29:55,838 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:29:57,075 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:29:57,121 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 51921 (http) with context path ''
2025-01-25 15:29:57,158 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.279 seconds (process running for 17.674)
2025-01-25 15:29:57,842 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:29:57,842 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:29:57,844 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 15:29:57,874 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:29:59,088 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:29:59,092 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:29:59,096 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:33:58,542 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:33:58,628 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 24368 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:33:58,629 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:33:58,631 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:34:01,153 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:34:01,156 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:34:01,255 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:34:01,261 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:34:01,266 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:34:01,276 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:34:01,279 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:34:01,284 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:34:01,285 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 120 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:34:01,304 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:34:01,306 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:34:01,416 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 104 ms. Found 6 JPA repository interfaces.
2025-01-25 15:34:03,175 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:34:03,198 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:34:03,204 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:34:03,205 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:34:03,471 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:34:03,473 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4400 ms
2025-01-25 15:34:03,727 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:34:04,130 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:34:04,135 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:34:04,156 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:34:04,516 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:34:04,517 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:34:04,518 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:34:04,620 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:34:04,634 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:34:04,694 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:34:04,706 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.042s)
2025-01-25 15:34:04,719 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:34:04,779 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:34:04,813 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:34:04,910 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:34:04,925 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.083s)
2025-01-25 15:34:05,217 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:34:05,396 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:34:05,497 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:34:06,269 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:34:08,554 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:34:08,637 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:34:09,306 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:34:11,084 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:34:11,218 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64cde9a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5efb3259, org.springframework.security.web.context.SecurityContextHolderFilter@2086dfb8, org.springframework.security.web.header.HeaderWriterFilter@462b3fc7, org.springframework.security.web.authentication.logout.LogoutFilter@5cdd90c4, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@988eae9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d6f549c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46eb5c0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@327dcf8c, org.springframework.security.web.session.SessionManagementFilter@698df5e8, org.springframework.security.web.access.ExceptionTranslationFilter@5837b801, org.springframework.security.web.access.intercept.AuthorizationFilter@3415ecfe]
2025-01-25 15:34:11,237 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:34:11,238 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:34:12,775 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:34:12,833 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 52173 (http) with context path ''
2025-01-25 15:34:12,870 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.958 seconds (process running for 17.324)
2025-01-25 15:34:13,573 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:34:13,574 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:34:13,577 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 15:34:13,605 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:34:14,891 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:34:14,896 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:34:14,900 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:35:35,355 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:35:35,421 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 2812 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:35:35,422 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:35:35,424 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:35:37,785 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:35:37,788 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:35:37,872 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:35:37,882 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:35:37,905 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:35:37,914 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:35:37,919 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:35:37,926 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:35:37,929 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 133 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:35:37,954 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:35:37,960 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:35:38,157 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 184 ms. Found 6 JPA repository interfaces.
2025-01-25 15:35:39,903 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:35:40,009 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:35:40,034 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:35:40,035 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:35:40,548 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:35:40,550 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4756 ms
2025-01-25 15:35:40,908 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:35:41,556 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:35:41,561 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:35:41,583 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:35:42,637 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:35:42,638 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:35:42,639 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:35:42,739 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:35:42,749 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:35:42,791 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:35:42,797 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.028s)
2025-01-25 15:35:42,807 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:35:42,850 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:35:42,871 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:35:42,936 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:35:42,949 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.056s)
2025-01-25 15:35:43,142 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:35:43,275 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:35:43,347 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:35:43,830 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:35:46,138 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:35:46,206 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:35:46,838 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:35:48,670 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:35:48,800 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42985121, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@497f0cb2, org.springframework.security.web.context.SecurityContextHolderFilter@7fb57b7c, org.springframework.security.web.header.HeaderWriterFilter@64027866, org.springframework.security.web.authentication.logout.LogoutFilter@2b82254b, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@5a32ab89, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c39ebcf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@706dd38b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@510579b9, org.springframework.security.web.session.SessionManagementFilter@55c7ba5, org.springframework.security.web.access.ExceptionTranslationFilter@659b0c20, org.springframework.security.web.access.intercept.AuthorizationFilter@763a46fe]
2025-01-25 15:35:48,823 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:35:48,824 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:35:50,125 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:35:50,186 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 52265 (http) with context path ''
2025-01-25 15:35:50,221 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.423 seconds (process running for 17.733)
2025-01-25 15:35:50,882 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:35:50,882 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:35:50,885 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 15:35:50,916 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:35:52,361 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:35:52,367 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:35:52,372 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:36:48,585 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:36:48,666 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 17228 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:36:48,667 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:36:48,668 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:36:51,020 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:36:51,024 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:36:51,144 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:36:51,150 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:36:51,161 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:36:51,166 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:36:51,171 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:36:51,177 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:36:51,179 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 145 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:36:51,200 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:36:51,202 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:36:51,323 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 113 ms. Found 6 JPA repository interfaces.
2025-01-25 15:36:53,143 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:36:53,162 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:36:53,167 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:36:53,168 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:36:53,440 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:36:53,441 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4412 ms
2025-01-25 15:36:53,760 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:36:54,230 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:36:54,236 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:36:54,259 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:36:54,577 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:36:54,578 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:36:54,579 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:36:54,655 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:36:54,664 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:36:54,704 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:36:54,710 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.027s)
2025-01-25 15:36:54,718 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:36:54,759 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:36:54,779 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:36:54,856 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:36:54,868 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.063s)
2025-01-25 15:36:55,086 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:36:55,295 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:36:55,396 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:36:55,960 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:36:58,216 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:36:58,321 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:37:00,468 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:37:03,172 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:37:03,304 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c05fb12, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@702f99a5, org.springframework.security.web.context.SecurityContextHolderFilter@616f1c2e, org.springframework.security.web.header.HeaderWriterFilter@16209621, org.springframework.security.web.authentication.logout.LogoutFilter@5b0ddbcf, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@2d7bfb13, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f75c413, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@247e1f35, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b303608, org.springframework.security.web.session.SessionManagementFilter@e39df43, org.springframework.security.web.access.ExceptionTranslationFilter@fbd9b1f, org.springframework.security.web.access.intercept.AuthorizationFilter@4184bced]
2025-01-25 15:37:03,323 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:37:03,323 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:37:04,585 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:37:04,633 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 52337 (http) with context path ''
2025-01-25 15:37:04,666 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 16.746 seconds (process running for 19.256)
2025-01-25 15:37:05,290 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:37:05,291 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:37:05,293 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 15:37:05,318 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:37:05,767 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 15:37:05,781 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 15:37:05,904 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:37:06,030 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 15:37:06,049 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:37:06,084 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:37:06,086 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 15:37:06,109 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 15:37:06,136 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:37:06,146 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 15:37:06,163 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:37:06,166 ERROR [http-nio-auto-1-exec-7] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 15:37:07,049 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:37:07,052 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:37:07,056 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:45:33,776 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:45:33,849 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 21480 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:45:33,850 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:45:33,852 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:45:36,268 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:45:36,271 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:45:36,375 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:45:36,381 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:45:36,385 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:45:36,394 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:45:36,399 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:45:36,404 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:45:36,406 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 124 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:45:36,428 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:45:36,430 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:45:36,538 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 99 ms. Found 6 JPA repository interfaces.
2025-01-25 15:45:38,225 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:45:38,259 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:45:38,265 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:45:38,266 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:45:38,527 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:45:38,528 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4278 ms
2025-01-25 15:45:38,806 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:45:39,226 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:45:39,231 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:45:39,250 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:45:39,591 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:45:39,592 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:45:39,593 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:45:39,669 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:45:39,680 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:45:39,732 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:45:39,737 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2025-01-25 15:45:39,747 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:45:39,791 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:45:39,815 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:45:39,882 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:45:39,895 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 15:45:40,088 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:45:40,207 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:45:40,278 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:45:40,764 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:45:42,762 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:45:42,836 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:45:43,458 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:45:45,191 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:45:45,302 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@16344151, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6df37cc4, org.springframework.security.web.context.SecurityContextHolderFilter@7c089fbc, org.springframework.security.web.header.HeaderWriterFilter@11f633f, org.springframework.security.web.authentication.logout.LogoutFilter@4d78dd9d, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@17f8c75e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fdc1bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4077e676, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b3c411f, org.springframework.security.web.session.SessionManagementFilter@44ba9865, org.springframework.security.web.access.ExceptionTranslationFilter@e39df43, org.springframework.security.web.access.intercept.AuthorizationFilter@c2a7ded]
2025-01-25 15:45:45,319 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:45:45,320 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:45:46,625 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:45:46,678 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 52866 (http) with context path ''
2025-01-25 15:45:46,712 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.564 seconds (process running for 16.226)
2025-01-25 15:45:47,482 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:45:47,483 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:45:47,486 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 15:45:47,533 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:45:48,888 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:45:48,893 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:45:48,897 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:48:19,467 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:48:19,541 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 8788 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:48:19,542 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:48:19,544 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:48:22,342 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:48:22,347 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:48:22,460 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:48:22,467 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:48:22,478 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:48:22,481 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:48:22,485 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:48:22,491 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:48:22,492 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 134 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:48:22,507 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:48:22,509 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:48:22,625 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 109 ms. Found 6 JPA repository interfaces.
2025-01-25 15:48:24,737 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:48:24,755 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:48:24,760 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:48:24,761 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:48:25,018 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:48:25,018 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5080 ms
2025-01-25 15:48:25,303 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:48:25,700 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:48:25,704 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:48:25,722 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:48:26,064 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:48:26,065 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:48:26,066 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:48:26,144 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:48:26,153 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:48:26,195 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:48:26,200 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.027s)
2025-01-25 15:48:26,208 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:48:26,249 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:48:26,270 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:48:26,341 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:48:26,353 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.061s)
2025-01-25 15:48:26,533 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:48:26,677 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:48:26,768 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:48:27,238 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:48:29,240 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:48:29,301 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:48:29,957 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:48:31,786 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:48:31,921 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5eea8854, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18e69455, org.springframework.security.web.context.SecurityContextHolderFilter@6c861b25, org.springframework.security.web.header.HeaderWriterFilter@7ff167c4, org.springframework.security.web.authentication.logout.LogoutFilter@497f0cb2, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7c5ae5c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d78dd9d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32317a37, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e850e68, org.springframework.security.web.session.SessionManagementFilter@35caab4c, org.springframework.security.web.access.ExceptionTranslationFilter@25c4d2a0, org.springframework.security.web.access.intercept.AuthorizationFilter@6409a2e4]
2025-01-25 15:48:31,937 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:48:31,939 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:48:33,330 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:48:33,379 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 53038 (http) with context path ''
2025-01-25 15:48:33,413 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.638 seconds (process running for 17.085)
2025-01-25 15:48:34,138 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:48:34,139 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:48:34,141 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 15:48:34,173 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:48:35,381 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:48:35,386 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:48:35,392 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:50:39,118 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:50:39,185 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 21588 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:50:39,187 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:50:39,188 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:50:41,654 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:50:41,658 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:50:41,777 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:50:41,782 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:50:41,785 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:50:41,789 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:50:41,793 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:50:41,796 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:50:41,798 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 119 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:50:41,816 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:50:41,818 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:50:41,933 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 107 ms. Found 6 JPA repository interfaces.
2025-01-25 15:50:43,560 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:50:43,577 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:50:43,582 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:50:43,583 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:50:43,904 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:50:43,906 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4384 ms
2025-01-25 15:50:44,273 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:50:44,701 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:50:44,704 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:50:44,726 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:50:45,136 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:50:45,137 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:50:45,138 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:50:45,237 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:50:45,245 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:50:45,290 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:50:45,296 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 15:50:45,307 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:50:45,351 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:50:45,373 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:50:45,443 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:50:45,454 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 15:50:45,642 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:50:45,758 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:50:45,846 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:50:46,353 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:50:48,583 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:50:48,644 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:50:49,240 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:50:51,204 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:50:51,307 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56d9bc5f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7252e3ec, org.springframework.security.web.context.SecurityContextHolderFilter@5837b801, org.springframework.security.web.header.HeaderWriterFilter@55c7ba5, org.springframework.security.web.authentication.logout.LogoutFilter@7e3c5dbb, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@1cfa5e46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b7a96e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d78dd9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b69be74, org.springframework.security.web.session.SessionManagementFilter@7f8bc54e, org.springframework.security.web.access.ExceptionTranslationFilter@74ed1b3d, org.springframework.security.web.access.intercept.AuthorizationFilter@31854086]
2025-01-25 15:50:51,323 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:50:51,324 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:50:53,055 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:50:53,125 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 53174 (http) with context path ''
2025-01-25 15:50:53,170 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.77 seconds (process running for 17.209)
2025-01-25 15:50:54,635 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:50:54,640 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:50:54,644 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:51:26,302 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:51:26,376 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 19256 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:51:26,377 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:51:26,379 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:51:28,827 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:51:28,830 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:51:28,936 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:51:28,940 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:51:28,944 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:51:28,947 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:51:28,951 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:51:28,956 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:51:28,958 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 120 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:51:28,975 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:51:28,977 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:51:29,081 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 97 ms. Found 6 JPA repository interfaces.
2025-01-25 15:51:30,673 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:51:30,692 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:51:30,697 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:51:30,697 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:51:30,933 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:51:30,934 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4198 ms
2025-01-25 15:51:31,163 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:51:31,529 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:51:31,557 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:51:31,584 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:51:31,944 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:51:31,945 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:51:31,946 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:51:32,032 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:51:32,043 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:51:32,088 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:51:32,094 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 15:51:32,103 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:51:32,150 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:51:32,175 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:51:32,250 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:51:32,260 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.063s)
2025-01-25 15:51:32,477 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:51:32,612 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:51:32,712 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:51:33,214 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:51:35,301 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:51:35,361 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:51:35,977 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:51:37,586 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:51:37,681 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@216bd6cd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ce07db6, org.springframework.security.web.context.SecurityContextHolderFilter@31419d4a, org.springframework.security.web.header.HeaderWriterFilter@706dd38b, org.springframework.security.web.authentication.logout.LogoutFilter@109a5573, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7b0a864e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@698df5e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39090979, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d48674, org.springframework.security.web.session.SessionManagementFilter@4d78dd9d, org.springframework.security.web.access.ExceptionTranslationFilter@5b0ddbcf, org.springframework.security.web.access.intercept.AuthorizationFilter@775b3762]
2025-01-25 15:51:37,698 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:51:37,699 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:51:38,968 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:51:39,012 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 53216 (http) with context path ''
2025-01-25 15:51:39,051 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.51 seconds (process running for 16.115)
2025-01-25 15:51:40,316 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:51:40,321 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:51:40,326 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:53:57,445 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:53:57,520 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 3984 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:53:57,521 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:53:57,523 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:54:00,016 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:54:00,021 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:54:00,143 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:54:00,148 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:54:00,151 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:54:00,155 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:54:00,158 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:54:00,162 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:54:00,163 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 119 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:54:00,179 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:54:00,181 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:54:00,303 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 114 ms. Found 6 JPA repository interfaces.
2025-01-25 15:54:01,960 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:54:01,983 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:54:01,988 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:54:01,989 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:54:02,229 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:54:02,231 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4335 ms
2025-01-25 15:54:02,468 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:54:02,850 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:54:02,855 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:54:02,876 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:54:03,241 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:54:03,242 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:54:03,242 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:54:03,365 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:54:03,391 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:54:03,463 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:54:03,475 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.054s)
2025-01-25 15:54:03,501 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:54:03,556 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:54:03,584 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:54:03,638 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:54:03,646 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.044s)
2025-01-25 15:54:03,856 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:54:03,982 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:54:04,054 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:54:04,527 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:54:08,377 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:54:08,490 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:54:09,377 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:54:11,172 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:54:11,286 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@16209621, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e9e4332, org.springframework.security.web.context.SecurityContextHolderFilter@5047fc77, org.springframework.security.web.header.HeaderWriterFilter@1ad176e1, org.springframework.security.web.authentication.logout.LogoutFilter@73f937d9, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7daecd21, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48720dcf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f0e6be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c32d208, org.springframework.security.web.session.SessionManagementFilter@365a9434, org.springframework.security.web.access.ExceptionTranslationFilter@5d1acb3a, org.springframework.security.web.access.intercept.AuthorizationFilter@5ace2ce3]
2025-01-25 15:54:11,303 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:54:11,304 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:54:12,800 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:54:12,860 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 53371 (http) with context path ''
2025-01-25 15:54:12,911 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 16.22 seconds (process running for 19.202)
2025-01-25 15:54:13,630 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:54:13,631 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:54:13,634 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 15:54:13,679 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:54:15,164 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:54:15,169 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:54:15,173 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 15:57:09,070 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 15:57:09,152 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 14184 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 15:57:09,153 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 15:57:09,154 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 15:57:11,690 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:57:11,694 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 15:57:11,794 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:57:11,800 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:57:11,810 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:57:11,814 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:57:11,819 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:57:11,824 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 15:57:11,826 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 123 ms. Found 0 JDBC repository interfaces.
2025-01-25 15:57:11,846 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 15:57:11,849 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 15:57:11,972 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 115 ms. Found 6 JPA repository interfaces.
2025-01-25 15:57:13,880 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 15:57:13,899 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:57:13,903 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 15:57:13,904 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 15:57:14,164 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 15:57:14,166 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4610 ms
2025-01-25 15:57:14,414 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 15:57:14,802 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 15:57:14,806 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 15:57:14,827 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 15:57:15,176 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 15:57:15,177 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 15:57:15,178 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 15:57:15,253 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 15:57:15,264 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 15:57:15,317 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 15:57:15,323 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.036s)
2025-01-25 15:57:15,333 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 15:57:15,376 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 15:57:15,399 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 15:57:15,468 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 15:57:15,480 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 15:57:15,651 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 15:57:15,783 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 15:57:15,849 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 15:57:16,314 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 15:57:18,650 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 15:57:18,715 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:57:19,344 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 15:57:20,948 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 15:57:21,064 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4dc34411, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56d9bc5f, org.springframework.security.web.context.SecurityContextHolderFilter@51edc97d, org.springframework.security.web.header.HeaderWriterFilter@5e077a32, org.springframework.security.web.authentication.logout.LogoutFilter@1b84d2e, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@12b9d405, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e68c09d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@117bb3a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7252e3ec, org.springframework.security.web.session.SessionManagementFilter@4aedac7f, org.springframework.security.web.access.ExceptionTranslationFilter@78fdc1bb, org.springframework.security.web.access.intercept.AuthorizationFilter@4a17c516]
2025-01-25 15:57:21,082 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 15:57:21,082 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 15:57:22,374 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 15:57:22,430 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 53574 (http) with context path ''
2025-01-25 15:57:22,472 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.064 seconds (process running for 16.642)
2025-01-25 15:57:23,191 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 15:57:23,191 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 15:57:23,193 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2025-01-25 15:57:23,226 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 15:57:24,825 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 15:57:24,828 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 15:57:24,833 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:00:39,511 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:00:39,572 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 3392 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:00:39,572 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:00:39,573 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:00:41,967 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:00:41,969 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:00:42,071 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:00:42,075 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:00:42,080 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:00:42,083 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:00:42,087 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:00:42,091 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:00:42,093 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 116 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:00:42,111 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:00:42,113 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:00:42,213 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 91 ms. Found 6 JPA repository interfaces.
2025-01-25 16:00:43,868 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:00:43,888 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:00:43,893 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:00:43,894 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:00:44,133 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:00:44,134 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4218 ms
2025-01-25 16:00:44,380 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:00:44,765 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:00:44,769 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:00:44,785 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:00:45,106 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:00:45,107 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:00:45,108 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:00:45,195 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:00:45,202 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:00:45,238 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:00:45,244 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2025-01-25 16:00:45,254 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:00:45,295 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:00:45,311 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:00:45,379 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:00:45,391 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.058s)
2025-01-25 16:00:45,605 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:00:45,753 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:00:45,839 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:00:46,065 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:00:47,858 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:00:47,919 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:00:48,553 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:00:50,397 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:00:50,532 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8ff4d2b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4654fe3b, org.springframework.security.web.context.SecurityContextHolderFilter@2182cd7c, org.springframework.security.web.header.HeaderWriterFilter@f7dc1aa, org.springframework.security.web.authentication.logout.LogoutFilter@2ec3d746, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@60af08b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d476a21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cd6769b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13068335, org.springframework.security.web.session.SessionManagementFilter@5d9cd8b7, org.springframework.security.web.access.ExceptionTranslationFilter@4fe9a720, org.springframework.security.web.access.intercept.AuthorizationFilter@bbc199a]
2025-01-25 16:00:50,549 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:00:50,550 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:00:51,847 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:00:51,900 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 53775 (http) with context path ''
2025-01-25 16:00:51,948 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.093 seconds (process running for 16.61)
2025-01-25 16:00:53,100 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:00:53,104 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:00:53,110 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:01:45,296 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:01:45,356 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 2640 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:01:45,358 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:01:45,359 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:01:47,775 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:01:47,778 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:01:47,865 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:01:47,869 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:01:47,872 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:01:47,876 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:01:47,881 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:01:47,885 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:01:47,887 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 100 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:01:47,901 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:01:47,903 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:01:48,009 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 98 ms. Found 6 JPA repository interfaces.
2025-01-25 16:01:49,759 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:01:49,781 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:01:49,785 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:01:49,786 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:01:50,034 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:01:50,035 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4330 ms
2025-01-25 16:01:50,275 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:01:50,671 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:01:50,674 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:01:50,691 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:01:51,021 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:01:51,022 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:01:51,023 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:01:51,109 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:01:51,122 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:01:51,175 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:01:51,182 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.037s)
2025-01-25 16:01:51,194 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:01:51,247 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:01:51,271 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:01:51,342 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:01:51,355 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.060s)
2025-01-25 16:01:51,574 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:01:51,703 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:01:51,772 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:01:52,095 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:01:54,537 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:01:54,600 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:01:55,305 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:01:57,050 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:01:57,161 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70de1e65, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f657888, org.springframework.security.web.context.SecurityContextHolderFilter@7db373b2, org.springframework.security.web.header.HeaderWriterFilter@2c018211, org.springframework.security.web.authentication.logout.LogoutFilter@1b9b8759, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6d921d6b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a5f0ed5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ccdd8a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ec3d746, org.springframework.security.web.session.SessionManagementFilter@39dbea69, org.springframework.security.web.access.ExceptionTranslationFilter@42af751f, org.springframework.security.web.access.intercept.AuthorizationFilter@61ab2bcc]
2025-01-25 16:01:57,180 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:01:57,181 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:01:58,442 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:01:58,492 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 53948 (http) with context path ''
2025-01-25 16:01:58,529 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.887 seconds (process running for 17.265)
2025-01-25 16:01:59,524 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:01:59,528 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:01:59,531 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:02:40,695 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:02:40,755 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 2824 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:02:40,756 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:02:40,757 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:02:43,071 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:02:43,074 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:02:43,169 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:02:43,175 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:02:43,179 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:02:43,183 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:02:43,186 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:02:43,191 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:02:43,193 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 112 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:02:43,213 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:02:43,216 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:02:43,338 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 113 ms. Found 6 JPA repository interfaces.
2025-01-25 16:02:44,958 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:02:44,978 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:02:44,981 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:02:44,982 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:02:45,215 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:02:45,216 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4110 ms
2025-01-25 16:02:45,463 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:02:45,845 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:02:45,849 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:02:45,866 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:02:46,191 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:02:46,192 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:02:46,193 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:02:46,273 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:02:46,281 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:02:46,319 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:02:46,326 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 16:02:46,338 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:02:46,384 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:02:46,401 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:02:46,467 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:02:46,479 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.058s)
2025-01-25 16:02:46,702 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:02:46,828 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:02:46,914 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:02:47,151 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:02:49,071 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:02:49,147 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:02:49,767 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:02:51,481 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:02:51,592 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37f1d560, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d630ffa, org.springframework.security.web.context.SecurityContextHolderFilter@68321229, org.springframework.security.web.header.HeaderWriterFilter@4fe9a720, org.springframework.security.web.authentication.logout.LogoutFilter@f0ead61, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@2a85e4f4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d739a6f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c0ef9a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32f6d000, org.springframework.security.web.session.SessionManagementFilter@e0f22c3, org.springframework.security.web.access.ExceptionTranslationFilter@54898111, org.springframework.security.web.access.intercept.AuthorizationFilter@697c9218]
2025-01-25 16:02:51,610 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:02:51,611 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:02:53,090 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:02:53,165 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 54005 (http) with context path ''
2025-01-25 16:02:53,219 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.16 seconds (process running for 16.192)
2025-01-25 16:02:54,589 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:02:54,593 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:02:54,596 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:04:13,666 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:04:13,740 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 18776 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:04:13,741 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:04:13,743 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:04:16,280 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:04:16,282 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:04:16,367 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:04:16,373 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:04:16,378 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:04:16,383 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:04:16,387 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:04:16,393 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:04:16,395 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 105 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:04:16,413 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:04:16,415 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:04:16,511 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 87 ms. Found 6 JPA repository interfaces.
2025-01-25 16:04:18,125 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:04:18,143 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:04:18,148 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:04:18,148 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:04:18,384 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:04:18,385 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4246 ms
2025-01-25 16:04:18,658 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:04:19,013 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:04:19,017 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:04:19,035 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:04:19,366 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:04:19,367 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:04:19,368 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:04:19,444 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:04:19,453 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:04:19,492 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:04:19,498 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 16:04:19,509 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:04:19,554 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:04:19,580 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:04:19,659 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:04:19,672 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.067s)
2025-01-25 16:04:19,915 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:04:20,029 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:04:20,101 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:04:20,333 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:04:22,305 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:04:22,371 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:04:22,997 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:04:24,851 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:04:24,957 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@258274cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44c6e366, org.springframework.security.web.context.SecurityContextHolderFilter@d476a21, org.springframework.security.web.header.HeaderWriterFilter@7c458ad3, org.springframework.security.web.authentication.logout.LogoutFilter@1f5b3ef2, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7a0ebc03, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a2e8c6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69ef3847, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@637edfe0, org.springframework.security.web.session.SessionManagementFilter@37711f1a, org.springframework.security.web.access.ExceptionTranslationFilter@5c97c816, org.springframework.security.web.access.intercept.AuthorizationFilter@8ff4d2b]
2025-01-25 16:04:24,974 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:04:24,975 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:04:26,339 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:04:26,391 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 54099 (http) with context path ''
2025-01-25 16:04:26,425 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.347 seconds (process running for 16.183)
2025-01-25 16:04:27,428 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:04:27,432 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:04:27,436 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:07:31,816 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:07:31,894 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 19500 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:07:31,895 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:07:31,896 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:07:34,554 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:07:34,557 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:07:34,642 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:07:34,647 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:07:34,650 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:07:34,653 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:07:34,657 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:07:34,660 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:07:34,662 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 97 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:07:34,690 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:07:34,693 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:07:34,786 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 87 ms. Found 6 JPA repository interfaces.
2025-01-25 16:07:36,380 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:07:36,402 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:07:36,406 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:07:36,407 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:07:36,683 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:07:36,684 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4422 ms
2025-01-25 16:07:36,956 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:07:37,318 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:07:37,323 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:07:37,345 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:07:37,645 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:07:37,646 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:07:37,647 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:07:37,723 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:07:37,733 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:07:37,779 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:07:37,783 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.031s)
2025-01-25 16:07:37,791 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:07:37,829 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:07:37,871 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:07:37,946 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:07:37,960 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.063s)
2025-01-25 16:07:38,173 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:07:38,299 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:07:38,367 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:07:38,599 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:07:40,577 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:07:40,642 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:07:41,238 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:07:42,849 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:07:42,958 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2929ef51, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fa650e1, org.springframework.security.web.context.SecurityContextHolderFilter@605049be, org.springframework.security.web.header.HeaderWriterFilter@5c8b15f5, org.springframework.security.web.authentication.logout.LogoutFilter@2ed16651, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@c8dc1ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62f2811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b859845, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54d8c998, org.springframework.security.web.session.SessionManagementFilter@47d32e33, org.springframework.security.web.access.ExceptionTranslationFilter@2ff61c95, org.springframework.security.web.access.intercept.AuthorizationFilter@6e0a9752]
2025-01-25 16:07:42,975 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:07:42,976 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:07:44,304 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:07:44,350 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 54309 (http) with context path ''
2025-01-25 16:07:44,387 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.203 seconds (process running for 17.223)
2025-01-25 16:07:45,522 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:07:45,525 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:07:45,529 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:09:15,064 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:09:15,143 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 8724 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:09:15,144 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:09:15,145 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:09:17,474 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:09:17,478 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:09:17,579 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:09:17,585 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:09:17,588 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:09:17,591 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:09:17,594 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:09:17,598 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:09:17,599 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 111 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:09:17,614 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:09:17,616 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:09:17,712 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 88 ms. Found 6 JPA repository interfaces.
2025-01-25 16:09:19,336 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:09:19,350 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:09:19,354 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:09:19,355 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:09:19,605 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:09:19,606 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4095 ms
2025-01-25 16:09:19,849 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:09:20,218 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:09:20,222 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:09:20,238 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:09:20,562 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:09:20,564 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:09:20,565 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:09:20,659 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:09:20,669 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:09:20,713 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:09:20,719 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.033s)
2025-01-25 16:09:20,731 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:09:20,781 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:09:20,812 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:09:20,890 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:09:20,901 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.069s)
2025-01-25 16:09:21,111 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:09:21,243 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:09:21,310 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:09:21,533 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:09:23,562 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:09:23,651 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:09:24,347 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:09:26,088 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:09:26,219 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22881b1c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2af6b556, org.springframework.security.web.context.SecurityContextHolderFilter@5c8ec2f6, org.springframework.security.web.header.HeaderWriterFilter@54898111, org.springframework.security.web.authentication.logout.LogoutFilter@7005b6e, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@79a7f553, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@734901c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2182cd7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bbab132, org.springframework.security.web.session.SessionManagementFilter@2f23fdf1, org.springframework.security.web.access.ExceptionTranslationFilter@ae54cb3, org.springframework.security.web.access.intercept.AuthorizationFilter@4dba7f3c]
2025-01-25 16:09:26,234 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:09:26,235 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:09:27,486 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:09:27,531 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 54391 (http) with context path ''
2025-01-25 16:09:27,568 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.126 seconds (process running for 16.566)
2025-01-25 16:09:28,045 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:09:28,045 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:09:28,048 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:09:28,080 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:09:29,404 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:09:29,409 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:09:29,415 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:11:01,613 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:11:01,677 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 10712 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:11:01,677 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:11:01,678 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:11:04,063 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:11:04,066 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:11:04,155 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:11:04,160 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:11:04,164 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:11:04,167 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:11:04,170 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:11:04,173 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:11:04,175 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 102 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:11:04,191 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:11:04,193 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:11:04,296 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 95 ms. Found 6 JPA repository interfaces.
2025-01-25 16:11:06,011 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:11:06,030 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:11:06,035 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:11:06,036 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:11:06,282 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:11:06,284 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4286 ms
2025-01-25 16:11:06,517 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:11:06,906 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:11:06,910 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:11:06,930 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:11:07,329 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:11:07,330 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:11:07,331 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:11:07,440 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:11:07,451 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:11:07,500 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:11:07,507 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.034s)
2025-01-25 16:11:07,520 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:11:07,578 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:11:07,610 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:11:07,680 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:11:07,690 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.060s)
2025-01-25 16:11:07,931 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:11:08,086 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:11:08,185 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:11:08,419 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:11:10,643 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:11:10,708 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:11:11,343 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:11:13,116 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:11:13,252 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f92b5a1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f5b3ef2, org.springframework.security.web.context.SecurityContextHolderFilter@7c69c582, org.springframework.security.web.header.HeaderWriterFilter@53963f8e, org.springframework.security.web.authentication.logout.LogoutFilter@16454a28, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@a929b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d546842, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66cdde2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35014251, org.springframework.security.web.session.SessionManagementFilter@7db373b2, org.springframework.security.web.access.ExceptionTranslationFilter@4f60ac31, org.springframework.security.web.access.intercept.AuthorizationFilter@7f657888]
2025-01-25 16:11:13,268 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:11:13,269 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:11:14,787 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:11:14,850 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 54510 (http) with context path ''
2025-01-25 16:11:14,892 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.899 seconds (process running for 17.297)
2025-01-25 16:11:15,890 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:11:15,895 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:11:15,898 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:12:04,691 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:12:04,761 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 12924 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:12:04,762 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:12:04,763 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:12:07,252 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:12:07,254 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:12:07,342 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:12:07,348 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:12:07,351 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:12:07,355 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:12:07,359 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:12:07,362 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:12:07,364 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 102 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:12:07,380 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:12:07,382 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:12:07,476 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 87 ms. Found 6 JPA repository interfaces.
2025-01-25 16:12:09,190 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:12:09,207 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:12:09,211 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:12:09,211 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:12:09,465 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:12:09,466 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4342 ms
2025-01-25 16:12:09,759 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:12:10,195 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:12:10,200 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:12:10,224 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:12:10,661 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:12:10,661 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:12:10,662 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:12:10,755 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:12:10,764 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:12:10,809 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:12:10,816 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 16:12:10,826 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:12:10,880 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:12:10,908 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:12:10,987 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:12:10,996 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.068s)
2025-01-25 16:12:11,224 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:12:11,352 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:12:11,431 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:12:11,665 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:12:13,815 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:12:13,892 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:12:14,641 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:12:16,534 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:12:16,676 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54398386, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f334ce0, org.springframework.security.web.context.SecurityContextHolderFilter@1bff5ad0, org.springframework.security.web.header.HeaderWriterFilter@54d8c998, org.springframework.security.web.authentication.logout.LogoutFilter@302e3484, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@69c00140, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49342fb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58bf45ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b7e2212, org.springframework.security.web.session.SessionManagementFilter@21e470cc, org.springframework.security.web.access.ExceptionTranslationFilter@7ac47e87, org.springframework.security.web.access.intercept.AuthorizationFilter@1e8b3a8]
2025-01-25 16:12:16,693 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:12:16,694 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:12:18,183 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:12:18,241 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 54571 (http) with context path ''
2025-01-25 16:12:18,284 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.27 seconds (process running for 17.716)
2025-01-25 16:12:19,470 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:12:19,475 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:12:19,480 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:13:46,525 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:13:46,584 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 16476 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:13:46,585 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:13:46,586 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:13:48,955 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:13:48,958 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:13:49,059 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:13:49,065 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:13:49,068 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:13:49,071 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:13:49,074 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:13:49,077 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:13:49,079 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 113 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:13:49,093 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:13:49,095 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:13:49,206 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 104 ms. Found 6 JPA repository interfaces.
2025-01-25 16:13:50,859 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:13:50,881 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:13:50,891 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:13:50,893 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:13:51,172 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:13:51,173 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4236 ms
2025-01-25 16:13:51,423 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:13:51,803 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:13:51,807 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:13:51,826 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:13:52,169 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:13:52,170 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:13:52,171 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:13:52,255 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:13:52,264 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:13:52,303 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:13:52,309 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 16:13:52,317 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:13:52,363 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:13:52,387 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:13:52,465 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:13:52,480 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.065s)
2025-01-25 16:13:52,746 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:13:52,893 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:13:52,983 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:13:53,258 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:13:55,386 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:13:55,463 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:13:56,059 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:13:57,661 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:13:57,806 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d630ffa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32f6d000, org.springframework.security.web.context.SecurityContextHolderFilter@66cdde2b, org.springframework.security.web.header.HeaderWriterFilter@290798cb, org.springframework.security.web.authentication.logout.LogoutFilter@1390db9e, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@72c8af69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55a869a9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ba907cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bbc199a, org.springframework.security.web.session.SessionManagementFilter@ccdd8a6, org.springframework.security.web.access.ExceptionTranslationFilter@3f13ab39, org.springframework.security.web.access.intercept.AuthorizationFilter@7bbab132]
2025-01-25 16:13:57,825 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:13:57,825 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:13:59,117 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:13:59,166 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 54665 (http) with context path ''
2025-01-25 16:13:59,199 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.333 seconds (process running for 16.572)
2025-01-25 16:13:59,671 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:13:59,672 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:13:59,676 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 16:13:59,721 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:14:01,064 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:14:01,067 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:14:01,072 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:16:06,939 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:16:06,997 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 25596 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:16:06,998 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:16:06,999 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:16:09,727 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:16:09,731 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:16:09,840 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:16:09,846 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:16:09,849 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:16:09,853 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:16:09,856 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:16:09,860 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:16:09,862 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 119 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:16:09,886 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:16:09,889 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:16:09,991 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 95 ms. Found 6 JPA repository interfaces.
2025-01-25 16:16:11,625 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:16:11,643 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:16:11,647 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:16:11,648 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:16:11,911 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:16:11,913 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4575 ms
2025-01-25 16:16:12,160 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:16:12,611 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:16:12,616 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:16:12,641 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:16:13,021 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:16:13,021 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:16:13,022 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:16:13,104 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:16:13,113 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:16:13,153 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:16:13,159 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 16:16:13,169 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:16:13,216 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:16:13,245 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:16:13,338 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:16:13,351 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.077s)
2025-01-25 16:16:13,618 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:16:13,762 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:16:13,844 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:16:14,083 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:16:15,865 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:16:15,926 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:16:16,526 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:16:18,192 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:16:18,298 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3bf8feec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@486e3116, org.springframework.security.web.context.SecurityContextHolderFilter@f56c2a0, org.springframework.security.web.header.HeaderWriterFilter@5f0d1a0d, org.springframework.security.web.authentication.logout.LogoutFilter@3f77cd24, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@5f453412, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@dffa7ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4306191, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@230d0018, org.springframework.security.web.session.SessionManagementFilter@7655a302, org.springframework.security.web.access.ExceptionTranslationFilter@1b48c142, org.springframework.security.web.access.intercept.AuthorizationFilter@9acee30]
2025-01-25 16:16:18,327 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:16:18,327 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:16:19,635 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:16:19,687 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 54799 (http) with context path ''
2025-01-25 16:16:19,726 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.442 seconds (process running for 17.184)
2025-01-25 16:16:20,203 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:16:20,204 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:16:20,207 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2025-01-25 16:16:20,234 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:16:20,446 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:16:21,439 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:16:21,443 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:16:21,446 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:18:39,141 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:18:39,243 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 23664 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:18:39,245 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:18:39,247 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:18:41,961 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:18:41,964 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:18:42,049 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:18:42,054 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:18:42,059 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:18:42,063 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:18:42,066 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:18:42,071 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:18:42,072 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 100 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:18:42,087 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:18:42,089 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:18:42,190 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 92 ms. Found 6 JPA repository interfaces.
2025-01-25 16:18:43,884 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:18:43,902 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:18:43,906 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:18:43,907 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:18:44,178 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:18:44,178 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4444 ms
2025-01-25 16:18:44,436 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:18:44,814 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:18:44,817 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:18:44,834 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:18:45,174 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:18:45,176 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:18:45,177 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:18:45,254 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:18:45,263 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:18:45,301 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:18:45,307 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 16:18:45,317 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:18:45,354 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:18:45,376 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:18:45,447 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:18:45,460 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.060s)
2025-01-25 16:18:45,650 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:18:45,782 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:18:45,867 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:18:46,104 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:18:48,023 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:18:48,087 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:18:48,688 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:18:50,310 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:18:50,415 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48c372db, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9acee30, org.springframework.security.web.context.SecurityContextHolderFilter@7655a302, org.springframework.security.web.header.HeaderWriterFilter@3dc238ae, org.springframework.security.web.authentication.logout.LogoutFilter@39562fc2, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@14426256, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e530ccc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d4a6213, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3408fdb8, org.springframework.security.web.session.SessionManagementFilter@287cd9b2, org.springframework.security.web.access.ExceptionTranslationFilter@5da1f9b9, org.springframework.security.web.access.intercept.AuthorizationFilter@6325ef80]
2025-01-25 16:18:50,431 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:18:50,432 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:18:51,699 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:18:51,747 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 54940 (http) with context path ''
2025-01-25 16:18:51,782 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.353 seconds (process running for 17.904)
2025-01-25 16:18:52,222 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:18:52,222 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:18:52,224 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:18:52,254 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:18:52,464 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:18:53,983 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:18:53,989 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:18:53,994 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:21:12,580 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:21:12,656 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 19004 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:21:12,657 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:21:12,658 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:21:15,438 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:21:15,441 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:21:15,532 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:21:15,536 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:21:15,540 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:21:15,545 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:21:15,549 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:21:15,554 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:21:15,556 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 106 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:21:15,583 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:21:15,585 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:21:15,692 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 100 ms. Found 6 JPA repository interfaces.
2025-01-25 16:21:17,742 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:21:17,762 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:21:17,767 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:21:17,768 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:21:18,055 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:21:18,056 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5019 ms
2025-01-25 16:21:18,389 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:21:18,807 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:21:18,811 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:21:18,837 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:21:19,190 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:21:19,191 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:21:19,192 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:21:19,267 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:21:19,274 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:21:19,321 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:21:19,327 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.031s)
2025-01-25 16:21:19,338 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:21:19,381 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:21:19,423 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:21:19,493 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:21:19,504 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.060s)
2025-01-25 16:21:19,734 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:21:19,866 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:21:19,942 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:21:20,172 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:21:22,214 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:21:22,285 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:21:22,917 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:21:24,841 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:21:24,960 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@425cf933, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5901caf8, org.springframework.security.web.context.SecurityContextHolderFilter@1cd6769b, org.springframework.security.web.header.HeaderWriterFilter@68321229, org.springframework.security.web.authentication.logout.LogoutFilter@697c9218, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@60af08b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69ef3847, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39e16443, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e39b656, org.springframework.security.web.session.SessionManagementFilter@eb2ce99, org.springframework.security.web.access.ExceptionTranslationFilter@5c8ec2f6, org.springframework.security.web.access.intercept.AuthorizationFilter@53b83e49]
2025-01-25 16:21:24,978 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:21:24,978 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:21:26,371 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:21:26,430 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 55104 (http) with context path ''
2025-01-25 16:21:26,460 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.637 seconds (process running for 18.239)
2025-01-25 16:21:26,931 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:21:26,932 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:21:26,934 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:21:26,961 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:21:27,416 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:21:27,431 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:21:27,528 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:21:27,648 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:21:27,660 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:21:28,612 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:21:28,616 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:21:28,621 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:26:10,941 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:26:11,019 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 2064 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:26:11,020 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:26:11,021 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:26:13,669 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:26:13,672 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:26:13,780 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:26:13,786 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:26:13,789 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:26:13,793 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:26:13,796 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:26:13,803 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:26:13,804 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 123 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:26:13,825 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:26:13,827 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:26:13,948 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 111 ms. Found 6 JPA repository interfaces.
2025-01-25 16:26:15,689 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:26:15,709 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:26:15,717 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:26:15,718 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:26:15,987 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:26:15,989 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4569 ms
2025-01-25 16:26:16,251 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:26:16,624 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:26:16,628 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:26:16,649 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:26:16,992 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:26:16,992 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:26:16,993 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:26:17,074 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:26:17,084 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:26:17,126 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:26:17,130 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.027s)
2025-01-25 16:26:17,139 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:26:17,179 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:26:17,195 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:26:17,261 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:26:17,273 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.058s)
2025-01-25 16:26:17,494 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:26:17,621 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:26:17,697 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:26:17,941 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:26:19,848 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:26:19,909 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:26:20,505 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:26:22,117 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:26:22,228 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@796ed904, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7991e022, org.springframework.security.web.context.SecurityContextHolderFilter@746f2b91, org.springframework.security.web.header.HeaderWriterFilter@452d71e5, org.springframework.security.web.authentication.logout.LogoutFilter@74baefb0, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@563f53d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ff1d29, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ff61c95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4743220d, org.springframework.security.web.session.SessionManagementFilter@2404ab3a, org.springframework.security.web.access.ExceptionTranslationFilter@2006673c, org.springframework.security.web.access.intercept.AuthorizationFilter@3033e54c]
2025-01-25 16:26:22,244 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:26:22,245 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:26:23,652 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:26:23,711 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 55443 (http) with context path ''
2025-01-25 16:26:23,758 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.516 seconds (process running for 18.753)
2025-01-25 16:26:24,351 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:26:24,351 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:26:24,354 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 16:26:24,384 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:26:24,859 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:26:24,873 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:26:24,966 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:26:25,093 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:26:25,107 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:26:25,228 INFO  [SpringApplicationShutdownHook] o.a.coyote.http11.Http11NioProtocol: Stopping ProtocolHandler ["http-nio-auto-1-55443"]
2025-01-25 16:26:26,118 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:26:26,122 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:26:26,127 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:30:39,414 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:30:39,483 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 4756 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:30:39,484 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:30:39,485 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:30:41,897 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:30:41,900 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:30:41,989 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:30:41,995 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:30:41,998 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:30:42,001 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:30:42,005 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:30:42,008 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:30:42,010 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 99 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:30:42,025 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:30:42,028 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:30:42,146 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 111 ms. Found 6 JPA repository interfaces.
2025-01-25 16:30:43,795 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:30:43,811 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:30:43,816 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:30:43,817 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:30:44,072 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:30:44,073 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4260 ms
2025-01-25 16:30:44,340 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:30:44,706 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:30:44,710 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:30:44,731 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:30:45,068 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:30:45,069 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:30:45,070 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:30:45,189 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:30:45,200 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:30:45,245 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:30:45,253 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.032s)
2025-01-25 16:30:45,267 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:30:45,321 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:30:45,348 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:30:45,424 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:30:45,435 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.067s)
2025-01-25 16:30:45,677 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:30:45,809 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:30:45,891 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:30:46,116 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:30:47,935 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:30:47,993 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:30:48,625 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:30:50,271 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:30:50,379 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32f6d000, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@bbc199a, org.springframework.security.web.context.SecurityContextHolderFilter@5d9cd8b7, org.springframework.security.web.header.HeaderWriterFilter@4b91ac30, org.springframework.security.web.authentication.logout.LogoutFilter@27551c3a, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@4ca3e806, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37711f1a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@eb2ce99, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@325f9758, org.springframework.security.web.session.SessionManagementFilter@734901c1, org.springframework.security.web.access.ExceptionTranslationFilter@1bb3d045, org.springframework.security.web.access.intercept.AuthorizationFilter@148d7cfa]
2025-01-25 16:30:50,395 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:30:50,395 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:30:51,727 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:30:51,781 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 55737 (http) with context path ''
2025-01-25 16:30:51,820 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.007 seconds (process running for 16.243)
2025-01-25 16:30:52,291 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:30:52,292 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:30:52,296 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 4 ms
2025-01-25 16:30:52,319 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:30:52,761 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:30:52,776 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:30:52,920 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:30:52,967 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:30:52,969 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:30:53,007 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:30:53,029 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:30:53,050 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 16:30:53,075 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:30:53,109 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:30:53,113 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:30:53,131 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:30:53,166 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:30:53,197 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:30:54,439 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:30:54,444 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:30:54,448 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:31:31,561 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:31:31,638 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 13228 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:31:31,639 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:31:31,640 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:31:34,423 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:31:34,429 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:31:34,656 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:31:34,664 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:31:34,669 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:31:34,674 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:31:34,679 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:31:34,686 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:31:34,687 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 246 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:31:34,711 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:31:34,715 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:31:34,864 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 140 ms. Found 6 JPA repository interfaces.
2025-01-25 16:31:37,788 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:31:37,840 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:31:37,845 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:31:37,847 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:31:38,291 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:31:38,293 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 6270 ms
2025-01-25 16:31:38,707 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:31:39,243 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:31:39,249 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:31:39,274 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:31:39,761 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:31:39,762 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:31:39,762 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:31:39,869 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:31:39,880 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:31:39,932 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:31:39,939 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.033s)
2025-01-25 16:31:39,954 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:31:40,020 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:31:40,049 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:31:40,128 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:31:40,141 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.069s)
2025-01-25 16:31:40,400 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:31:40,574 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:31:40,692 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:31:41,345 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:31:44,042 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:31:44,120 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:31:44,924 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:31:47,227 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:31:47,357 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68c7162b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e4d3c2e, org.springframework.security.web.context.SecurityContextHolderFilter@4ba61340, org.springframework.security.web.header.HeaderWriterFilter@5802572b, org.springframework.security.web.authentication.logout.LogoutFilter@18e69455, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6c633590, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6df37cc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@489f5b24, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@593fcbe7, org.springframework.security.web.session.SessionManagementFilter@2b82254b, org.springframework.security.web.access.ExceptionTranslationFilter@7959747d, org.springframework.security.web.access.intercept.AuthorizationFilter@62ccf42c]
2025-01-25 16:31:47,374 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:31:47,375 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:31:49,011 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:31:49,067 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 55820 (http) with context path ''
2025-01-25 16:31:49,113 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 18.258 seconds (process running for 20.702)
2025-01-25 16:31:49,788 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:31:49,789 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:31:49,791 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:31:49,822 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:50,246 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:31:50,259 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:31:50,384 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:50,532 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:31:50,553 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:50,593 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:50,595 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:31:50,617 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:31:50,648 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:50,660 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:31:50,687 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:50,741 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:50,745 ERROR [http-nio-auto-1-exec-7] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:31:50,766 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:50,795 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:50,832 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:31:51,739 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:31:51,744 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:31:51,749 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:32:44,625 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:32:44,693 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 24740 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:32:44,694 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:32:44,695 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:32:47,308 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:32:47,312 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:32:47,424 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:32:47,428 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:32:47,432 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:32:47,435 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:32:47,440 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:32:47,445 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:32:47,447 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 115 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:32:47,461 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:32:47,464 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:32:47,581 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 109 ms. Found 6 JPA repository interfaces.
2025-01-25 16:32:49,276 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:32:49,296 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:32:49,299 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:32:49,300 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:32:49,561 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:32:49,562 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4541 ms
2025-01-25 16:32:49,815 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:32:50,183 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:32:50,186 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:32:50,208 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:32:50,540 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:32:50,541 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:32:50,542 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:32:50,632 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:32:50,639 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:32:50,678 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:32:50,683 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 16:32:50,694 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:32:50,732 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:32:50,752 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:32:50,817 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:32:50,831 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 16:32:51,017 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:32:51,132 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:32:51,203 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:32:51,703 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:32:53,933 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:32:54,033 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:32:54,821 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:32:56,598 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:32:56,719 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1bb59da3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cee6eb7, org.springframework.security.web.context.SecurityContextHolderFilter@6df37cc4, org.springframework.security.web.header.HeaderWriterFilter@31419d4a, org.springframework.security.web.authentication.logout.LogoutFilter@775b3762, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@219a9b16, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@402e48d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22974eba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b29f03e, org.springframework.security.web.session.SessionManagementFilter@c2a7ded, org.springframework.security.web.access.ExceptionTranslationFilter@4184bced, org.springframework.security.web.access.intercept.AuthorizationFilter@68c7162b]
2025-01-25 16:32:56,739 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:32:56,740 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:32:58,118 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:32:58,165 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 55890 (http) with context path ''
2025-01-25 16:32:58,202 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.13 seconds (process running for 16.186)
2025-01-25 16:32:58,851 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:32:58,851 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:32:58,853 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:32:58,877 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:32:59,314 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:32:59,328 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:32:59,462 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:32:59,640 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:32:59,661 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:32:59,695 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:32:59,697 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:32:59,723 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:32:59,755 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:32:59,764 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:32:59,780 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:32:59,792 WARN  [http-nio-auto-1-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 16:32:59,793 ERROR [http-nio-auto-1-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72 ON PUBLIC.ADMINS(CONTACT NULLS FIRST) VALUES ( /* 1 */ '+531 990-900-000' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 16:32:59,839 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:32:59,843 ERROR [http-nio-auto-1-exec-7] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:32:59,862 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:32:59,887 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:32:59,894 WARN  [http-nio-auto-1-exec-9] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 16:32:59,894 ERROR [http-nio-auto-1-exec-9] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72 ON PUBLIC.ADMINS(CONTACT NULLS FIRST) VALUES ( /* 1 */ '+531 990-900-000' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 16:32:59,918 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:00,821 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:33:00,826 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:33:00,831 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:33:35,768 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:33:35,869 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 3052 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:33:35,871 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:33:35,872 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:33:38,495 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:33:38,499 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:33:38,617 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:33:38,623 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:33:38,628 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:33:38,636 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:33:38,640 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:33:38,644 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:33:38,646 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 136 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:33:38,663 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:33:38,665 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:33:38,775 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 101 ms. Found 6 JPA repository interfaces.
2025-01-25 16:33:40,433 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:33:40,449 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:33:40,453 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:33:40,454 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:33:40,705 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:33:40,707 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4424 ms
2025-01-25 16:33:40,948 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:33:41,339 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:33:41,345 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:33:41,365 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:33:41,676 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:33:41,677 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:33:41,677 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:33:41,754 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:33:41,764 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:33:41,805 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:33:41,813 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 16:33:41,826 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:33:41,875 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:33:41,898 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:33:41,968 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:33:41,980 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.058s)
2025-01-25 16:33:42,191 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:33:42,350 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:33:42,446 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:33:42,947 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:33:45,030 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:33:45,091 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:33:45,668 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:33:47,379 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:33:47,520 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b13aca4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bb59da3, org.springframework.security.web.context.SecurityContextHolderFilter@16344151, org.springframework.security.web.header.HeaderWriterFilter@7b303608, org.springframework.security.web.authentication.logout.LogoutFilter@5b33446d, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@3744c760, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e1a349, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@106361e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cee6eb7, org.springframework.security.web.session.SessionManagementFilter@3638ae1c, org.springframework.security.web.access.ExceptionTranslationFilter@73ccc475, org.springframework.security.web.access.intercept.AuthorizationFilter@6d2fe236]
2025-01-25 16:33:47,537 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:33:47,538 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:33:49,008 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:33:49,055 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 55948 (http) with context path ''
2025-01-25 16:33:49,099 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.039 seconds (process running for 16.184)
2025-01-25 16:33:49,846 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:33:49,847 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:33:49,850 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 16:33:49,881 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:50,293 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:33:50,306 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:33:50,433 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:50,560 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:33:50,581 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:50,618 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:50,620 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:33:50,642 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:33:50,671 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:50,680 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:33:50,699 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:50,710 WARN  [http-nio-auto-1-exec-7] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 16:33:50,711 ERROR [http-nio-auto-1-exec-7] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72C ON PUBLIC.ADMINS(ADMIN_CODE NULLS FIRST) VALUES ( /* 1 */ 'ADM-001' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 16:33:50,758 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:50,763 ERROR [http-nio-auto-1-exec-8] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:33:50,781 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:50,808 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:50,816 WARN  [http-nio-auto-1-exec-10] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 16:33:50,817 ERROR [http-nio-auto-1-exec-10] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72C ON PUBLIC.ADMINS(ADMIN_CODE NULLS FIRST) VALUES ( /* 1 */ 'ADM-001' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 16:33:50,841 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:33:51,858 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:33:51,862 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:33:51,865 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:34:19,516 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:34:19,595 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 24304 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:34:19,596 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:34:19,598 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:34:22,096 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:34:22,099 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:34:22,213 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:34:22,219 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:34:22,223 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:34:22,227 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:34:22,231 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:34:22,236 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:34:22,238 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 130 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:34:22,257 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:34:22,259 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:34:22,375 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 106 ms. Found 6 JPA repository interfaces.
2025-01-25 16:34:24,210 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:34:24,222 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:34:24,226 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:34:24,226 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:34:24,471 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:34:24,472 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4487 ms
2025-01-25 16:34:24,719 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:34:25,149 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:34:25,155 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:34:25,176 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:34:25,526 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:34:25,527 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:34:25,528 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:34:25,601 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:34:25,610 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:34:25,650 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:34:25,655 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.027s)
2025-01-25 16:34:25,664 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:34:25,707 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:34:25,729 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:34:25,798 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:34:25,812 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 16:34:26,016 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:34:26,160 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:34:26,240 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:34:26,719 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:34:28,714 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:34:28,776 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:34:29,409 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:34:31,164 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:34:31,289 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54e24511, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c95440d, org.springframework.security.web.context.SecurityContextHolderFilter@462b3fc7, org.springframework.security.web.header.HeaderWriterFilter@35cf5d9, org.springframework.security.web.authentication.logout.LogoutFilter@22974eba, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@482652f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73ccc475, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ee16a4e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77dd0ac9, org.springframework.security.web.session.SessionManagementFilter@31f151ff, org.springframework.security.web.access.ExceptionTranslationFilter@55c7ba5, org.springframework.security.web.access.intercept.AuthorizationFilter@5cdd90c4]
2025-01-25 16:34:31,307 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:34:31,308 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:34:32,616 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:34:32,661 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 55984 (http) with context path ''
2025-01-25 16:34:32,699 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.909 seconds (process running for 16.362)
2025-01-25 16:34:33,378 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:34:33,378 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:34:33,380 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:34:33,406 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:33,849 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:34:33,866 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:34:34,010 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,214 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:34:34,236 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,280 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,283 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:34:34,308 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:34:34,338 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,350 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:34:34,372 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,381 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:34:34,382 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:34:34,392 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,414 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:34:34,423 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,500 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,504 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:34:34,527 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,570 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:34,616 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:34:35,597 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:34:35,601 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:34:35,606 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:39:13,752 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:39:13,838 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 5360 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:39:13,839 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:39:13,841 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:39:16,739 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:39:16,742 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:39:16,868 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:39:16,874 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:39:16,878 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:39:16,882 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:39:16,887 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:39:16,891 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:39:16,893 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 128 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:39:16,913 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:39:16,916 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:39:17,039 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 113 ms. Found 6 JPA repository interfaces.
2025-01-25 16:39:18,997 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:39:19,016 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:39:19,021 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:39:19,022 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:39:19,280 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:39:19,281 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4989 ms
2025-01-25 16:39:19,545 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:39:19,925 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:39:19,928 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:39:19,945 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:39:20,264 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:39:20,265 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:39:20,266 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:39:20,346 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:39:20,356 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:39:20,401 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:39:20,406 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 16:39:20,417 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:39:20,458 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:39:20,479 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:39:20,544 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:39:20,558 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 16:39:20,759 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:39:20,875 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:39:20,943 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:39:21,458 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:39:23,946 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:39:24,026 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:39:24,671 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:39:26,384 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:39:26,508 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1bd7dd4a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@bbe07e5, org.springframework.security.web.context.SecurityContextHolderFilter@1f619466, org.springframework.security.web.header.HeaderWriterFilter@124bc9fa, org.springframework.security.web.authentication.logout.LogoutFilter@3dcb28de, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@5c5cd332, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@620bfd8c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48d1f239, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c089fbc, org.springframework.security.web.session.SessionManagementFilter@201cc412, org.springframework.security.web.access.ExceptionTranslationFilter@4f0e6be, org.springframework.security.web.access.intercept.AuthorizationFilter@1069baea]
2025-01-25 16:39:26,523 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:39:26,523 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:39:27,863 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:39:27,918 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56262 (http) with context path ''
2025-01-25 16:39:27,974 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.888 seconds (process running for 17.33)
2025-01-25 16:39:28,702 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:39:28,703 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:39:28,706 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:39:28,732 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,124 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:39:29,138 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:39:29,231 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,238 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:39:29,240 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:39:29,276 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,357 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,386 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,421 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,453 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,478 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,500 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,525 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:29,551 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:39:30,482 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:39:30,485 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:39:30,490 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:40:04,221 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:40:04,287 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 6280 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:40:04,288 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:40:04,289 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:40:06,873 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:40:06,877 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:40:06,981 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:40:06,987 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:40:06,998 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:40:07,002 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:40:07,006 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:40:07,010 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:40:07,011 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 124 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:40:07,028 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:40:07,030 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:40:07,141 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 104 ms. Found 6 JPA repository interfaces.
2025-01-25 16:40:08,834 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:40:08,851 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:40:08,855 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:40:08,856 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:40:09,097 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:40:09,098 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4459 ms
2025-01-25 16:40:09,342 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:40:09,731 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:40:09,736 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:40:09,757 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:40:10,100 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:40:10,101 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:40:10,103 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:40:10,203 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:40:10,216 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:40:10,267 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:40:10,273 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.032s)
2025-01-25 16:40:10,290 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:40:10,361 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:40:10,382 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:40:10,462 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:40:10,474 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 16:40:10,667 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:40:10,790 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:40:10,863 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:40:11,358 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:40:13,545 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:40:13,607 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:40:14,269 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:40:16,064 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:40:16,172 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@397fd951, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d2fe236, org.springframework.security.web.context.SecurityContextHolderFilter@3638ae1c, org.springframework.security.web.header.HeaderWriterFilter@117bb3a4, org.springframework.security.web.authentication.logout.LogoutFilter@77dd0ac9, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@1cfa5e46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@492e988c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d89f87d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68c7162b, org.springframework.security.web.session.SessionManagementFilter@9a1b870, org.springframework.security.web.access.ExceptionTranslationFilter@e8f7aa3, org.springframework.security.web.access.intercept.AuthorizationFilter@327dcf8c]
2025-01-25 16:40:16,190 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:40:16,191 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:40:17,518 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:40:17,571 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56314 (http) with context path ''
2025-01-25 16:40:17,608 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.155 seconds (process running for 16.851)
2025-01-25 16:40:18,311 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:40:18,312 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:40:18,314 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:40:18,339 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:18,743 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:40:18,757 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:40:18,885 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,019 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:40:19,041 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,074 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,076 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:40:19,098 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:40:19,125 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,136 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:40:19,156 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,165 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:40:19,166 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:40:19,176 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,196 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:40:19,204 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,276 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,280 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:40:19,297 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,318 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:19,371 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:40:20,244 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:40:20,247 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:40:20,250 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:42:37,882 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:42:37,966 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 4400 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:42:37,967 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:42:37,969 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:42:40,476 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:42:40,480 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:42:40,585 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:42:40,589 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:42:40,592 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:42:40,595 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:42:40,598 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:42:40,601 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:42:40,603 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 115 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:42:40,620 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:42:40,621 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:42:40,739 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 109 ms. Found 6 JPA repository interfaces.
2025-01-25 16:42:42,445 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:42:42,465 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:42:42,471 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:42:42,472 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:42:42,734 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:42:42,735 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4386 ms
2025-01-25 16:42:42,976 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:42:43,368 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:42:43,372 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:42:43,410 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:42:43,746 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:42:43,747 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:42:43,748 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:42:43,824 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:42:43,834 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:42:43,874 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:42:43,878 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 16:42:43,887 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:42:43,926 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:42:43,945 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:42:44,016 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:42:44,030 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.059s)
2025-01-25 16:42:44,257 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:42:44,391 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:42:44,469 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:42:44,989 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:42:47,040 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:42:47,117 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:42:47,778 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:42:49,422 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:42:49,534 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f75c413, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61f990b, org.springframework.security.web.context.SecurityContextHolderFilter@2c8d8934, org.springframework.security.web.header.HeaderWriterFilter@48720dcf, org.springframework.security.web.authentication.logout.LogoutFilter@16209621, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@64514009, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f1502d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5fa49615, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c63146c, org.springframework.security.web.session.SessionManagementFilter@5d0d1e50, org.springframework.security.web.access.ExceptionTranslationFilter@58507830, org.springframework.security.web.access.intercept.AuthorizationFilter@616f1c2e]
2025-01-25 16:42:49,551 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:42:49,552 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:42:50,814 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:42:50,862 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56476 (http) with context path ''
2025-01-25 16:42:50,900 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.757 seconds (process running for 16.46)
2025-01-25 16:42:51,596 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:42:51,596 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:42:51,598 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:42:51,621 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,051 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:42:52,066 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:42:52,195 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,358 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:42:52,382 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,421 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,424 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:42:52,448 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:42:52,473 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,486 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:42:52,510 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,519 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:42:52,521 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:42:52,531 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,550 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:42:52,560 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,638 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,642 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:42:52,664 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,687 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,696 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 16:42:52,698 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 16:42:52,705 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,725 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 16:42:52,740 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:52,772 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:42:53,672 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:42:53,677 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:42:53,682 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:46:29,625 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:46:29,710 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 6168 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:46:29,711 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:46:29,713 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:46:32,392 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:46:32,406 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:46:32,518 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:46:32,522 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:46:32,526 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:46:32,529 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:46:32,533 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:46:32,537 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:46:32,539 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 119 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:46:32,558 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:46:32,561 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:46:32,686 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 116 ms. Found 6 JPA repository interfaces.
2025-01-25 16:46:34,440 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:46:34,456 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:46:34,461 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:46:34,462 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:46:34,760 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:46:34,762 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4680 ms
2025-01-25 16:46:35,063 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:46:35,506 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:46:35,510 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:46:35,527 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:46:35,871 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:46:35,871 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:46:35,872 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:46:35,954 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:46:35,964 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:46:36,004 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:46:36,010 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 16:46:36,043 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:46:36,085 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:46:36,109 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:46:36,178 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:46:36,194 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 16:46:36,395 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:46:36,509 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:46:36,581 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:46:37,064 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:46:39,419 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:46:39,481 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:46:42,939 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:46:47,474 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:46:47,594 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e1321fd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3af5f0da, org.springframework.security.web.context.SecurityContextHolderFilter@c3acda3, org.springframework.security.web.header.HeaderWriterFilter@46eb5c0c, org.springframework.security.web.authentication.logout.LogoutFilter@593fcbe7, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@589c648, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a17c516, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22d522d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b92cdf9, org.springframework.security.web.session.SessionManagementFilter@510579b9, org.springframework.security.web.access.ExceptionTranslationFilter@c2a7ded, org.springframework.security.web.access.intercept.AuthorizationFilter@6bd8d8a7]
2025-01-25 16:46:47,610 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:46:47,612 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:46:49,141 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:46:49,216 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56720 (http) with context path ''
2025-01-25 16:46:49,269 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 20.391 seconds (process running for 22.778)
2025-01-25 16:46:50,103 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:46:50,104 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:46:50,107 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 16:46:50,140 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:50,830 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:46:50,849 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:46:51,030 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:51,224 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:46:51,258 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:51,307 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:51,310 INFO  [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:46:51,337 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:46:51,379 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:51,392 INFO  [http-nio-auto-1-exec-6] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:46:51,439 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:51,494 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:51,499 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:46:51,522 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:51,551 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:51,589 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:46:52,675 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:46:52,678 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:46:52,682 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:47:13,678 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:47:13,740 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 25012 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:47:13,742 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:47:13,744 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:47:15,882 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:47:15,885 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:47:15,969 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:47:15,972 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:47:15,981 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:47:15,985 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:47:15,989 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:47:15,992 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:47:15,994 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 99 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:47:16,007 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:47:16,009 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:47:16,112 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 97 ms. Found 6 JPA repository interfaces.
2025-01-25 16:47:17,510 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:47:17,523 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:47:17,528 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:47:17,528 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:47:17,734 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:47:17,735 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3694 ms
2025-01-25 16:47:17,935 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:47:18,263 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:47:18,265 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:47:18,279 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:47:18,559 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:47:18,560 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:47:18,561 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:47:18,630 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:47:18,637 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:47:18,674 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:47:18,680 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 16:47:18,691 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:47:18,728 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:47:18,761 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:47:18,824 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:47:18,837 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.052s)
2025-01-25 16:47:19,029 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:47:19,151 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:47:19,232 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:47:19,705 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:47:21,693 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:47:21,771 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:47:22,361 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:47:24,010 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:47:24,120 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cee6eb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b29f03e, org.springframework.security.web.context.SecurityContextHolderFilter@7b3c411f, org.springframework.security.web.header.HeaderWriterFilter@220f2d1b, org.springframework.security.web.authentication.logout.LogoutFilter@114b81af, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@3699c795, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1daf79ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6631e6af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d891373, org.springframework.security.web.session.SessionManagementFilter@4ba61340, org.springframework.security.web.access.ExceptionTranslationFilter@117bb3a4, org.springframework.security.web.access.intercept.AuthorizationFilter@1e4d3c2e]
2025-01-25 16:47:24,135 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:47:24,136 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:47:25,470 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:47:25,517 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56767 (http) with context path ''
2025-01-25 16:47:25,557 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 12.453 seconds (process running for 14.421)
2025-01-25 16:47:26,286 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:47:26,287 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:47:26,289 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:47:26,321 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:26,849 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:47:26,865 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:47:27,005 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:27,132 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:47:27,154 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:27,190 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:27,192 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:47:27,213 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:47:27,243 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:27,255 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:47:27,281 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:27,323 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:27,327 ERROR [http-nio-auto-1-exec-7] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:47:27,348 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:27,369 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:27,406 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:47:28,248 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:47:28,252 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:47:28,257 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:48:27,531 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:48:27,618 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 10340 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:48:27,619 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:48:27,621 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:48:30,139 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:48:30,154 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:48:30,258 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:48:30,262 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:48:30,266 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:48:30,269 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:48:30,272 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:48:30,276 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:48:30,277 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 113 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:48:30,295 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:48:30,297 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:48:30,410 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 105 ms. Found 6 JPA repository interfaces.
2025-01-25 16:48:32,135 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:48:32,155 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:48:32,162 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:48:32,163 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:48:32,424 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:48:32,425 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4448 ms
2025-01-25 16:48:32,688 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:48:33,089 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:48:33,093 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:48:33,109 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:48:33,431 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:48:33,432 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:48:33,432 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:48:33,509 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:48:33,517 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:48:33,564 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:48:33,572 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.030s)
2025-01-25 16:48:33,584 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:48:33,630 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:48:33,655 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:48:33,733 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:48:33,745 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.066s)
2025-01-25 16:48:33,925 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:48:34,042 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:48:34,116 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:48:34,722 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:48:36,910 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:48:36,983 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:48:37,674 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:48:39,446 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:48:39,553 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59c9e3b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45bedfed, org.springframework.security.web.context.SecurityContextHolderFilter@234523e, org.springframework.security.web.header.HeaderWriterFilter@e071deb, org.springframework.security.web.authentication.logout.LogoutFilter@3b89bf47, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@25fa5c0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79e0f00b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69e67993, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7269674d, org.springframework.security.web.session.SessionManagementFilter@7680cb52, org.springframework.security.web.access.ExceptionTranslationFilter@2e9f3b74, org.springframework.security.web.access.intercept.AuthorizationFilter@3faadc24]
2025-01-25 16:48:39,570 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:48:39,571 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:48:40,834 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:48:40,884 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56848 (http) with context path ''
2025-01-25 16:48:40,924 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.074 seconds (process running for 17.091)
2025-01-25 16:48:41,651 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:48:41,652 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:48:41,654 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2025-01-25 16:48:41,688 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,133 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:48:42,146 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:48:42,274 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,429 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:48:42,449 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,486 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,488 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:48:42,511 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:48:42,542 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,553 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:48:42,573 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,581 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:48:42,582 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:48:42,592 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,608 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:48:42,617 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,701 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,708 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:48:42,729 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,749 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:42,761 WARN  [http-nio-auto-1-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 16:48:42,762 ERROR [http-nio-auto-1-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72 ON PUBLIC.ADMINS(CONTACT NULLS FIRST) VALUES ( /* 2 */ '+351 234-456-788' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 16:48:42,808 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:48:43,680 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:48:43,683 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:48:43,688 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:49:58,774 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:49:58,838 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 12068 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:49:58,839 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:49:58,841 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:50:01,445 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:50:01,449 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:50:01,614 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:01,620 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:01,625 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:01,630 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:01,634 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:01,639 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:01,642 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 164 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:50:01,666 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:50:01,668 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:50:01,870 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 187 ms. Found 6 JPA repository interfaces.
2025-01-25 16:50:04,048 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:50:04,067 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:50:04,072 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:50:04,073 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:50:04,403 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:50:04,404 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5212 ms
2025-01-25 16:50:04,657 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:50:05,043 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:50:05,048 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:50:05,065 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:50:05,409 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:50:05,410 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:50:05,411 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:50:05,489 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:50:05,498 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:50:05,542 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:50:05,548 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.028s)
2025-01-25 16:50:05,558 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:50:05,600 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:50:05,617 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:50:05,686 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:50:05,698 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 16:50:05,896 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:50:06,012 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:50:06,086 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:50:06,578 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:50:08,619 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:50:08,679 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:50:09,288 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:50:10,983 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:50:11,105 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54e24511, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c95440d, org.springframework.security.web.context.SecurityContextHolderFilter@462b3fc7, org.springframework.security.web.header.HeaderWriterFilter@35cf5d9, org.springframework.security.web.authentication.logout.LogoutFilter@22974eba, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7b0a864e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73ccc475, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ee16a4e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77dd0ac9, org.springframework.security.web.session.SessionManagementFilter@31f151ff, org.springframework.security.web.access.ExceptionTranslationFilter@55c7ba5, org.springframework.security.web.access.intercept.AuthorizationFilter@5cdd90c4]
2025-01-25 16:50:11,122 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:50:11,123 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:50:12,412 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:50:12,465 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56940 (http) with context path ''
2025-01-25 16:50:12,511 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.435 seconds (process running for 16.841)
2025-01-25 16:50:13,268 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:50:13,269 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:50:13,272 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:50:13,300 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:13,718 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:50:13,733 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:50:13,862 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:13,995 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:50:14,018 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,054 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,056 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:50:14,077 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:50:14,105 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,118 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:50:14,136 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,144 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:50:14,146 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:50:14,156 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,174 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:50:14,181 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,251 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,256 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:50:14,274 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,296 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,308 WARN  [http-nio-auto-1-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 16:50:14,309 ERROR [http-nio-auto-1-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72 ON PUBLIC.ADMINS(CONTACT NULLS FIRST) VALUES ( /* 2 */ '+351 234-456-788' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 16:50:14,356 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:50:14,361 ERROR [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:50:15,378 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:50:15,382 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:50:15,387 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:50:46,429 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:50:46,505 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 20528 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:50:46,507 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:50:46,508 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:50:48,873 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:50:48,875 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:50:48,978 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:48,984 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:48,992 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:48,995 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:49,000 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:49,005 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:50:49,007 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 122 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:50:49,025 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:50:49,028 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:50:49,132 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 95 ms. Found 6 JPA repository interfaces.
2025-01-25 16:50:50,788 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:50:50,823 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:50:50,827 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:50:50,828 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:50:51,071 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:50:51,072 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4214 ms
2025-01-25 16:50:51,331 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:50:51,726 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:50:51,730 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:50:51,750 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:50:52,087 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:50:52,087 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:50:52,088 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:50:52,172 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:50:52,181 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:50:52,221 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:50:52,227 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 16:50:52,237 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:50:52,286 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:50:52,309 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:50:52,380 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:50:52,394 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.064s)
2025-01-25 16:50:52,587 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:50:52,709 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:50:52,809 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:50:53,306 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:50:56,015 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:50:56,096 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:50:56,738 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:50:58,411 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:50:58,520 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b2235a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5af6378e, org.springframework.security.web.context.SecurityContextHolderFilter@f11fe28, org.springframework.security.web.header.HeaderWriterFilter@7680cb52, org.springframework.security.web.authentication.logout.LogoutFilter@61df07d0, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@2a3ced3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22479830, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f619466, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@205b3a1a, org.springframework.security.web.session.SessionManagementFilter@558fe3b0, org.springframework.security.web.access.ExceptionTranslationFilter@5047fc77, org.springframework.security.web.access.intercept.AuthorizationFilter@3662309d]
2025-01-25 16:50:58,535 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:50:58,536 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:50:59,807 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:50:59,856 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 56985 (http) with context path ''
2025-01-25 16:50:59,894 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.13 seconds (process running for 16.824)
2025-01-25 16:51:00,580 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:51:00,580 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:51:00,583 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:51:00,610 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,022 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:51:01,042 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:51:01,178 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,300 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:51:01,319 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,354 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,356 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:51:01,376 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:51:01,419 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,430 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:51:01,452 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,460 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:51:01,461 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:51:01,470 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,486 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:51:01,494 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,570 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,574 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:51:01,592 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,610 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,622 WARN  [http-nio-auto-1-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 16:51:01,623 ERROR [http-nio-auto-1-exec-2] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72 ON PUBLIC.ADMINS(CONTACT NULLS FIRST) VALUES ( /* 2 */ '+351 234-456-788' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 16:51:01,665 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:51:01,670 ERROR [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:51:02,492 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:51:02,494 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:51:02,499 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:55:44,169 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:55:44,248 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 2656 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:55:44,249 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:55:44,251 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:55:46,760 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:55:46,762 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:55:46,871 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:55:46,876 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:55:46,880 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:55:46,884 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:55:46,887 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:55:46,891 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:55:46,893 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 121 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:55:46,914 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:55:46,917 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:55:47,029 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 102 ms. Found 6 JPA repository interfaces.
2025-01-25 16:55:48,738 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:55:48,753 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:55:48,757 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:55:48,758 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:55:48,987 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:55:48,988 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4376 ms
2025-01-25 16:55:49,222 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:55:49,618 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:55:49,621 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:55:49,639 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:55:49,969 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:55:49,970 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:55:49,971 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:55:50,044 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:55:50,052 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:55:50,105 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:55:50,110 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 16:55:50,119 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:55:50,160 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:55:50,178 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:55:50,245 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:55:50,255 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.058s)
2025-01-25 16:55:50,444 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:55:50,559 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:55:50,635 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:55:51,120 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:55:53,105 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:55:53,163 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:55:53,865 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:55:55,817 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:55:55,941 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59f1c295, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1925be93, org.springframework.security.web.context.SecurityContextHolderFilter@b8da646, org.springframework.security.web.header.HeaderWriterFilter@2086dfb8, org.springframework.security.web.authentication.logout.LogoutFilter@3415ecfe, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@4df5b562, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@106361e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c3acda3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30a1e459, org.springframework.security.web.session.SessionManagementFilter@402e48d, org.springframework.security.web.access.ExceptionTranslationFilter@2ee16a4e, org.springframework.security.web.access.intercept.AuthorizationFilter@356285d9]
2025-01-25 16:55:55,962 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:55:55,963 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:55:57,323 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:55:57,373 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57306 (http) with context path ''
2025-01-25 16:55:57,414 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.935 seconds (process running for 16.518)
2025-01-25 16:55:58,086 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:55:58,087 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:55:58,089 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 16:55:58,120 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:58,528 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:55:58,542 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:55:58,667 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:58,789 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:55:58,809 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:58,844 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:58,846 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:55:58,866 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:55:58,894 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:58,906 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:55:58,928 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:58,937 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:55:58,938 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:55:58,949 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:58,968 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:55:58,976 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:59,061 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:59,065 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:55:59,084 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:59,107 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:59,115 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 16:55:59,117 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 16:55:59,133 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:59,148 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 16:55:59,161 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:59,186 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:55:59,189 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:56:00,016 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:56:00,020 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:56:00,024 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:56:45,307 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:56:45,388 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 5548 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:56:45,389 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:56:45,391 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:56:47,860 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:56:47,863 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:56:47,980 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:56:47,986 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:56:47,989 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:56:47,993 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:56:47,997 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:56:48,001 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:56:48,002 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 120 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:56:48,018 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:56:48,021 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:56:48,133 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 104 ms. Found 6 JPA repository interfaces.
2025-01-25 16:56:49,928 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:56:49,945 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:56:49,949 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:56:49,950 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:56:50,198 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:56:50,200 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4458 ms
2025-01-25 16:56:50,442 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:56:50,825 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:56:50,829 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:56:50,849 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:56:51,177 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:56:51,178 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:56:51,178 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:56:51,269 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:56:51,276 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:56:51,317 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:56:51,322 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.028s)
2025-01-25 16:56:51,331 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:56:51,372 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:56:51,393 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:56:51,457 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:56:51,469 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 16:56:51,663 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:56:51,784 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:56:51,863 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:56:52,364 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:56:54,513 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:56:54,589 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:56:55,360 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:56:57,091 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:56:57,200 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cee6eb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b29f03e, org.springframework.security.web.context.SecurityContextHolderFilter@7b3c411f, org.springframework.security.web.header.HeaderWriterFilter@220f2d1b, org.springframework.security.web.authentication.logout.LogoutFilter@114b81af, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@21e72fb2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1daf79ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6631e6af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d891373, org.springframework.security.web.session.SessionManagementFilter@4ba61340, org.springframework.security.web.access.ExceptionTranslationFilter@117bb3a4, org.springframework.security.web.access.intercept.AuthorizationFilter@1e4d3c2e]
2025-01-25 16:56:57,215 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:56:57,216 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:56:58,539 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:56:58,588 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57366 (http) with context path ''
2025-01-25 16:56:58,624 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.994 seconds (process running for 16.375)
2025-01-25 16:56:59,381 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:56:59,383 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:56:59,386 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 16:56:59,413 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:56:59,821 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:56:59,838 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:56:59,967 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,115 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:57:00,138 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,178 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,181 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:57:00,201 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:57:00,236 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,247 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:57:00,265 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,274 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:57:00,275 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:57:00,285 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,302 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:57:00,314 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,396 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,399 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:57:00,417 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,440 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,448 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 16:57:00,450 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 16:57:00,457 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,474 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 16:57:00,482 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,497 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 16:57:00,511 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 16:57:00,540 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:57:00,543 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:57:01,394 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:57:01,406 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:57:01,410 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:57:51,005 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:57:51,097 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 9192 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:57:51,099 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:57:51,100 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:57:53,551 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:57:53,555 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:57:53,670 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:57:53,676 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:57:53,688 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:57:53,705 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:57:53,709 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:57:53,714 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:57:53,716 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 148 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:57:53,737 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:57:53,739 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:57:53,871 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 123 ms. Found 6 JPA repository interfaces.
2025-01-25 16:57:55,819 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:57:55,843 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:57:55,848 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:57:55,850 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:57:56,136 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:57:56,137 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4667 ms
2025-01-25 16:57:56,376 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:57:56,743 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:57:56,748 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:57:56,782 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:57:57,104 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:57:57,105 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:57:57,105 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:57:57,174 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:57:57,181 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:57:57,221 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:57:57,227 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 16:57:57,238 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:57:57,276 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:57:57,292 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:57:57,353 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:57:57,367 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.049s)
2025-01-25 16:57:57,546 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:57:57,686 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:57:57,757 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:57:58,254 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:58:00,269 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:58:00,335 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:58:00,924 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:58:02,680 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:58:02,785 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13553b2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d0e2c96, org.springframework.security.web.context.SecurityContextHolderFilter@1727d525, org.springframework.security.web.header.HeaderWriterFilter@6b7a96e1, org.springframework.security.web.authentication.logout.LogoutFilter@56d9bc5f, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@222557fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9a1b870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16344151, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fa498b3, org.springframework.security.web.session.SessionManagementFilter@220f2d1b, org.springframework.security.web.access.ExceptionTranslationFilter@57441348, org.springframework.security.web.access.intercept.AuthorizationFilter@3d48674]
2025-01-25 16:58:02,802 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:58:02,803 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:58:04,037 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:58:04,098 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57444 (http) with context path ''
2025-01-25 16:58:04,132 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.832 seconds (process running for 15.79)
2025-01-25 16:58:04,918 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:58:04,918 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:58:04,921 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 16:58:04,945 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,364 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:58:05,377 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:58:05,508 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,644 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:58:05,664 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,701 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,704 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:58:05,726 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:58:05,758 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,771 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:58:05,794 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,802 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:58:05,804 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:58:05,814 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,831 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:58:05,838 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,909 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,912 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:58:05,931 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,953 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,962 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 16:58:05,963 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 16:58:05,971 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:05,990 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 16:58:05,998 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:06,012 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 16:58:06,026 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 16:58:06,059 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:06,062 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:58:07,066 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:58:07,070 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:58:07,073 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 16:58:28,564 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 16:58:28,642 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 23716 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 16:58:28,643 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 16:58:28,644 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 16:58:31,037 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:58:31,049 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 16:58:31,145 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:58:31,151 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:58:31,157 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:58:31,160 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:58:31,164 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:58:31,173 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 16:58:31,175 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 114 ms. Found 0 JDBC repository interfaces.
2025-01-25 16:58:31,192 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 16:58:31,194 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 16:58:31,301 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 99 ms. Found 6 JPA repository interfaces.
2025-01-25 16:58:33,033 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 16:58:33,051 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:58:33,056 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 16:58:33,057 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 16:58:33,305 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 16:58:33,306 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4335 ms
2025-01-25 16:58:33,529 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 16:58:33,899 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 16:58:33,902 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 16:58:33,924 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 16:58:34,227 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 16:58:34,228 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 16:58:34,229 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 16:58:34,304 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 16:58:34,312 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 16:58:34,353 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 16:58:34,358 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 16:58:34,369 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 16:58:34,408 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 16:58:34,433 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 16:58:34,500 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 16:58:34,511 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.056s)
2025-01-25 16:58:34,737 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 16:58:34,871 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 16:58:34,965 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 16:58:35,550 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 16:58:37,796 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 16:58:37,864 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:58:38,469 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 16:58:40,083 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 16:58:40,195 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f25106c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@216bd6cd, org.springframework.security.web.context.SecurityContextHolderFilter@7b303608, org.springframework.security.web.header.HeaderWriterFilter@57441348, org.springframework.security.web.authentication.logout.LogoutFilter@6175782c, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6c633590, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@541b89ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d6f549c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ce07db6, org.springframework.security.web.session.SessionManagementFilter@117bb3a4, org.springframework.security.web.access.ExceptionTranslationFilter@1be7b7de, org.springframework.security.web.access.intercept.AuthorizationFilter@5b33446d]
2025-01-25 16:58:40,212 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 16:58:40,213 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 16:58:41,443 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 16:58:41,498 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57491 (http) with context path ''
2025-01-25 16:58:41,538 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.649 seconds (process running for 16.003)
2025-01-25 16:58:42,236 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 16:58:42,236 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 16:58:42,238 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2025-01-25 16:58:42,269 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:42,776 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 16:58:42,793 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 16:58:42,945 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,129 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 16:58:43,151 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,190 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,192 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 16:58:43,214 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 16:58:43,244 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,252 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 16:58:43,269 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,276 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 16:58:43,277 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 16:58:43,286 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,303 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 16:58:43,311 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,380 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,384 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:58:43,411 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,439 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,453 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 16:58:43,456 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 16:58:43,467 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,492 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 16:58:43,503 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,519 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 16:58:43,536 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 16:58:43,559 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 16:58:43,564 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 16:58:44,547 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 16:58:44,550 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 16:58:44,554 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:02:18,255 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:02:18,334 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 5820 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:02:18,336 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:02:18,338 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:02:20,873 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:02:20,876 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:02:20,994 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:02:20,999 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:02:21,003 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:02:21,009 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:02:21,013 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:02:21,018 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:02:21,020 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 133 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:02:21,038 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:02:21,041 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:02:21,141 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 93 ms. Found 6 JPA repository interfaces.
2025-01-25 17:02:22,808 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:02:22,825 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:02:22,829 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:02:22,830 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:02:23,074 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:02:23,075 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4382 ms
2025-01-25 17:02:23,316 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:02:23,839 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:02:23,843 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:02:23,868 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:02:24,272 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:02:24,273 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:02:24,273 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:02:24,355 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:02:24,363 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:02:24,403 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:02:24,408 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 17:02:24,417 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:02:24,459 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:02:24,481 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:02:24,544 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:02:24,555 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.053s)
2025-01-25 17:02:24,765 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:02:24,901 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:02:25,004 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:02:25,534 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:02:27,616 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:02:27,684 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:02:28,291 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:02:29,930 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:02:30,048 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f67401, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5323c6de, org.springframework.security.web.context.SecurityContextHolderFilter@95237fc, org.springframework.security.web.header.HeaderWriterFilter@6df37cc4, org.springframework.security.web.authentication.logout.LogoutFilter@68c7162b, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@470a2845, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6175782c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cdd90c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e1321fd, org.springframework.security.web.session.SessionManagementFilter@42985121, org.springframework.security.web.access.ExceptionTranslationFilter@39090979, org.springframework.security.web.access.intercept.AuthorizationFilter@3108d1e1]
2025-01-25 17:02:30,064 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:02:30,065 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:02:31,446 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:02:31,493 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57744 (http) with context path ''
2025-01-25 17:02:31,535 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.953 seconds (process running for 16.413)
2025-01-25 17:02:32,272 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:02:32,273 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:02:32,276 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:02:32,299 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:32,573 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:32,724 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:32,750 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:32,753 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:02:32,901 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:02:32,921 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:32,931 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 1
2025-01-25 17:02:32,951 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:32,956 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:02:32,980 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:33,114 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:02:33,131 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:02:33,151 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:33,231 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:02:33,241 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:33,319 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:33,345 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:33,356 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:02:33,358 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:02:33,368 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:33,393 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:02:33,403 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:33,414 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 2 has been successfully deleted.
2025-01-25 17:02:33,429 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 2 has been successfully deleted.
2025-01-25 17:02:33,445 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:02:33,448 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:02:34,304 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:02:34,307 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:02:34,310 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:03:00,429 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:03:00,512 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 3644 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:03:00,514 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:03:00,515 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:03:03,246 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:03:03,249 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:03:03,355 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:03:03,359 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:03:03,363 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:03:03,367 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:03:03,371 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:03:03,375 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:03:03,376 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 118 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:03:03,395 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:03:03,398 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:03:03,487 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 83 ms. Found 6 JPA repository interfaces.
2025-01-25 17:03:05,298 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:03:05,315 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:03:05,320 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:03:05,321 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:03:05,573 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:03:05,574 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4672 ms
2025-01-25 17:03:05,846 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:03:06,194 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:03:06,223 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:03:06,240 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:03:06,540 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:03:06,541 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:03:06,542 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:03:06,614 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:03:06,622 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:03:06,660 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:03:06,665 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 17:03:06,674 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:03:06,720 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:03:06,736 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:03:06,801 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:03:06,812 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 17:03:06,991 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:03:07,132 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:03:07,203 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:03:07,705 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:03:10,099 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:03:10,167 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:03:10,763 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:03:12,790 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:03:12,922 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64cde9a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5efb3259, org.springframework.security.web.context.SecurityContextHolderFilter@2086dfb8, org.springframework.security.web.header.HeaderWriterFilter@462b3fc7, org.springframework.security.web.authentication.logout.LogoutFilter@5cdd90c4, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@3e4d197, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d6f549c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46eb5c0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@327dcf8c, org.springframework.security.web.session.SessionManagementFilter@698df5e8, org.springframework.security.web.access.ExceptionTranslationFilter@5837b801, org.springframework.security.web.access.intercept.AuthorizationFilter@3415ecfe]
2025-01-25 17:03:12,937 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:03:12,938 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:03:14,498 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:03:14,551 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57796 (http) with context path ''
2025-01-25 17:03:14,586 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.865 seconds (process running for 17.323)
2025-01-25 17:03:15,982 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:03:15,982 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:03:15,986 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 17:03:16,034 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:17,758 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:03:17,900 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:03:18,349 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:18,673 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:03:18,724 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:18,799 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:18,810 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:03:18,873 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:03:18,931 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:18,951 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:03:18,999 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:19,039 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:03:19,041 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:03:19,051 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:19,069 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:03:19,077 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:19,181 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:19,186 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:03:19,211 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:19,239 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:19,264 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:03:19,266 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:03:19,306 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:19,347 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:03:19,367 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:19,414 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:03:19,469 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:03:19,559 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:03:19,564 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:03:21,286 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:03:21,318 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:03:21,323 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:12:53,348 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:12:53,448 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 5184 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:12:53,449 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:12:53,451 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:12:56,594 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:12:56,598 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:12:56,741 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:12:56,747 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:12:56,753 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:12:56,757 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:12:56,760 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:12:56,764 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:12:56,766 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 157 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:12:56,786 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:12:56,788 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:12:56,921 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 123 ms. Found 6 JPA repository interfaces.
2025-01-25 17:12:58,777 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:12:58,800 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:12:58,805 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:12:58,807 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:12:59,069 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:12:59,070 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5134 ms
2025-01-25 17:12:59,328 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:12:59,742 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:12:59,765 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:12:59,784 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:13:00,162 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:13:00,163 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:13:00,163 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:13:00,254 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:13:00,263 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:13:00,306 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:13:00,312 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 17:13:00,321 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:13:00,364 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:13:00,388 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:13:00,466 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:13:00,482 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.067s)
2025-01-25 17:13:00,676 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:13:00,817 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:13:00,914 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:13:01,482 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:13:03,583 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:13:03,638 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:13:04,248 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:13:06,028 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:13:06,131 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64cde9a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5efb3259, org.springframework.security.web.context.SecurityContextHolderFilter@2086dfb8, org.springframework.security.web.header.HeaderWriterFilter@462b3fc7, org.springframework.security.web.authentication.logout.LogoutFilter@5cdd90c4, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@2258ca14, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d6f549c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46eb5c0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@327dcf8c, org.springframework.security.web.session.SessionManagementFilter@698df5e8, org.springframework.security.web.access.ExceptionTranslationFilter@5837b801, org.springframework.security.web.access.intercept.AuthorizationFilter@3415ecfe]
2025-01-25 17:13:06,146 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:13:06,147 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:13:07,475 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:13:07,523 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 58360 (http) with context path ''
2025-01-25 17:13:07,558 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.985 seconds (process running for 17.683)
2025-01-25 17:13:08,258 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:13:08,259 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:13:08,262 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 17:13:08,296 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:08,760 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:13:08,774 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:13:08,902 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,068 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:13:09,089 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,124 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,126 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:13:09,150 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:13:09,179 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,188 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:13:09,206 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,215 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:13:09,216 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:13:09,226 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,243 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:13:09,250 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,316 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,320 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:13:09,342 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,365 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,374 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:13:09,376 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:13:09,384 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,400 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:13:09,407 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,418 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:13:09,432 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:13:09,446 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:13:09,449 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:13:10,316 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:13:10,320 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:13:10,324 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:14:18,909 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:14:18,983 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 360 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:14:18,984 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:14:18,985 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:14:21,239 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:14:21,242 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:14:21,352 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:14:21,357 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:14:21,363 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:14:21,367 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:14:21,371 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:14:21,374 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:14:21,376 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 115 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:14:21,396 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:14:21,398 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:14:21,522 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 115 ms. Found 6 JPA repository interfaces.
2025-01-25 17:14:23,216 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:14:23,236 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:14:23,241 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:14:23,242 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:14:23,555 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:14:23,557 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4262 ms
2025-01-25 17:14:23,912 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:14:24,344 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:14:24,347 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:14:24,367 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:14:24,739 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:14:24,740 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:14:24,741 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:14:24,817 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:14:24,826 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:14:24,869 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:14:24,874 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 17:14:24,883 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:14:24,923 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:14:24,944 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:14:25,010 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:14:25,020 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 17:14:25,254 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:14:25,402 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:14:25,510 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:14:26,027 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:14:28,030 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:14:28,085 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:14:28,667 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:14:30,360 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:14:30,474 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e850e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5111de33, org.springframework.security.web.context.SecurityContextHolderFilter@4184bced, org.springframework.security.web.header.HeaderWriterFilter@5b0ddbcf, org.springframework.security.web.authentication.logout.LogoutFilter@38e8f9a8, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@193b6f5b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c05fb12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f7b7ac4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b33446d, org.springframework.security.web.session.SessionManagementFilter@462b3fc7, org.springframework.security.web.access.ExceptionTranslationFilter@7fb57b7c, org.springframework.security.web.access.intercept.AuthorizationFilter@7c95440d]
2025-01-25 17:14:30,490 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:14:30,491 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:14:31,787 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:14:31,854 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 58445 (http) with context path ''
2025-01-25 17:14:31,907 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.575 seconds (process running for 15.6)
2025-01-25 17:14:32,677 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:14:32,678 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:14:32,681 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:14:32,715 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,137 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:14:33,152 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:14:33,285 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,411 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:14:33,443 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,494 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,498 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:14:33,534 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:14:33,564 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,575 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:14:33,593 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,601 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:14:33,602 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:14:33,612 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,629 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:14:33,637 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,705 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,708 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:14:33,726 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,748 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,754 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:14:33,756 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:14:33,764 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,786 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:14:33,794 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,812 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:14:33,824 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:14:33,841 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:14:33,844 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:14:34,719 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:14:34,724 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:14:34,727 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:15:04,165 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:15:04,269 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 21512 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:15:04,272 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:15:04,273 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:15:06,772 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:15:06,776 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:15:06,876 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:15:06,883 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:15:06,889 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:15:06,898 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:15:06,902 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:15:06,907 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:15:06,909 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 124 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:15:06,926 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:15:06,928 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:15:07,034 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 98 ms. Found 6 JPA repository interfaces.
2025-01-25 17:15:08,693 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:15:08,709 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:15:08,714 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:15:08,715 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:15:08,959 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:15:08,960 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4258 ms
2025-01-25 17:15:09,191 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:15:09,552 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:15:09,557 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:15:09,576 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:15:09,949 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:15:09,950 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:15:09,951 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:15:10,027 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:15:10,038 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:15:10,079 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:15:10,084 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.028s)
2025-01-25 17:15:10,095 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:15:10,136 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:15:10,154 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:15:10,221 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:15:10,232 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.056s)
2025-01-25 17:15:10,421 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:15:10,563 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:15:10,651 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:15:11,180 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:15:13,215 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:15:13,274 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:15:13,989 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:15:15,759 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:15:15,893 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56d9bc5f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7252e3ec, org.springframework.security.web.context.SecurityContextHolderFilter@5837b801, org.springframework.security.web.header.HeaderWriterFilter@55c7ba5, org.springframework.security.web.authentication.logout.LogoutFilter@7e3c5dbb, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6c633590, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b7a96e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d78dd9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b69be74, org.springframework.security.web.session.SessionManagementFilter@7f8bc54e, org.springframework.security.web.access.ExceptionTranslationFilter@74ed1b3d, org.springframework.security.web.access.intercept.AuthorizationFilter@31854086]
2025-01-25 17:15:15,909 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:15:15,910 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:15:17,241 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:15:17,286 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 58500 (http) with context path ''
2025-01-25 17:15:17,323 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.885 seconds (process running for 16.472)
2025-01-25 17:15:17,997 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:15:17,998 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:15:18,001 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:15:18,028 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:18,459 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:15:18,473 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:15:18,604 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:18,759 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:15:18,779 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:18,817 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:18,819 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:15:18,838 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:15:18,871 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:18,884 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:15:18,905 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:18,914 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:15:18,915 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:15:18,926 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:18,946 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:15:18,954 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:19,028 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:19,032 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:15:19,050 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:19,071 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:19,080 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:15:19,082 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:15:19,092 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:19,109 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:15:19,117 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:19,128 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:15:19,139 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:15:19,157 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:15:19,160 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:15:20,052 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:15:20,055 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:15:20,060 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:16:40,289 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:16:40,363 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 11892 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:16:40,364 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:16:40,366 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:16:42,830 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:16:42,832 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:16:42,942 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:16:42,948 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:16:42,952 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:16:42,956 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:16:42,960 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:16:42,965 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:16:42,966 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 126 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:16:42,982 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:16:42,984 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:16:43,090 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 100 ms. Found 6 JPA repository interfaces.
2025-01-25 17:16:44,777 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:16:44,798 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:16:44,803 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:16:44,804 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:16:45,049 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:16:45,051 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4334 ms
2025-01-25 17:16:45,312 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:16:45,670 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:16:45,696 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:16:45,717 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:16:46,046 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:16:46,047 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:16:46,047 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:16:46,125 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:16:46,134 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:16:46,175 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:16:46,182 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.027s)
2025-01-25 17:16:46,191 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:16:46,232 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:16:46,253 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:16:46,325 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:16:46,338 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.062s)
2025-01-25 17:16:46,524 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:16:46,631 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:16:46,704 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:16:47,201 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:16:49,188 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:16:49,248 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:16:49,869 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:16:51,504 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:16:51,625 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@327dcf8c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69c7b870, org.springframework.security.web.context.SecurityContextHolderFilter@4d484eda, org.springframework.security.web.header.HeaderWriterFilter@19a920d1, org.springframework.security.web.authentication.logout.LogoutFilter@22d522d4, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@3fd7f545, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3638ae1c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@402e48d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62ccf42c, org.springframework.security.web.session.SessionManagementFilter@1727d525, org.springframework.security.web.access.ExceptionTranslationFilter@31f151ff, org.springframework.security.web.access.intercept.AuthorizationFilter@1d0e2c96]
2025-01-25 17:16:51,640 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:16:51,641 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:16:52,930 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:16:52,977 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 58590 (http) with context path ''
2025-01-25 17:16:53,011 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.406 seconds (process running for 15.81)
2025-01-25 17:16:53,883 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:16:53,884 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:16:53,889 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 5 ms
2025-01-25 17:16:53,926 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:54,411 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:16:54,425 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:16:54,568 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:54,742 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:16:54,765 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:54,802 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:54,805 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:16:54,832 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:16:54,863 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:54,873 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:16:54,894 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:54,902 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:16:54,905 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:16:54,915 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:54,931 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:16:54,939 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:55,019 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:55,024 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:16:55,043 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:55,065 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:55,074 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:16:55,076 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:16:55,083 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:55,103 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:16:55,112 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:55,126 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:16:55,139 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:16:55,160 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:16:55,165 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:16:56,244 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:16:56,247 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:16:56,251 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:17:46,478 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:17:46,535 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 3900 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:17:46,536 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:17:46,537 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:17:48,504 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:17:48,506 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:17:48,595 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:17:48,598 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:17:48,602 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:17:48,604 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:17:48,607 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:17:48,611 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:17:48,613 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 99 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:17:48,625 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:17:48,627 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:17:48,703 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 68 ms. Found 6 JPA repository interfaces.
2025-01-25 17:17:50,325 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:17:50,342 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:17:50,348 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:17:50,349 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:17:50,597 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:17:50,598 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3741 ms
2025-01-25 17:17:50,883 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:17:51,303 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:17:51,309 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:17:51,329 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:17:51,672 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:17:51,673 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:17:51,673 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:17:51,750 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:17:51,759 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:17:51,799 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:17:51,805 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 17:17:51,813 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:17:51,855 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:17:51,875 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:17:51,943 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:17:51,956 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.055s)
2025-01-25 17:17:52,149 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:17:52,268 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:17:52,357 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:17:52,812 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:17:55,538 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:17:55,614 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:17:56,442 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:17:58,100 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:17:58,202 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30a1e459, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ec3c213, org.springframework.security.web.context.SecurityContextHolderFilter@54d20609, org.springframework.security.web.header.HeaderWriterFilter@4d484eda, org.springframework.security.web.authentication.logout.LogoutFilter@1d0e2c96, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@13ac7281, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6631e6af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6175782c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79715834, org.springframework.security.web.session.SessionManagementFilter@1b84d2e, org.springframework.security.web.access.ExceptionTranslationFilter@698df5e8, org.springframework.security.web.access.intercept.AuthorizationFilter@6409a49a]
2025-01-25 17:17:58,222 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:17:58,223 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:17:59,483 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:17:59,527 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 58665 (http) with context path ''
2025-01-25 17:17:59,567 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.645 seconds (process running for 15.645)
2025-01-25 17:18:00,269 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:18:00,270 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:18:00,272 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:18:00,295 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:00,716 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:18:00,729 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:18:00,860 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,022 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:18:01,046 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,084 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,086 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:18:01,108 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:18:01,138 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,149 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:18:01,169 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,177 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:18:01,179 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:18:01,190 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,206 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:18:01,214 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,291 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,295 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:18:01,314 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,335 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,344 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:18:01,345 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:18:01,353 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,368 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:18:01,376 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,387 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:18:01,400 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:18:01,417 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:01,421 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:18:02,298 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:18:02,303 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:18:02,306 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:18:31,213 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:18:31,305 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 14372 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:18:31,306 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:18:31,308 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:18:34,099 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:18:34,103 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:18:34,246 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:18:34,252 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:18:34,257 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:18:34,262 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:18:34,266 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:18:34,271 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:18:34,273 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 157 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:18:34,294 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:18:34,297 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:18:34,424 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 118 ms. Found 6 JPA repository interfaces.
2025-01-25 17:18:36,384 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:18:36,408 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:18:36,414 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:18:36,415 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:18:36,691 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:18:36,692 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5023 ms
2025-01-25 17:18:36,947 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:18:37,349 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:18:37,355 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:18:37,374 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:18:37,716 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:18:37,717 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:18:37,718 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:18:37,814 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:18:37,824 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:18:37,866 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:18:37,872 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 17:18:37,886 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:18:37,936 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:18:37,962 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:18:38,032 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:18:38,046 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.059s)
2025-01-25 17:18:38,263 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:18:38,405 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:18:38,483 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:18:39,088 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:18:41,375 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:18:41,442 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:18:42,172 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:18:44,225 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:18:44,370 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4dc34411, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56d9bc5f, org.springframework.security.web.context.SecurityContextHolderFilter@51edc97d, org.springframework.security.web.header.HeaderWriterFilter@5e077a32, org.springframework.security.web.authentication.logout.LogoutFilter@1b84d2e, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@2fd16368, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e68c09d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@117bb3a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7252e3ec, org.springframework.security.web.session.SessionManagementFilter@4aedac7f, org.springframework.security.web.access.ExceptionTranslationFilter@78fdc1bb, org.springframework.security.web.access.intercept.AuthorizationFilter@4a17c516]
2025-01-25 17:18:44,387 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:18:44,388 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:18:45,956 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:18:46,007 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 58713 (http) with context path ''
2025-01-25 17:18:46,045 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.591 seconds (process running for 18.234)
2025-01-25 17:18:46,863 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:18:46,864 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:18:46,866 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:18:46,891 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,320 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:18:47,334 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:18:47,458 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,633 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:18:47,654 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,690 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,693 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:18:47,717 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:18:47,746 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,756 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:18:47,774 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,783 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:18:47,785 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:18:47,794 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,812 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:18:47,823 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,916 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,922 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:18:47,958 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,982 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:47,989 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:18:47,990 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:18:47,997 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:48,014 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:18:48,021 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:48,033 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:18:48,047 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:18:48,065 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:18:48,072 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:18:48,890 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:18:48,894 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:18:48,898 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:20:42,969 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:20:43,058 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 9196 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:20:43,060 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:20:43,062 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:20:45,522 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:20:45,525 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:20:45,633 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:20:45,639 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:20:45,643 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:20:45,647 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:20:45,651 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:20:45,655 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:20:45,657 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 124 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:20:45,673 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:20:45,675 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:20:45,796 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 112 ms. Found 6 JPA repository interfaces.
2025-01-25 17:20:47,424 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:20:47,443 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:20:47,448 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:20:47,448 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:20:47,686 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:20:47,688 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4262 ms
2025-01-25 17:20:47,942 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:20:48,363 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:20:48,368 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:20:48,391 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:20:48,726 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:20:48,727 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:20:48,727 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:20:48,805 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:20:48,814 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:20:48,850 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:20:48,856 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 17:20:48,867 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:20:48,912 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:20:48,939 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:20:49,019 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:20:49,031 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.069s)
2025-01-25 17:20:49,247 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:20:49,371 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:20:49,471 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:20:49,934 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:20:51,935 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:20:51,993 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:20:52,595 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:20:54,392 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:20:54,507 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30eb427c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59c9e3b9, org.springframework.security.web.context.SecurityContextHolderFilter@99a8a49, org.springframework.security.web.header.HeaderWriterFilter@52f0b3d8, org.springframework.security.web.authentication.logout.LogoutFilter@6ef7e510, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@38eb2140, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59e5ecab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c8d8934, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45bedfed, org.springframework.security.web.session.SessionManagementFilter@1e1908ab, org.springframework.security.web.access.ExceptionTranslationFilter@6fefaeba, org.springframework.security.web.access.intercept.AuthorizationFilter@2c47135c]
2025-01-25 17:20:54,523 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:20:54,524 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:20:55,936 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:20:55,990 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 58847 (http) with context path ''
2025-01-25 17:20:56,035 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.803 seconds (process running for 16.788)
2025-01-25 17:20:56,836 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:20:56,837 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:20:56,839 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:20:56,866 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,265 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:20:57,278 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:20:57,401 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,556 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:20:57,579 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,612 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,614 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:20:57,637 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:20:57,665 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,676 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:20:57,691 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,695 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:20:57,718 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,727 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:20:57,728 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:20:57,738 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,759 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:20:57,767 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,838 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,857 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,866 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:20:57,867 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:20:57,875 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,893 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:20:57,901 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,911 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:20:57,923 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:20:57,938 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:20:57,941 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:20:58,960 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:20:58,965 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:20:58,970 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:22:12,554 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:22:12,635 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 7704 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:22:12,637 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:22:12,639 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:22:15,124 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:22:15,127 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:22:15,247 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:22:15,253 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:22:15,257 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:22:15,261 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:22:15,264 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:22:15,269 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:22:15,271 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 136 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:22:15,294 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:22:15,296 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:22:15,438 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 130 ms. Found 6 JPA repository interfaces.
2025-01-25 17:22:17,457 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:22:17,475 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:22:17,480 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:22:17,481 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:22:17,721 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:22:17,723 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4689 ms
2025-01-25 17:22:17,973 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:22:18,347 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:22:18,351 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:22:18,367 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:22:18,696 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:22:18,697 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:22:18,697 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:22:18,781 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:22:18,790 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:22:18,833 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:22:18,839 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.028s)
2025-01-25 17:22:18,848 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:22:18,891 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:22:18,913 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:22:18,981 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:22:18,993 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 17:22:19,178 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:22:19,299 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:22:19,370 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:22:19,834 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:22:22,070 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:22:22,130 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:22:22,765 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:22:24,716 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:22:24,823 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64cde9a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5efb3259, org.springframework.security.web.context.SecurityContextHolderFilter@2086dfb8, org.springframework.security.web.header.HeaderWriterFilter@462b3fc7, org.springframework.security.web.authentication.logout.LogoutFilter@5cdd90c4, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@589c648, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d6f549c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46eb5c0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@327dcf8c, org.springframework.security.web.session.SessionManagementFilter@698df5e8, org.springframework.security.web.access.ExceptionTranslationFilter@5837b801, org.springframework.security.web.access.intercept.AuthorizationFilter@3415ecfe]
2025-01-25 17:22:24,839 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:22:24,840 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:22:26,166 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:22:26,216 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 58939 (http) with context path ''
2025-01-25 17:22:26,258 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.393 seconds (process running for 17.043)
2025-01-25 17:22:26,938 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:22:26,939 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:22:26,941 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:22:26,966 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:27,359 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:22:27,375 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:22:27,504 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:27,661 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:22:27,687 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:27,738 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:27,740 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:22:27,768 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:22:27,800 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:27,814 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:22:27,836 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:27,843 ERROR [http-nio-auto-1-exec-7] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:22:27,872 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:27,881 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:22:27,884 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:22:27,896 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:27,915 INFO  [http-nio-auto-1-exec-9] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:22:27,924 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:28,001 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:28,022 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:28,030 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:22:28,032 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:22:28,039 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:28,056 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:22:28,062 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:28,076 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:22:28,091 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:22:28,108 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:22:28,111 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:22:28,936 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:22:28,939 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:22:28,943 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:23:25,018 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:23:25,147 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 23056 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:23:25,148 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:23:25,151 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:23:27,991 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:23:27,994 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:23:28,123 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:23:28,128 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:23:28,133 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:23:28,136 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:23:28,140 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:23:28,145 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:23:28,147 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 142 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:23:28,171 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:23:28,174 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:23:28,303 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 119 ms. Found 6 JPA repository interfaces.
2025-01-25 17:23:30,168 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:23:30,182 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:23:30,187 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:23:30,187 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:23:30,425 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:23:30,427 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4808 ms
2025-01-25 17:23:30,744 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:23:31,220 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:23:31,226 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:23:31,253 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:23:31,648 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:23:31,649 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:23:31,650 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:23:31,736 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:23:31,744 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:23:31,786 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:23:31,791 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2025-01-25 17:23:31,802 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:23:31,846 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:23:31,884 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:23:31,960 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:23:31,972 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.065s)
2025-01-25 17:23:32,194 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:23:32,330 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:23:32,419 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:23:32,918 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:23:35,166 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:23:35,226 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:23:35,957 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:23:37,884 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:23:37,992 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31854086, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b7bfa82, org.springframework.security.web.context.SecurityContextHolderFilter@2ed4e0e9, org.springframework.security.web.header.HeaderWriterFilter@4c12e25d, org.springframework.security.web.authentication.logout.LogoutFilter@72e1a349, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@5a32ab89, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5837b801, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c861b25, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39081953, org.springframework.security.web.session.SessionManagementFilter@5b0ddbcf, org.springframework.security.web.access.ExceptionTranslationFilter@1e5259c0, org.springframework.security.web.access.intercept.AuthorizationFilter@79805d37]
2025-01-25 17:23:38,010 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:23:38,011 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:23:39,237 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:23:39,289 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 59006 (http) with context path ''
2025-01-25 17:23:39,328 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.101 seconds (process running for 18.192)
2025-01-25 17:23:40,040 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:23:40,042 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:23:40,046 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 17:23:40,084 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:40,531 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:23:40,542 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:23:40,664 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:40,824 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:23:40,850 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:40,887 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:40,889 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:23:40,910 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:23:40,940 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:40,949 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:23:40,965 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:40,969 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:23:40,990 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:40,999 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:23:41,000 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:23:41,013 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:41,033 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:23:41,041 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:41,114 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:41,121 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:23:41,122 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:23:41,130 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:41,145 INFO  [http-nio-auto-1-exec-1] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:23:41,151 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:41,166 INFO  [http-nio-auto-1-exec-2] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:23:41,179 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:23:41,195 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:41,230 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:23:41,232 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:23:42,135 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:23:42,140 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:23:42,147 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:24:11,342 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:24:11,435 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 24464 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:24:11,436 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:24:11,437 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:24:13,952 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:24:13,955 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:24:14,090 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:24:14,096 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:24:14,101 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:24:14,106 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:24:14,111 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:24:14,115 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:24:14,117 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 152 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:24:14,138 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:24:14,141 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:24:14,297 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 146 ms. Found 6 JPA repository interfaces.
2025-01-25 17:24:16,437 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:24:16,461 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:24:16,466 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:24:16,467 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:24:16,776 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:24:16,777 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4968 ms
2025-01-25 17:24:17,058 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:24:17,457 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:24:17,460 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:24:17,477 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:24:17,875 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:24:17,876 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:24:17,877 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:24:17,972 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:24:17,982 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:24:18,051 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:24:18,058 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.053s)
2025-01-25 17:24:18,069 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:24:18,126 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:24:18,154 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:24:18,219 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:24:18,229 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.057s)
2025-01-25 17:24:18,415 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:24:18,559 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:24:18,647 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:24:19,131 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:24:21,070 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:24:21,144 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:24:21,751 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:24:23,428 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:24:23,576 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@69c7b870, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62ccf42c, org.springframework.security.web.context.SecurityContextHolderFilter@2b82254b, org.springframework.security.web.header.HeaderWriterFilter@6c861b25, org.springframework.security.web.authentication.logout.LogoutFilter@6409a2e4, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@ef09e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c2a7ded, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1daf79ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65227bd6, org.springframework.security.web.session.SessionManagementFilter@1f7b7ac4, org.springframework.security.web.access.ExceptionTranslationFilter@e68c09d, org.springframework.security.web.access.intercept.AuthorizationFilter@7fa498b3]
2025-01-25 17:24:23,597 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:24:23,597 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:24:25,027 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:24:25,073 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 59052 (http) with context path ''
2025-01-25 17:24:25,110 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.488 seconds (process running for 16.846)
2025-01-25 17:24:25,926 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:24:25,927 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:24:25,930 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:24:25,964 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:26,432 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:24:26,447 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:24:26,572 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:26,735 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:24:26,760 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:26,797 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:26,800 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:24:26,823 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:24:26,850 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:26,864 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:24:26,879 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:26,883 ERROR [http-nio-auto-1-exec-7] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:24:26,907 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:26,915 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:24:26,916 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:24:26,928 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:26,950 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:24:26,960 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:27,042 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:27,050 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:24:27,051 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:24:27,060 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:27,076 INFO  [http-nio-auto-1-exec-1] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:24:27,082 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:27,095 INFO  [http-nio-auto-1-exec-2] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:24:27,109 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:24:27,126 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:27,146 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:24:27,149 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:24:27,946 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:24:27,949 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:24:27,954 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:25:59,283 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:25:59,372 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 3500 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:25:59,374 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:25:59,376 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:26:01,988 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:26:01,991 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:26:02,095 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:02,101 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:02,106 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:02,114 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:02,119 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:02,123 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:02,124 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 124 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:26:02,143 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:26:02,145 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:26:02,256 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 101 ms. Found 6 JPA repository interfaces.
2025-01-25 17:26:03,957 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:26:03,973 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:26:03,977 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:26:03,979 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:26:04,233 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:26:04,234 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4417 ms
2025-01-25 17:26:04,478 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:26:04,951 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:26:04,954 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:26:04,973 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:26:05,313 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:26:05,314 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:26:05,314 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:26:05,399 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:26:05,409 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:26:05,457 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:26:05,462 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.031s)
2025-01-25 17:26:05,476 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:26:05,529 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:26:05,553 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:26:05,626 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:26:05,636 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.061s)
2025-01-25 17:26:05,817 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:26:05,936 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:26:06,019 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:26:06,510 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:26:08,680 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:26:08,736 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:26:09,408 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:26:11,128 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:26:11,253 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26562718, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1388c465, org.springframework.security.web.context.SecurityContextHolderFilter@7e18b9e6, org.springframework.security.web.header.HeaderWriterFilter@5649a3e8, org.springframework.security.web.authentication.logout.LogoutFilter@4f1502d7, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@304f4888, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e58f26d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66a5a12c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48d1f239, org.springframework.security.web.session.SessionManagementFilter@105fa381, org.springframework.security.web.access.ExceptionTranslationFilter@7917317d, org.springframework.security.web.access.intercept.AuthorizationFilter@7d33e32b]
2025-01-25 17:26:11,271 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:26:11,272 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:26:12,550 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:26:12,602 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 59174 (http) with context path ''
2025-01-25 17:26:12,637 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.139 seconds (process running for 16.876)
2025-01-25 17:26:13,347 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:26:13,347 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:26:13,349 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:26:13,375 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:13,802 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:26:13,814 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:26:13,942 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,060 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:26:14,080 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,113 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,115 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:26:14,136 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:26:14,168 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,180 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:26:14,198 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,202 ERROR [http-nio-auto-1-exec-7] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:26:14,225 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,234 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:26:14,235 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:26:14,243 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,260 INFO  [http-nio-auto-1-exec-9] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:26:14,267 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,342 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,360 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,369 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:26:14,371 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:26:14,378 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,395 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:26:14,403 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,416 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:26:14,426 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:26:14,441 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:26:14,445 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:26:15,271 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:26:15,275 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:26:15,278 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:26:45,590 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:26:45,699 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 11932 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:26:45,700 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:26:45,702 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:26:49,953 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:26:49,977 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:26:50,135 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:50,140 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:50,146 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:50,151 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:50,157 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:50,163 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:26:50,165 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 167 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:26:50,225 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:26:50,228 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:26:50,407 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 168 ms. Found 6 JPA repository interfaces.
2025-01-25 17:26:53,922 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:26:53,962 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:26:53,969 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:26:53,970 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:26:54,511 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:26:54,514 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 8229 ms
2025-01-25 17:26:55,280 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:26:56,099 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:26:56,105 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:26:56,140 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:26:56,951 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:26:56,952 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:26:56,955 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:26:57,085 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:26:57,097 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:26:57,177 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:26:57,191 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.062s)
2025-01-25 17:26:57,217 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:26:57,285 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:26:57,314 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:26:57,443 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:26:57,464 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.108s)
2025-01-25 17:26:57,798 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:26:58,038 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:26:58,133 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:26:58,712 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:27:01,330 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:27:01,411 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:27:02,186 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:27:05,727 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:27:05,855 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ace94ff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58bdcf40, org.springframework.security.web.context.SecurityContextHolderFilter@17e71422, org.springframework.security.web.header.HeaderWriterFilter@5f2896fa, org.springframework.security.web.authentication.logout.LogoutFilter@6066cf5, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6b760eb7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cb2a1ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61231034, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28728558, org.springframework.security.web.session.SessionManagementFilter@10b9956a, org.springframework.security.web.access.ExceptionTranslationFilter@19f19f89, org.springframework.security.web.access.intercept.AuthorizationFilter@6145981c]
2025-01-25 17:27:05,878 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:27:05,879 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:27:08,414 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:27:08,621 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 59240 (http) with context path ''
2025-01-25 17:27:08,750 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 24.54 seconds (process running for 28.013)
2025-01-25 17:27:10,411 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:27:10,412 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:27:10,458 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 45 ms
2025-01-25 17:27:10,575 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:13,021 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:27:13,046 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:27:13,315 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:13,818 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:27:13,856 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:13,939 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:13,945 INFO  [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:27:13,994 INFO  [http-nio-auto-1-exec-6] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:27:14,037 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,054 INFO  [http-nio-auto-1-exec-9] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:27:14,082 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,087 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:27:14,139 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,159 INFO  [http-nio-auto-1-exec-3] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:27:14,171 INFO  [http-nio-auto-1-exec-3] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:27:14,184 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,254 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:27:14,273 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,422 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,452 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,461 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:27:14,464 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:27:14,473 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,502 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:27:14,511 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,529 INFO  [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:27:14,555 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:27:14,590 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:27:14,598 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:27:17,207 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:27:17,246 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:27:17,256 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:30:37,669 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:30:37,737 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 15620 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:30:37,738 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:30:37,739 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:30:40,209 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:30:40,212 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:30:40,319 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:30:40,324 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:30:40,328 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:30:40,332 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:30:40,335 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:30:40,339 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:30:40,341 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 122 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:30:40,358 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:30:40,360 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:30:40,461 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 94 ms. Found 6 JPA repository interfaces.
2025-01-25 17:30:42,187 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:30:42,206 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:30:42,211 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:30:42,211 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:30:42,472 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:30:42,474 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4387 ms
2025-01-25 17:30:42,751 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:30:43,265 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:30:43,270 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:30:43,295 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:30:43,753 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:30:43,754 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:30:43,755 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:30:43,842 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:30:43,852 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:30:43,894 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:30:43,900 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 17:30:43,911 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:30:43,952 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:30:43,973 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:30:44,042 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:30:44,057 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.061s)
2025-01-25 17:30:44,245 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:30:44,418 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:30:44,511 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:30:45,149 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:30:47,573 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:30:47,637 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:30:48,231 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:30:49,981 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:30:50,105 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d891373, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ae6cde4, org.springframework.security.web.context.SecurityContextHolderFilter@72e1a349, org.springframework.security.web.header.HeaderWriterFilter@541b89ec, org.springframework.security.web.authentication.logout.LogoutFilter@f25106c, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@ef09e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e3c5dbb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@497f0cb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@356285d9, org.springframework.security.web.session.SessionManagementFilter@492e988c, org.springframework.security.web.access.ExceptionTranslationFilter@5802572b, org.springframework.security.web.access.intercept.AuthorizationFilter@4b13aca4]
2025-01-25 17:30:50,122 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:30:50,123 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:30:51,476 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:30:51,534 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 59472 (http) with context path ''
2025-01-25 17:30:51,573 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.708 seconds (process running for 17.746)
2025-01-25 17:30:52,417 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:30:52,418 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:30:52,420 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:30:52,454 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:53,009 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:30:53,068 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:30:53,367 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:53,846 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:30:53,902 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,006 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,009 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:30:54,116 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:30:54,176 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,189 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:30:54,223 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,228 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:30:54,300 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,391 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:30:54,417 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:30:54,438 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,560 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:30:54,580 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,814 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,846 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,854 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:30:54,855 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:30:54,877 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:54,901 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:30:54,914 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:55,001 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:30:55,021 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:30:55,059 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:55,065 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:30:55,085 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:55,140 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:55,156 WARN  [http-nio-auto-1-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 17:30:55,157 ERROR [http-nio-auto-1-exec-6] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72 ON PUBLIC.ADMINS(CONTACT NULLS FIRST) VALUES ( /* 2 */ '+345 234-345-677' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 17:30:55,223 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:30:55,226 ERROR [http-nio-auto-1-exec-8] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:30:57,904 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:30:57,927 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:30:57,936 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:31:21,776 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:31:21,872 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 580 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:31:21,873 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:31:21,874 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:31:24,573 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:31:24,576 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:31:24,677 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:31:24,682 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:31:24,685 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:31:24,689 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:31:24,693 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:31:24,698 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:31:24,699 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 116 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:31:24,718 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:31:24,720 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:31:24,832 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 103 ms. Found 6 JPA repository interfaces.
2025-01-25 17:31:26,673 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:31:26,690 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:31:26,695 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:31:26,697 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:31:26,943 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:31:26,944 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4707 ms
2025-01-25 17:31:27,176 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:31:27,566 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:31:27,570 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:31:27,589 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:31:27,908 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:31:27,909 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:31:27,910 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:31:27,990 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:31:27,999 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:31:28,040 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:31:28,048 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.029s)
2025-01-25 17:31:28,059 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:31:28,102 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:31:28,124 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:31:28,193 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:31:28,207 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.059s)
2025-01-25 17:31:28,395 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:31:28,527 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:31:28,600 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:31:29,133 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:31:31,440 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:31:31,500 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:31:32,100 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:31:33,779 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:31:33,890 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e850e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5111de33, org.springframework.security.web.context.SecurityContextHolderFilter@4184bced, org.springframework.security.web.header.HeaderWriterFilter@5b0ddbcf, org.springframework.security.web.authentication.logout.LogoutFilter@38e8f9a8, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@193b6f5b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c05fb12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f7b7ac4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b33446d, org.springframework.security.web.session.SessionManagementFilter@462b3fc7, org.springframework.security.web.access.ExceptionTranslationFilter@7fb57b7c, org.springframework.security.web.access.intercept.AuthorizationFilter@7c95440d]
2025-01-25 17:31:33,905 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:31:33,906 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:31:35,184 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:31:35,231 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 59634 (http) with context path ''
2025-01-25 17:31:35,267 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.163 seconds (process running for 16.591)
2025-01-25 17:31:36,121 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:31:36,122 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:31:36,125 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 17:31:36,170 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:36,699 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:31:36,717 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:31:36,872 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,070 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:31:37,104 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,151 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,155 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:31:37,180 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:31:37,214 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,225 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:31:37,247 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,251 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:31:37,279 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,293 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:31:37,295 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:31:37,307 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,330 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:31:37,341 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,450 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,470 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,477 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:31:37,478 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:31:37,487 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,505 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:31:37,512 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,524 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:31:37,536 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:31:37,552 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,555 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:31:37,571 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,596 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,606 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 4 has been successfully created.
2025-01-25 17:31:37,607 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 4
2025-01-25 17:31:37,614 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,628 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-01-25 17:31:37,634 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,652 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:31:37,654 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:31:38,462 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:31:38,466 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:31:38,470 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:34:45,221 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:34:45,320 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 15308 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:34:45,321 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:34:45,323 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:34:47,976 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:34:47,981 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:34:48,141 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:34:48,147 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:34:48,151 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:34:48,155 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:34:48,159 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:34:48,164 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:34:48,165 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 160 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:34:48,188 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:34:48,191 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:34:48,312 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 111 ms. Found 6 JPA repository interfaces.
2025-01-25 17:34:50,223 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:34:50,239 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:34:50,243 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:34:50,244 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:34:50,474 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:34:50,476 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4805 ms
2025-01-25 17:34:50,736 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:34:51,140 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:34:51,144 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:34:51,169 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:34:51,541 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:34:51,542 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:34:51,542 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:34:51,638 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:34:51,647 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:34:51,722 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:34:51,728 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.036s)
2025-01-25 17:34:51,739 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:34:51,789 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:34:51,810 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:34:51,871 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:34:51,880 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.054s)
2025-01-25 17:34:52,100 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:34:52,214 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:34:52,292 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:34:52,768 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:34:55,176 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:34:55,253 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:34:55,887 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:34:57,863 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:34:57,971 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59f1c295, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1925be93, org.springframework.security.web.context.SecurityContextHolderFilter@b8da646, org.springframework.security.web.header.HeaderWriterFilter@2086dfb8, org.springframework.security.web.authentication.logout.LogoutFilter@3415ecfe, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@13ac7281, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@106361e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c3acda3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30a1e459, org.springframework.security.web.session.SessionManagementFilter@402e48d, org.springframework.security.web.access.ExceptionTranslationFilter@2ee16a4e, org.springframework.security.web.access.intercept.AuthorizationFilter@356285d9]
2025-01-25 17:34:57,991 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:34:57,992 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:34:59,375 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:34:59,431 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 59836 (http) with context path ''
2025-01-25 17:34:59,476 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 15.051 seconds (process running for 17.579)
2025-01-25 17:35:00,197 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:35:00,197 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:35:00,200 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:35:00,232 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:00,654 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:35:00,669 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:35:00,804 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:00,970 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:35:00,992 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,027 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,029 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:35:01,052 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:35:01,084 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,095 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:35:01,112 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,116 ERROR [http-nio-auto-1-exec-7] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:35:01,144 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,156 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:35:01,157 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:35:01,168 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,194 INFO  [http-nio-auto-1-exec-9] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:35:01,203 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,286 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,307 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,315 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:35:01,316 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:35:01,323 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,339 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:35:01,345 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,358 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:35:01,371 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:35:01,388 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,391 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:35:01,410 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,437 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,446 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 4 has been successfully created.
2025-01-25 17:35:01,447 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 4
2025-01-25 17:35:01,454 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,470 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-01-25 17:35:01,477 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,497 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,498 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:35:01,514 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,524 WARN  [http-nio-auto-1-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 17:35:01,525 ERROR [http-nio-auto-1-exec-1] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72 ON PUBLIC.ADMINS(CONTACT NULLS FIRST) VALUES ( /* 2 */ '+345 234-345-677' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 17:35:01,581 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,597 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:01,605 WARN  [http-nio-auto-1-exec-3] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Error: 23505, SQLState: 23505
2025-01-25 17:35:01,605 ERROR [http-nio-auto-1-exec-3] o.h.e.jdbc.spi.SqlExceptionHelper: Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_72 ON PUBLIC.ADMINS(CONTACT NULLS FIRST) VALUES ( /* 2 */ '+345 234-345-677' )"; SQL statement:
insert into admins (city,country,postal_code,state,street,admin_code,contact,email,name,role,person_id) values (?,?,?,?,?,?,?,?,?,?,default) [23505-224]
2025-01-25 17:35:01,621 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:35:02,860 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:35:02,868 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:35:02,880 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:36:36,773 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:36:36,893 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 24660 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:36:36,894 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:36:36,896 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:36:39,510 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:36:39,512 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:36:39,643 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:36:39,648 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:36:39,652 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:36:39,655 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:36:39,660 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:36:39,663 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:36:39,665 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 144 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:36:39,683 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:36:39,686 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:36:39,809 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 115 ms. Found 6 JPA repository interfaces.
2025-01-25 17:36:41,835 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:36:41,853 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:36:41,858 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:36:41,859 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:36:42,166 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:36:42,168 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4813 ms
2025-01-25 17:36:42,466 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:36:42,872 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:36:42,878 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:36:42,896 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:36:43,234 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:36:43,234 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:36:43,235 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:36:43,310 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:36:43,319 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:36:43,373 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:36:43,378 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.042s)
2025-01-25 17:36:43,388 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:36:43,425 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:36:43,445 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:36:43,513 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:36:43,526 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.059s)
2025-01-25 17:36:43,709 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:36:43,828 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:36:43,900 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:36:44,384 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:36:46,348 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:36:46,425 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:36:47,030 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:36:48,722 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:36:48,861 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cee6eb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b29f03e, org.springframework.security.web.context.SecurityContextHolderFilter@7b3c411f, org.springframework.security.web.header.HeaderWriterFilter@220f2d1b, org.springframework.security.web.authentication.logout.LogoutFilter@114b81af, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@409a164d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1daf79ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6631e6af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d891373, org.springframework.security.web.session.SessionManagementFilter@4ba61340, org.springframework.security.web.access.ExceptionTranslationFilter@117bb3a4, org.springframework.security.web.access.intercept.AuthorizationFilter@1e4d3c2e]
2025-01-25 17:36:48,886 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:36:48,887 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:36:50,255 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:36:50,311 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 59956 (http) with context path ''
2025-01-25 17:36:50,353 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.411 seconds (process running for 17.152)
2025-01-25 17:36:51,143 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:36:51,144 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:36:51,146 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:36:51,181 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:51,669 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:36:51,685 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:36:51,816 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:51,999 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:36:52,025 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,065 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,068 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:36:52,095 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:36:52,122 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,136 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:36:52,156 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,160 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:36:52,192 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,203 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:36:52,205 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:36:52,215 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,235 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:36:52,245 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,325 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,346 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,354 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:36:52,355 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:36:52,363 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,377 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:36:52,384 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,402 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:36:52,420 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:36:52,437 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,441 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:36:52,458 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,488 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,497 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 4 has been successfully created.
2025-01-25 17:36:52,498 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 4
2025-01-25 17:36:52,508 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,526 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-01-25 17:36:52,534 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,557 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,559 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:36:52,578 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,585 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: The admin with ID 5 has been successfully created.
2025-01-25 17:36:52,588 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminController: Created a new admin with ID: 5
2025-01-25 17:36:52,595 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,607 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,632 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,634 ERROR [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:36:52,649 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,658 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminService: The admin with ID 6 has been successfully created.
2025-01-25 17:36:52,659 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminController: Created a new admin with ID: 6
2025-01-25 17:36:52,666 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,704 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:36:52,706 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-01-25 17:36:53,794 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:36:53,799 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:36:53,803 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:39:16,433 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:39:16,514 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 21996 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:39:16,515 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:39:16,517 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:39:19,360 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:39:19,364 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:39:19,465 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:39:19,470 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:39:19,473 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:39:19,478 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:39:19,482 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:39:19,486 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:39:19,488 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 113 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:39:19,506 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:39:19,509 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:39:19,624 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 108 ms. Found 6 JPA repository interfaces.
2025-01-25 17:39:21,284 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:39:21,301 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:39:21,305 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:39:21,306 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:39:21,541 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:39:21,542 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4511 ms
2025-01-25 17:39:21,784 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:39:22,182 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:39:22,185 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:39:22,202 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:39:22,524 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:39:22,525 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:39:22,526 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:39:22,605 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:39:22,614 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:39:22,652 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:39:22,657 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.025s)
2025-01-25 17:39:22,666 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:39:22,705 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:39:22,730 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:39:22,814 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:39:22,829 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.060s)
2025-01-25 17:39:23,047 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:39:23,157 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:39:23,229 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:39:23,874 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:39:26,238 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:39:26,303 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:39:27,021 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:39:28,921 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:39:29,043 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34577542, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29b78b34, org.springframework.security.web.context.SecurityContextHolderFilter@31854086, org.springframework.security.web.header.HeaderWriterFilter@7e3c5dbb, org.springframework.security.web.authentication.logout.LogoutFilter@1d891373, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@4b1339bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56d9bc5f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5eea8854, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3817d886, org.springframework.security.web.session.SessionManagementFilter@c3acda3, org.springframework.security.web.access.ExceptionTranslationFilter@6df37cc4, org.springframework.security.web.access.intercept.AuthorizationFilter@3af5f0da]
2025-01-25 17:39:29,060 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:39:29,061 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:39:30,378 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:39:30,431 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 60228 (http) with context path ''
2025-01-25 17:39:30,465 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.955 seconds (process running for 17.489)
2025-01-25 17:39:31,128 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:39:31,128 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:39:31,132 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 17:39:31,161 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:31,566 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:39:31,579 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:39:31,710 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:31,888 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:39:31,911 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:31,949 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:31,951 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:39:31,976 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:39:32,007 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,018 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:39:32,032 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,036 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:39:32,057 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,067 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:39:32,068 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:39:32,077 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,093 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:39:32,102 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,191 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,211 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,218 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:39:32,220 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:39:32,228 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,246 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:39:32,252 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,265 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:39:32,275 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:39:32,292 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,295 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:39:32,312 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,338 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,346 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 4 has been successfully created.
2025-01-25 17:39:32,347 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 4
2025-01-25 17:39:32,355 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,372 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-01-25 17:39:32,379 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,400 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,402 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:39:32,417 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,423 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: The admin with ID 5 has been successfully created.
2025-01-25 17:39:32,424 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminController: Created a new admin with ID: 5
2025-01-25 17:39:32,430 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,441 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,467 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,470 ERROR [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:39:32,484 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,491 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminService: The admin with ID 6 has been successfully created.
2025-01-25 17:39:32,494 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminController: Created a new admin with ID: 6
2025-01-25 17:39:32,500 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,534 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:39:32,535 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-01-25 17:39:33,319 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:39:33,322 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:39:33,326 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:42:05,128 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:42:05,231 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 21316 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:42:05,233 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:42:05,234 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:42:07,995 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:42:07,998 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:42:08,160 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:42:08,167 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:42:08,172 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:42:08,177 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:42:08,182 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:42:08,187 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:42:08,188 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 169 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:42:08,212 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:42:08,215 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:42:08,335 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 110 ms. Found 6 JPA repository interfaces.
2025-01-25 17:42:10,241 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:42:10,261 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:42:10,265 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:42:10,266 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:42:10,522 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:42:10,524 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4902 ms
2025-01-25 17:42:10,824 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:42:11,312 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:42:11,317 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:42:11,335 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:42:11,662 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:42:11,662 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:42:11,663 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:42:11,739 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:42:11,749 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:42:11,795 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:42:11,801 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.027s)
2025-01-25 17:42:11,810 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:42:11,850 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:42:11,871 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:42:11,933 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:42:11,946 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.054s)
2025-01-25 17:42:12,132 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:42:12,259 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:42:12,336 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:42:12,818 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:42:14,683 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:42:14,748 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:42:15,346 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:42:17,157 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:42:17,288 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3415ecfe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13553b2e, org.springframework.security.web.context.SecurityContextHolderFilter@32317a37, org.springframework.security.web.header.HeaderWriterFilter@e68c09d, org.springframework.security.web.authentication.logout.LogoutFilter@4dc34411, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6f67291f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2086dfb8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@492e988c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d0e2c96, org.springframework.security.web.session.SessionManagementFilter@31419d4a, org.springframework.security.web.access.ExceptionTranslationFilter@2ed4e0e9, org.springframework.security.web.access.intercept.AuthorizationFilter@6ce07db6]
2025-01-25 17:42:17,305 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:42:17,306 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:42:18,645 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:42:18,702 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 60419 (http) with context path ''
2025-01-25 17:42:18,739 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.335 seconds (process running for 16.766)
2025-01-25 17:42:19,429 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:42:19,430 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:42:19,432 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:42:19,455 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:19,909 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:42:19,921 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:42:20,059 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,231 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:42:20,257 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,294 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,296 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:42:20,324 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:42:20,359 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,374 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:42:20,390 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,394 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:42:20,417 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,426 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:42:20,427 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:42:20,437 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,451 INFO  [http-nio-auto-1-exec-10] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:42:20,459 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,529 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,546 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,554 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:42:20,555 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:42:20,563 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,580 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:42:20,586 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,600 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:42:20,612 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:42:20,630 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,633 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:42:20,650 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,680 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,688 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 4 has been successfully created.
2025-01-25 17:42:20,689 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 4
2025-01-25 17:42:20,697 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,712 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-01-25 17:42:20,718 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,738 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,740 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:42:20,756 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,762 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminService: The admin with ID 5 has been successfully created.
2025-01-25 17:42:20,763 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminController: Created a new admin with ID: 5
2025-01-25 17:42:20,771 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,779 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,806 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,809 ERROR [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:42:20,827 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,835 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminService: The admin with ID 6 has been successfully created.
2025-01-25 17:42:20,836 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminController: Created a new admin with ID: 6
2025-01-25 17:42:20,843 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,886 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:42:20,888 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-01-25 17:42:21,836 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:42:21,841 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:42:21,845 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:44:32,746 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:44:32,834 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 11404 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:44:32,836 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:44:32,838 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:44:35,283 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:44:35,285 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:44:35,398 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:44:35,406 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:44:35,412 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:44:35,417 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:44:35,422 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:44:35,427 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:44:35,430 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 122 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:44:35,450 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:44:35,452 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:44:35,558 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 98 ms. Found 6 JPA repository interfaces.
2025-01-25 17:44:37,509 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:44:37,527 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:44:37,531 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:44:37,532 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:44:37,775 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:44:37,776 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4585 ms
2025-01-25 17:44:38,029 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:44:38,411 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:44:38,414 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:44:38,431 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:44:38,800 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:44:38,801 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:44:38,802 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:44:38,875 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:44:38,887 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:44:38,931 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:44:38,938 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.032s)
2025-01-25 17:44:38,951 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:44:38,999 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:44:39,020 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:44:39,094 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:44:39,107 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.063s)
2025-01-25 17:44:39,352 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:44:39,509 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:44:39,600 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:44:40,118 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:44:42,086 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:44:42,141 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:44:42,751 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:44:44,469 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:44:44,590 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75862489, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f67401, org.springframework.security.web.context.SecurityContextHolderFilter@38f9b6cd, org.springframework.security.web.header.HeaderWriterFilter@16344151, org.springframework.security.web.authentication.logout.LogoutFilter@6d2fe236, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@447cdbaa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79805d37, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b69be74, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5323c6de, org.springframework.security.web.session.SessionManagementFilter@6631e6af, org.springframework.security.web.access.ExceptionTranslationFilter@3d6f549c, org.springframework.security.web.access.intercept.AuthorizationFilter@42cb8174]
2025-01-25 17:44:44,605 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:44:44,605 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:44:45,906 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:44:45,956 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 60576 (http) with context path ''
2025-01-25 17:44:45,992 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 13.937 seconds (process running for 16.492)
2025-01-25 17:44:46,711 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:44:46,712 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:44:46,714 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-01-25 17:44:46,740 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,160 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:44:47,173 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:44:47,299 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,475 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:44:47,502 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,547 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,549 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:44:47,577 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:44:47,608 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,619 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:44:47,639 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,644 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:44:47,670 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,681 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:44:47,683 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:44:47,696 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,729 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:44:47,739 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,814 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,837 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,846 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:44:47,848 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:44:47,855 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,875 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:44:47,882 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,897 INFO  [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:44:47,913 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:44:47,931 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,934 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:44:47,950 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,985 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:47,993 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminService: The admin with ID 4 has been successfully created.
2025-01-25 17:44:47,995 INFO  [http-nio-auto-1-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 4
2025-01-25 17:44:48,004 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,025 INFO  [http-nio-auto-1-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-01-25 17:44:48,034 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,057 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,059 ERROR [http-nio-auto-1-exec-9] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:44:48,076 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,086 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: The admin with ID 5 has been successfully created.
2025-01-25 17:44:48,090 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminController: Created a new admin with ID: 5
2025-01-25 17:44:48,096 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,107 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,135 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,137 ERROR [http-nio-auto-1-exec-3] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:44:48,152 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,159 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminService: The admin with ID 6 has been successfully created.
2025-01-25 17:44:48,161 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminController: Created a new admin with ID: 6
2025-01-25 17:44:48,169 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,214 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:44:48,216 ERROR [http-nio-auto-1-exec-6] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-01-25 17:44:49,055 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:44:49,059 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:44:49,063 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 17:46:50,791 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 17:46:50,865 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 4216 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 17:46:50,866 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 17:46:50,867 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 17:46:53,338 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:46:53,342 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 17:46:53,482 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:46:53,488 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:46:53,493 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:46:53,498 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:46:53,502 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:46:53,510 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 17:46:53,512 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 156 ms. Found 0 JDBC repository interfaces.
2025-01-25 17:46:53,534 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 17:46:53,537 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 17:46:53,688 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 140 ms. Found 6 JPA repository interfaces.
2025-01-25 17:46:55,747 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 17:46:55,772 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:46:55,781 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 17:46:55,782 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 17:46:56,063 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 17:46:56,064 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4854 ms
2025-01-25 17:46:56,356 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 17:46:56,792 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 17:46:56,797 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 17:46:56,844 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 17:46:57,246 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 17:46:57,248 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 17:46:57,249 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 17:46:57,351 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 17:46:57,363 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 17:46:57,410 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 17:46:57,416 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.030s)
2025-01-25 17:46:57,430 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 17:46:57,475 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 17:46:57,497 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 17:46:57,565 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 17:46:57,576 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.059s)
2025-01-25 17:46:57,765 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 17:46:57,888 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 17:46:57,984 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 17:46:58,496 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 17:47:00,719 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 17:47:00,781 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:47:01,371 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 17:47:03,146 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 17:47:03,266 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30a1e459, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ec3c213, org.springframework.security.web.context.SecurityContextHolderFilter@54d20609, org.springframework.security.web.header.HeaderWriterFilter@4d484eda, org.springframework.security.web.authentication.logout.LogoutFilter@1d0e2c96, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@20c5b5f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6631e6af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6175782c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79715834, org.springframework.security.web.session.SessionManagementFilter@1b84d2e, org.springframework.security.web.access.ExceptionTranslationFilter@698df5e8, org.springframework.security.web.access.intercept.AuthorizationFilter@6409a49a]
2025-01-25 17:47:03,285 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 17:47:03,285 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 17:47:04,707 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 17:47:04,756 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 60746 (http) with context path ''
2025-01-25 17:47:04,797 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 14.664 seconds (process running for 17.209)
2025-01-25 17:47:05,681 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 17:47:05,681 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 17:47:05,684 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2025-01-25 17:47:05,715 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,182 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully created.
2025-01-25 17:47:06,195 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 1
2025-01-25 17:47:06,322 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,497 INFO  [http-nio-auto-1-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 1
2025-01-25 17:47:06,519 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,554 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,556 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 17:47:06,580 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: Received a GET request to /api/v1/librarian endpoint
2025-01-25 17:47:06,610 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,620 INFO  [http-nio-auto-1-exec-5] c.w.v.l.l.LibrarianController: retrieve librarian by id 1
2025-01-25 17:47:06,635 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,638 ERROR [http-nio-auto-1-exec-7] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:47:06,661 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,670 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 17:47:06,671 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 17:47:06,681 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,698 INFO  [http-nio-auto-1-exec-9] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 17:47:06,707 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,780 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,800 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,806 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 17:47:06,807 INFO  [http-nio-auto-1-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 3
2025-01-25 17:47:06,816 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,833 INFO  [http-nio-auto-1-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 17:47:06,840 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,856 INFO  [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:47:06,870 INFO  [http-nio-auto-1-exec-4] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 17:47:06,886 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,890 ERROR [http-nio-auto-1-exec-5] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 17:47:06,911 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,954 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,964 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: The admin with ID 4 has been successfully created.
2025-01-25 17:47:06,967 INFO  [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 4
2025-01-25 17:47:06,976 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:06,994 INFO  [http-nio-auto-1-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-01-25 17:47:07,002 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,023 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,024 ERROR [http-nio-auto-1-exec-10] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:47:07,039 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,049 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin with ID 5 has been successfully created.
2025-01-25 17:47:07,050 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 5
2025-01-25 17:47:07,057 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,067 ERROR [http-nio-auto-1-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,091 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,094 ERROR [http-nio-auto-1-exec-4] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 17:47:07,111 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,118 INFO  [http-nio-auto-1-exec-5] c.w.v.l.admin.AdminService: The admin with ID 6 has been successfully created.
2025-01-25 17:47:07,119 INFO  [http-nio-auto-1-exec-5] c.w.v.l.admin.AdminController: Created a new admin with ID: 6
2025-01-25 17:47:07,127 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,144 INFO  [http-nio-auto-1-exec-6] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 5
2025-01-25 17:47:07,151 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,171 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 17:47:07,173 ERROR [http-nio-auto-1-exec-8] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-01-25 17:47:07,952 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 17:47:07,955 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 17:47:07,960 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 18:04:39,524 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-01-25 18:04:39,727 INFO  [main] c.w.v.l.b.s.CucumberSpringConfiguration: Starting CucumberSpringConfiguration using Java 17.0.8 with PID 9820 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 18:04:39,729 DEBUG [main] c.w.v.l.b.s.CucumberSpringConfiguration: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 18:04:39,732 INFO  [main] c.w.v.l.b.s.CucumberSpringConfiguration: The following 1 profile is active: "test"
2025-01-25 18:04:44,539 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:04:44,547 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 18:04:44,713 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:04:44,723 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:04:44,730 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:04:44,735 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:04:44,740 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:04:44,750 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:04:44,753 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 189 ms. Found 0 JDBC repository interfaces.
2025-01-25 18:04:44,783 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:04:44,789 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 18:04:44,966 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 164 ms. Found 6 JPA repository interfaces.
2025-01-25 18:04:47,166 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-01-25 18:04:48,149 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-01-25 18:04:48,156 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-01-25 18:04:48,463 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-01-25 18:04:48,465 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-01-25 18:04:48,466 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-01-25 18:04:48,664 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 18:04:48,680 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 18:04:48,756 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-01-25 18:04:48,767 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.054s)
2025-01-25 18:04:48,787 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-01-25 18:04:48,870 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-01-25 18:04:48,913 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-01-25 18:04:49,017 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-01-25 18:04:49,035 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.091s)
2025-01-25 18:04:49,339 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 18:04:49,580 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-01-25 18:04:49,710 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 18:04:50,437 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 18:04:54,443 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 18:04:54,619 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:04:58,839 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 18:04:59,031 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21716dbc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@155aab92, org.springframework.security.web.context.SecurityContextHolderFilter@66a9dc6, org.springframework.security.web.header.HeaderWriterFilter@357f1268, org.springframework.security.web.authentication.logout.LogoutFilter@32609ec6, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@5bbdacd0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4259588, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@252ad5ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77fa85ad, org.springframework.security.web.session.SessionManagementFilter@2ca1c0c9, org.springframework.security.web.access.ExceptionTranslationFilter@7094cd6c, org.springframework.security.web.access.intercept.AuthorizationFilter@140c6fda]
2025-01-25 18:04:59,064 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 18:04:59,066 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 18:05:01,260 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 18:05:01,476 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 18:05:01,480 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext: Initializing Spring TestDispatcherServlet ''
2025-01-25 18:05:01,481 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-01-25 18:05:01,484 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 2 ms
2025-01-25 18:05:01,677 INFO  [main] c.w.v.l.b.s.CucumberSpringConfiguration: Started CucumberSpringConfiguration in 23.713 seconds (process running for 29.648)
2025-01-25 18:05:03,307 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:03,354 INFO  [main] c.w.v.l.member.MemberService: Get all member
2025-01-25 18:05:03,397 INFO  [main] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-01-25 18:05:03,644 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:03,647 INFO  [main] c.w.v.l.member.MemberService: Get all member
2025-01-25 18:05:03,657 INFO  [main] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-01-25 18:05:03,965 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:04,016 INFO  [main] c.w.v.l.member.MemberController: retrieve member by id 1
2025-01-25 18:05:04,106 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:04,927 INFO  [main] c.w.v.l.member.MemberService: member deleted successfully with ID 1
2025-01-25 18:05:04,971 INFO  [main] c.w.v.l.member.MemberController: The member with ID 1 has been successfully deleted.
2025-01-25 18:05:05,211 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.integration.admin.AdminIntegrationTest]: AdminIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-01-25 18:05:05,288 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.integration.admin.AdminIntegrationTest
2025-01-25 18:05:05,306 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-01-25 18:05:05,437 INFO  [main] c.w.v.l.i.admin.AdminIntegrationTest: Starting AdminIntegrationTest using Java 17.0.8 with PID 9820 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 18:05:05,438 DEBUG [main] c.w.v.l.i.admin.AdminIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 18:05:05,439 INFO  [main] c.w.v.l.i.admin.AdminIntegrationTest: The following 1 profile is active: "test"
2025-01-25 18:05:06,592 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:05:06,596 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 18:05:06,652 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:06,653 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:06,654 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:06,655 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:06,656 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:06,657 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:06,659 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 59 ms. Found 0 JDBC repository interfaces.
2025-01-25 18:05:06,668 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:05:06,669 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 18:05:06,783 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 112 ms. Found 6 JPA repository interfaces.
2025-01-25 18:05:07,553 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 18:05:07,585 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-01-25 18:05:07,593 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 18:05:07,595 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 18:05:07,899 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 18:05:07,901 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2455 ms
2025-01-25 18:05:08,045 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2025-01-25 18:05:08,049 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-01-25 18:05:08,050 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2025-01-25 18:05:08,052 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 18:05:08,207 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 18:05:08,212 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 18:05:08,223 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.008s)
2025-01-25 18:05:08,227 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-01-25 18:05:08,230 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-01-25 18:05:08,314 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 18:05:08,331 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 18:05:08,354 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 18:05:08,870 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 18:05:08,884 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:05:09,087 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 18:05:09,942 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 18:05:09,995 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c29b14e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b4f9a4, org.springframework.security.web.context.SecurityContextHolderFilter@423eee82, org.springframework.security.web.header.HeaderWriterFilter@7d6e8289, org.springframework.security.web.authentication.logout.LogoutFilter@1a1603d2, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@26bc8ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22f88232, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39dcbe50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bc43621, org.springframework.security.web.session.SessionManagementFilter@25e2457c, org.springframework.security.web.access.ExceptionTranslationFilter@355ba65a, org.springframework.security.web.access.intercept.AuthorizationFilter@3391f611]
2025-01-25 18:05:10,007 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 18:05:10,008 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 18:05:10,703 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 18:05:10,704 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring TestDispatcherServlet ''
2025-01-25 18:05:10,704 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-01-25 18:05:10,707 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 3 ms
2025-01-25 18:05:10,809 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-01-25 18:05:10,892 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 61972 (http) with context path ''
2025-01-25 18:05:10,914 INFO  [main] c.w.v.l.i.admin.AdminIntegrationTest: Started AdminIntegrationTest in 5.608 seconds (process running for 38.886)
2025-01-25 18:05:11,366 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-01-25 18:05:13,328 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 18:05:13,329 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 18:05:13,331 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2025-01-25 18:05:13,343 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:13,367 ERROR [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin email nonexistent@test.test provide not found 
2025-01-25 18:05:13,552 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 5 has been successfully created.
2025-01-25 18:05:13,580 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:15,492 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 7 has been successfully created.
2025-01-25 18:05:15,748 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:15,930 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminService: The admin with ID 7 has been successfully updated.
2025-01-25 18:05:15,950 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminController: Updated admin with ID: 7
2025-01-25 18:05:16,123 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 9 has been successfully created.
2025-01-25 18:05:16,159 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:16,168 INFO  [http-nio-auto-1-exec-5] c.w.v.l.admin.AdminService: The admin with ID 9 has been successfully deleted.
2025-01-25 18:05:16,225 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 11 has been successfully created.
2025-01-25 18:05:16,275 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:16,327 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 13 has been successfully created.
2025-01-25 18:05:16,358 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:16,363 ERROR [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: No admin found with ID 999. Please verify the ID and try again.
2025-01-25 18:05:16,407 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 15 has been successfully created.
2025-01-25 18:05:16,428 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:16,437 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminService: Retrieving all admins: [Person(id=14, name=John Doe, email=john.doe@example.com, address=Address(street=123 Main St, city=Anytown, state=NY, country=USA, postalCode=12345), contact=+123 456-789-123), Person(id=15, name=Sandro Doe, email=sando@test.test, address=Address(street=123 Main St, city=Anytown, state=NY, country=USA, postalCode=12345), contact=+345 456-789-123)]
2025-01-25 18:05:16,510 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 17 has been successfully created.
2025-01-25 18:05:16,559 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:16,568 INFO  [http-nio-auto-1-exec-9] c.w.v.l.admin.AdminService: The admin with ID 18 has been successfully created.
2025-01-25 18:05:16,571 INFO  [http-nio-auto-1-exec-9] c.w.v.l.admin.AdminController: Created a new admin with ID: 18
2025-01-25 18:05:16,707 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 20 has been successfully created.
2025-01-25 18:05:16,735 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:16,740 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: Retrieving book with ID: 999
2025-01-25 18:05:16,743 ERROR [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: Admin 999 not found
2025-01-25 18:05:16,781 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 22 has been successfully created.
2025-01-25 18:05:16,806 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:16,812 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: Retrieving book with ID: 22
2025-01-25 18:05:16,963 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.integration.librarian.LibrarianControllerIntegrationTest]: LibrarianControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-01-25 18:05:17,006 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.integration.librarian.LibrarianControllerIntegrationTest
2025-01-25 18:05:17,018 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-01-25 18:05:17,085 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 9820 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 18:05:17,086 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 18:05:17,088 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-01-25 18:05:18,142 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:05:18,143 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 18:05:18,183 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:18,184 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:18,185 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:18,186 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:18,187 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:18,188 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:18,189 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 45 ms. Found 0 JDBC repository interfaces.
2025-01-25 18:05:18,195 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:05:18,196 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 18:05:18,299 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 101 ms. Found 6 JPA repository interfaces.
2025-01-25 18:05:18,735 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-01-25 18:05:18,738 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-2"]
2025-01-25 18:05:18,740 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-01-25 18:05:18,742 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-01-25 18:05:18,914 INFO  [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-01-25 18:05:18,915 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1823 ms
2025-01-25 18:05:19,094 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Starting...
2025-01-25 18:05:19,099 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:testdb user=SA
2025-01-25 18:05:19,100 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Start completed.
2025-01-25 18:05:19,102 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 18:05:19,271 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 18:05:19,276 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 18:05:19,288 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.008s)
2025-01-25 18:05:19,292 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-01-25 18:05:19,295 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-01-25 18:05:19,388 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 18:05:19,407 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 18:05:19,432 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 18:05:20,013 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 18:05:20,029 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:05:20,158 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-01-25 18:05:21,162 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 18:05:21,237 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7740a097, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31b79624, org.springframework.security.web.context.SecurityContextHolderFilter@188930a3, org.springframework.security.web.header.HeaderWriterFilter@499d4f68, org.springframework.security.web.authentication.logout.LogoutFilter@138fc75f, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@442f3b2e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a64e758, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7dc72381, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c391c23, org.springframework.security.web.session.SessionManagementFilter@40100ddd, org.springframework.security.web.access.ExceptionTranslationFilter@138a04d4, org.springframework.security.web.access.intercept.AuthorizationFilter@1e7b0942]
2025-01-25 18:05:21,252 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 18:05:21,258 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 18:05:21,924 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-2"]
2025-01-25 18:05:21,950 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 61992 (http) with context path ''
2025-01-25 18:05:21,973 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 4.956 seconds (process running for 49.944)
2025-01-25 18:05:22,117 INFO  [http-nio-auto-2-exec-1] o.a.c.c.C.[Tomcat-1].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-25 18:05:22,118 INFO  [http-nio-auto-2-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-01-25 18:05:22,121 INFO  [http-nio-auto-2-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-01-25 18:05:22,124 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:22,186 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminService: The admin with ID 23 has been successfully created.
2025-01-25 18:05:22,189 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 23
2025-01-25 18:05:22,338 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:22,410 ERROR [http-nio-auto-2-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:22,437 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:22,440 INFO  [http-nio-auto-2-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 18:05:22,462 ERROR [http-nio-auto-2-exec-4] c.w.v.l.librarian.LibrarianMapper: admin is null null 
2025-01-25 18:05:22,501 ERROR [http-nio-auto-2-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:22,509 ERROR [http-nio-auto-2-exec-7] c.w.v.l.librarian.LibrarianMapper: admin is null null 
2025-01-25 18:05:22,551 ERROR [http-nio-auto-2-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:22,563 ERROR [http-nio-auto-2-exec-8] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 18:05:22,601 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:22,614 INFO  [http-nio-auto-2-exec-5] c.w.v.l.admin.AdminService: The admin with ID 24 has been successfully created.
2025-01-25 18:05:22,617 INFO  [http-nio-auto-2-exec-5] c.w.v.l.admin.AdminController: Created a new admin with ID: 24
2025-01-25 18:05:22,651 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:22,890 INFO  [http-nio-auto-2-exec-5] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-01-25 18:05:22,907 ERROR [http-nio-auto-2-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:22,986 ERROR [http-nio-auto-2-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,032 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,045 INFO  [http-nio-auto-2-exec-10] c.w.v.l.admin.AdminService: The admin with ID 25 has been successfully created.
2025-01-25 18:05:23,046 INFO  [http-nio-auto-2-exec-10] c.w.v.l.admin.AdminController: Created a new admin with ID: 25
2025-01-25 18:05:23,059 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,129 INFO  [http-nio-auto-2-exec-10] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-01-25 18:05:23,151 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,163 INFO  [http-nio-auto-2-exec-1] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-01-25 18:05:23,175 INFO  [http-nio-auto-2-exec-1] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-01-25 18:05:23,198 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,202 ERROR [http-nio-auto-2-exec-2] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 18:05:23,220 ERROR [http-nio-auto-2-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,266 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,282 INFO  [http-nio-auto-2-exec-4] c.w.v.l.admin.AdminService: The admin with ID 26 has been successfully created.
2025-01-25 18:05:23,286 INFO  [http-nio-auto-2-exec-4] c.w.v.l.admin.AdminController: Created a new admin with ID: 26
2025-01-25 18:05:23,305 ERROR [http-nio-auto-2-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,345 INFO  [http-nio-auto-2-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-01-25 18:05:23,353 ERROR [http-nio-auto-2-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,378 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,380 ERROR [http-nio-auto-2-exec-5] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 18:05:23,397 ERROR [http-nio-auto-2-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,408 INFO  [http-nio-auto-2-exec-6] c.w.v.l.admin.AdminService: The admin with ID 27 has been successfully created.
2025-01-25 18:05:23,410 INFO  [http-nio-auto-2-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 27
2025-01-25 18:05:23,420 ERROR [http-nio-auto-2-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,431 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,465 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,467 ERROR [http-nio-auto-2-exec-1] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-01-25 18:05:23,484 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,493 INFO  [http-nio-auto-2-exec-2] c.w.v.l.admin.AdminService: The admin with ID 28 has been successfully created.
2025-01-25 18:05:23,495 INFO  [http-nio-auto-2-exec-2] c.w.v.l.admin.AdminController: Created a new admin with ID: 28
2025-01-25 18:05:23,504 ERROR [http-nio-auto-2-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,529 INFO  [http-nio-auto-2-exec-3] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 5
2025-01-25 18:05:23,537 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,561 ERROR [http-nio-auto-2-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,567 ERROR [http-nio-auto-2-exec-7] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-01-25 18:05:23,585 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.integration.member.MemberControllerIntegrationTest]: MemberControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-01-25 18:05:23,618 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.integration.member.MemberControllerIntegrationTest
2025-01-25 18:05:23,800 ERROR [http-nio-auto-2-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,805 INFO  [http-nio-auto-2-exec-8] c.w.v.l.member.MemberService: Get all member
2025-01-25 18:05:23,817 INFO  [http-nio-auto-2-exec-8] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-01-25 18:05:23,989 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:23,995 ERROR [http-nio-auto-2-exec-5] c.w.v.l.member.MemberService: No member found with ID 999
2025-01-25 18:05:24,082 ERROR [http-nio-auto-2-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:24,183 ERROR [http-nio-auto-2-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:24,265 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:24,271 INFO  [http-nio-auto-2-exec-10] c.w.v.l.member.MemberController: retrieve member by id 6
2025-01-25 18:05:24,361 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-01-25 18:05:24,369 ERROR [http-nio-auto-2-exec-2] c.w.v.l.member.MemberService: No member found with ID 999
2025-01-25 18:05:24,388 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.unit.admin.AdminControllerTest]: AdminControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-01-25 18:05:24,425 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.unit.admin.AdminControllerTest
2025-01-25 18:05:24,436 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-01-25 18:05:24,513 INFO  [main] c.w.v.l.u.admin.AdminControllerTest: Starting AdminControllerTest using Java 17.0.8 with PID 9820 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 18:05:24,514 DEBUG [main] c.w.v.l.u.admin.AdminControllerTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 18:05:24,515 INFO  [main] c.w.v.l.u.admin.AdminControllerTest: The following 1 profile is active: "test"
2025-01-25 18:05:26,209 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:05:26,210 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 18:05:26,263 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:26,265 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:26,267 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:26,288 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:26,289 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:26,290 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:26,290 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 79 ms. Found 0 JDBC repository interfaces.
2025-01-25 18:05:26,300 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:05:26,302 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 18:05:26,386 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 83 ms. Found 6 JPA repository interfaces.
2025-01-25 18:05:27,467 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Starting...
2025-01-25 18:05:27,470 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:testdb user=SA
2025-01-25 18:05:27,470 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Start completed.
2025-01-25 18:05:27,504 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 18:05:27,511 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 18:05:27,538 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2025-01-25 18:05:27,546 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-01-25 18:05:27,547 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-01-25 18:05:27,633 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 18:05:27,643 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 18:05:27,658 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 18:05:28,157 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 18:05:28,171 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:05:29,136 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 18:05:29,182 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7d590a60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d3e9a6c, org.springframework.security.web.context.SecurityContextHolderFilter@4e16ad82, org.springframework.security.web.header.HeaderWriterFilter@5df93620, org.springframework.security.web.authentication.logout.LogoutFilter@3dc06289, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@3158c2d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37d5085c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71082ccf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67b2c866, org.springframework.security.web.session.SessionManagementFilter@717d1a91, org.springframework.security.web.access.ExceptionTranslationFilter@61dc2e20, org.springframework.security.web.access.intercept.AuthorizationFilter@6792e0bf]
2025-01-25 18:05:29,191 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 18:05:29,192 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 18:05:29,780 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 18:05:29,844 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext: Initializing Spring TestDispatcherServlet ''
2025-01-25 18:05:29,845 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-01-25 18:05:29,848 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 3 ms
2025-01-25 18:05:29,915 INFO  [main] c.w.v.l.u.admin.AdminControllerTest: Started AdminControllerTest in 5.48 seconds (process running for 57.887)
2025-01-25 18:05:30,319 INFO  [main] c.w.v.l.admin.AdminController: Updated admin with ID: 1
2025-01-25 18:05:30,346 INFO  [main] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-01-25 18:05:30,416 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-01-25 18:05:30,426 ERROR [main] c.w.v.l.admin.AdminService: Invalid admin ID: -1
2025-01-25 18:05:30,430 ERROR [main] c.w.v.l.admin.AdminService: Invalid admin ID: -1
2025-01-25 18:05:30,436 ERROR [main] c.w.v.l.admin.AdminService: The admin email admin.@out.tst provide not found 
2025-01-25 18:05:30,459 WARN  [main] c.w.v.l.admin.AdminService: No admins found in the system: null
2025-01-25 18:05:30,463 INFO  [main] c.w.v.l.admin.AdminService: Retrieving book with ID: 1
2025-01-25 18:05:30,470 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully deleted.
2025-01-25 18:05:30,475 ERROR [main] c.w.v.l.admin.AdminService: No admin found with ID 1. Please verify the ID and try again.
2025-01-25 18:05:30,486 ERROR [main] c.w.v.l.admin.AdminService: The admin id provide is less than or equal to zero 0 
2025-01-25 18:05:30,490 INFO  [main] c.w.v.l.admin.AdminService: empty list of admins found in the system: []
2025-01-25 18:05:30,494 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully updated.
2025-01-25 18:05:30,503 INFO  [main] c.w.v.l.admin.AdminService: Retrieving book with ID: 1
2025-01-25 18:05:30,503 ERROR [main] c.w.v.l.admin.AdminService: Admin 1 not found
2025-01-25 18:05:30,507 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully deleted.
2025-01-25 18:05:30,517 INFO  [main] c.w.v.l.admin.AdminService: Retrieving all admins: [Person(id=1, name=John Doe, email=johndoe@example.com, address=Address(street=123 Main Street, city=New York, state=NY, country=United States, postalCode=10001), contact=+531 990 900 000)]
2025-01-25 18:05:30,543 ERROR [main] c.w.v.l.librarian.LibrarianMapper: Librarian is nullnull
2025-01-25 18:05:30,546 ERROR [main] c.w.v.l.librarian.LibrarianMapper: admin is null null 
2025-01-25 18:05:30,646 ERROR [main] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-01-25 18:05:30,664 ERROR [main] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 18:05:30,695 INFO  [main] c.w.v.l.librarian.LibrarianService: Get librarian by email librariantest.test
2025-01-25 18:05:30,709 INFO  [main] c.w.v.l.librarian.LibrarianService: Get librarian by email test@test.com
2025-01-25 18:05:30,723 INFO  [main] c.w.v.l.librarian.LibrarianService: The librarian with ID 1 has been successfully deleted.
2025-01-25 18:05:30,728 ERROR [main] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-01-25 18:05:30,752 ERROR [main] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-01-25 18:05:30,759 INFO  [main] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-01-25 18:05:30,769 ERROR [main] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -134 
2025-01-25 18:05:30,777 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.unit.member.MemberControllerTest]: MemberControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-01-25 18:05:30,816 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.unit.member.MemberControllerTest
2025-01-25 18:05:30,824 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-01-25 18:05:30,874 INFO  [main] c.w.v.l.u.m.MemberControllerTest: Starting MemberControllerTest using Java 17.0.8 with PID 9820 (started by vamuhong in C:\Users\vamuhong\Documents\Vanilson\Learning\backend\Github\library-management-system)
2025-01-25 18:05:30,874 DEBUG [main] c.w.v.l.u.m.MemberControllerTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-01-25 18:05:30,875 INFO  [main] c.w.v.l.u.m.MemberControllerTest: The following 1 profile is active: "test"
2025-01-25 18:05:31,717 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:05:31,718 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-01-25 18:05:31,754 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:31,755 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:31,755 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:31,756 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:31,757 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:31,758 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-01-25 18:05:31,758 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2025-01-25 18:05:31,764 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-25 18:05:31,764 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-25 18:05:31,828 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 62 ms. Found 6 JPA repository interfaces.
2025-01-25 18:05:32,064 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Starting...
2025-01-25 18:05:32,067 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:testdb user=SA
2025-01-25 18:05:32,068 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Start completed.
2025-01-25 18:05:32,084 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-01-25 18:05:32,088 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-01-25 18:05:32,095 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.005s)
2025-01-25 18:05:32,100 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-01-25 18:05:32,101 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-01-25 18:05:32,161 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-25 18:05:32,170 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-01-25 18:05:32,181 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-25 18:05:32,502 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-25 18:05:32,513 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:05:33,346 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-01-25 18:05:33,397 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a7ae761, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a8f915a, org.springframework.security.web.context.SecurityContextHolderFilter@65754608, org.springframework.security.web.header.HeaderWriterFilter@7316b5e0, org.springframework.security.web.authentication.logout.LogoutFilter@3319efac, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@3a1998c7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79d89b06, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a08fcc9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bf8e637, org.springframework.security.web.session.SessionManagementFilter@611c997c, org.springframework.security.web.access.ExceptionTranslationFilter@b8e3802, org.springframework.security.web.access.intercept.AuthorizationFilter@53a060b4]
2025-01-25 18:05:33,418 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-01-25 18:05:33,421 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-01-25 18:05:34,266 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-01-25 18:05:34,352 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext: Initializing Spring TestDispatcherServlet ''
2025-01-25 18:05:34,352 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-01-25 18:05:34,356 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 3 ms
2025-01-25 18:05:34,409 INFO  [main] c.w.v.l.u.m.MemberControllerTest: Started MemberControllerTest in 3.585 seconds (process running for 62.382)
2025-01-25 18:05:34,525 INFO  [main] c.w.v.l.member.MemberController: The member with ID 1 has been successfully deleted.
2025-01-25 18:05:34,594 INFO  [main] c.w.v.l.member.MemberController: retrieve member by id 1
2025-01-25 18:05:34,612 INFO  [main] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-01-25 18:05:34,744 INFO  [main] c.w.v.l.member.MemberController: Created a new member with ID: 1
2025-01-25 18:05:34,765 INFO  [main] c.w.v.l.member.MemberController: The member with ID 1 has been successfully deleted.
2025-01-25 18:05:35,026 ERROR [main] c.w.v.l.member.MemberMapper: admin is null null
2025-01-25 18:05:35,030 ERROR [main] c.w.v.l.member.MemberMapper: Librarian is null null
2025-01-25 18:05:35,046 ERROR [main] c.w.v.l.member.MemberMapper: librarian is null null
2025-01-25 18:05:35,050 ERROR [main] c.w.v.l.member.MemberMapper: librarian is null null
2025-01-25 18:05:35,053 ERROR [main] c.w.v.l.member.MemberMapper: admin is null null
2025-01-25 18:05:35,059 ERROR [main] c.w.v.l.member.MemberMapper: member is null null
2025-01-25 18:05:35,215 INFO  [main] c.w.v.l.member.MemberService: member deleted successfully with ID 1
2025-01-25 18:05:35,228 ERROR [main] c.w.v.l.member.MemberService: No member found with ID 1
2025-01-25 18:05:35,243 INFO  [main] c.w.v.l.member.MemberService: Get all member
2025-01-25 18:05:35,271 ERROR [main] c.w.v.l.member.MemberService: No member found with ID 1
2025-01-25 18:05:35,285 ERROR [main] c.w.v.l.member.MemberService: The member id provided is less than or equal to zero 0 
2025-01-25 18:05:35,297 ERROR [main] c.w.v.l.member.MemberService: The librarian id provide is less than or equal to zero 0 
2025-01-25 18:05:35,676 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:05:35,686 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-01-25 18:05:35,699 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-01-25 18:05:41,025 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:05:41,027 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2025-01-25 18:05:41,033 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
2025-01-25 18:05:43,249 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:05:43,251 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown initiated...
2025-01-25 18:05:43,257 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown completed.
2025-01-25 18:05:43,267 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:05:43,269 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Shutdown initiated...
2025-01-25 18:05:43,271 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Shutdown completed.
2025-01-25 18:05:43,277 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-25 18:05:43,279 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Shutdown initiated...
2025-01-25 18:05:43,287 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Shutdown completed.
2025-05-29 12:18:15,129 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-05-29 12:18:15,421 INFO  [main] c.w.v.l.b.s.CucumberSpringConfiguration: Starting CucumberSpringConfiguration using Java 17.0.8 with PID 11556 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:18:15,423 DEBUG [main] c.w.v.l.b.s.CucumberSpringConfiguration: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:18:15,425 INFO  [main] c.w.v.l.b.s.CucumberSpringConfiguration: The following 1 profile is active: "test"
2025-05-29 12:18:21,275 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:18:21,281 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:18:21,434 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:21,440 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:21,445 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:21,450 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:21,453 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:21,457 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:21,460 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 159 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:18:21,484 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:18:21,489 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:18:21,661 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 157 ms. Found 6 JPA repository interfaces.
2025-05-29 12:18:23,827 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-05-29 12:18:24,822 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:18:24,829 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-05-29 12:18:25,140 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-05-29 12:18:25,141 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-05-29 12:18:25,142 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-05-29 12:18:25,343 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:18:25,358 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:18:25,454 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-05-29 12:18:25,466 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.079s)
2025-05-29 12:18:25,490 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-05-29 12:18:25,578 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-05-29 12:18:25,615 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-05-29 12:18:25,747 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-05-29 12:18:25,767 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.113s)
2025-05-29 12:18:26,196 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:18:26,539 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-05-29 12:18:26,688 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:18:27,449 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:18:31,735 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:18:31,882 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:18:40,733 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:18:41,097 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3fc406ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7597bf6e, org.springframework.security.web.context.SecurityContextHolderFilter@72c1813c, org.springframework.security.web.header.HeaderWriterFilter@269dd863, org.springframework.security.web.authentication.logout.LogoutFilter@35fd0de5, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@4b85d4ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8f2354e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4da92392, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54fad1d9, org.springframework.security.web.session.SessionManagementFilter@5d3ba5ab, org.springframework.security.web.access.ExceptionTranslationFilter@4d743a3c, org.springframework.security.web.access.intercept.AuthorizationFilter@e381bf5]
2025-05-29 12:18:41,127 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:18:41,129 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:18:44,773 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:18:45,087 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-05-29 12:18:45,091 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext: Initializing Spring TestDispatcherServlet ''
2025-05-29 12:18:45,092 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-05-29 12:18:45,096 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 3 ms
2025-05-29 12:18:45,316 INFO  [main] c.w.v.l.b.s.CucumberSpringConfiguration: Started CucumberSpringConfiguration in 31.632 seconds (process running for 38.588)
2025-05-29 12:18:47,362 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:47,401 INFO  [main] c.w.v.l.member.MemberService: Get all member
2025-05-29 12:18:47,431 INFO  [main] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-05-29 12:18:47,604 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:47,607 INFO  [main] c.w.v.l.member.MemberService: Get all member
2025-05-29 12:18:47,614 INFO  [main] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-05-29 12:18:47,890 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:47,931 INFO  [main] c.w.v.l.member.MemberController: retrieve member by id 1
2025-05-29 12:18:48,025 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:48,780 INFO  [main] c.w.v.l.member.MemberService: member deleted successfully with ID 1
2025-05-29 12:18:48,823 INFO  [main] c.w.v.l.member.MemberController: The member with ID 1 has been successfully deleted.
2025-05-29 12:18:49,083 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.integration.admin.AdminIntegrationTest]: AdminIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:18:49,156 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.integration.admin.AdminIntegrationTest
2025-05-29 12:18:49,171 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-05-29 12:18:49,306 INFO  [main] c.w.v.l.i.admin.AdminIntegrationTest: Starting AdminIntegrationTest using Java 17.0.8 with PID 11556 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:18:49,308 DEBUG [main] c.w.v.l.i.admin.AdminIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:18:49,309 INFO  [main] c.w.v.l.i.admin.AdminIntegrationTest: The following 1 profile is active: "test"
2025-05-29 12:18:50,371 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:18:50,372 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:18:50,411 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:50,412 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:50,413 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:50,414 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:50,416 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:50,417 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:18:50,418 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 44 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:18:50,427 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:18:50,428 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:18:50,541 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 112 ms. Found 6 JPA repository interfaces.
2025-05-29 12:18:51,350 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-05-29 12:18:51,388 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-05-29 12:18:51,393 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-05-29 12:18:51,394 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-05-29 12:18:51,703 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-05-29 12:18:51,704 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2389 ms
2025-05-29 12:18:51,794 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2025-05-29 12:18:51,798 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:18:51,798 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2025-05-29 12:18:51,800 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:18:51,931 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:18:51,935 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:18:51,949 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.011s)
2025-05-29 12:18:51,953 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-05-29 12:18:51,955 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-05-29 12:18:52,046 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:18:52,062 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:18:52,084 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:18:52,492 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:18:52,503 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:18:52,683 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-05-29 12:18:53,505 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:18:53,553 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7caa2476, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29039958, org.springframework.security.web.context.SecurityContextHolderFilter@108f3f68, org.springframework.security.web.header.HeaderWriterFilter@6542a2ff, org.springframework.security.web.authentication.logout.LogoutFilter@6540593b, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@7e0af09c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20d65b51, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ec62ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e518e2b, org.springframework.security.web.session.SessionManagementFilter@44246f75, org.springframework.security.web.access.ExceptionTranslationFilter@74490167, org.springframework.security.web.access.intercept.AuthorizationFilter@2acff665]
2025-05-29 12:18:53,563 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:18:53,565 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:18:54,198 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-05-29 12:18:54,199 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring TestDispatcherServlet ''
2025-05-29 12:18:54,199 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-05-29 12:18:54,201 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 1 ms
2025-05-29 12:18:54,294 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-05-29 12:18:54,382 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57444 (http) with context path ''
2025-05-29 12:18:54,406 INFO  [main] c.w.v.l.i.admin.AdminIntegrationTest: Started AdminIntegrationTest in 5.235 seconds (process running for 47.684)
2025-05-29 12:18:54,906 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-05-29 12:18:57,103 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-29 12:18:57,104 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-05-29 12:18:57,106 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-05-29 12:18:57,120 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:57,141 ERROR [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin email nonexistent@test.test provide not found 
2025-05-29 12:18:57,368 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 5 has been successfully created.
2025-05-29 12:18:57,391 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:59,036 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 7 has been successfully created.
2025-05-29 12:18:59,257 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:59,415 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminService: The admin with ID 7 has been successfully updated.
2025-05-29 12:18:59,428 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminController: Updated admin with ID: 7
2025-05-29 12:18:59,562 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 9 has been successfully created.
2025-05-29 12:18:59,591 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:59,596 INFO  [http-nio-auto-1-exec-5] c.w.v.l.admin.AdminService: The admin with ID 9 has been successfully deleted.
2025-05-29 12:18:59,643 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 11 has been successfully created.
2025-05-29 12:18:59,684 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:59,729 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 13 has been successfully created.
2025-05-29 12:18:59,758 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:59,761 ERROR [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: No admin found with ID 999. Please verify the ID and try again.
2025-05-29 12:18:59,805 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 15 has been successfully created.
2025-05-29 12:18:59,828 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:59,838 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminService: Retrieving all admins: [Person(id=14, name=John Doe, email=john.doe@example.com, address=Address(street=123 Main St, city=Anytown, state=NY, country=USA, postalCode=12345), contact=+123 456-789-123), Person(id=15, name=Sandro Doe, email=sando@test.test, address=Address(street=123 Main St, city=Anytown, state=NY, country=USA, postalCode=12345), contact=+345 456-789-123)]
2025-05-29 12:18:59,908 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 17 has been successfully created.
2025-05-29 12:18:59,968 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:18:59,984 INFO  [http-nio-auto-1-exec-9] c.w.v.l.admin.AdminService: The admin with ID 18 has been successfully created.
2025-05-29 12:18:59,986 INFO  [http-nio-auto-1-exec-9] c.w.v.l.admin.AdminController: Created a new admin with ID: 18
2025-05-29 12:19:00,125 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 20 has been successfully created.
2025-05-29 12:19:00,151 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:00,156 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: Retrieving book with ID: 999
2025-05-29 12:19:00,158 ERROR [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: Admin 999 not found
2025-05-29 12:19:00,198 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 22 has been successfully created.
2025-05-29 12:19:00,238 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:00,244 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: Retrieving book with ID: 22
2025-05-29 12:19:00,378 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.integration.librarian.LibrarianControllerIntegrationTest]: LibrarianControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:19:00,423 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.integration.librarian.LibrarianControllerIntegrationTest
2025-05-29 12:19:00,433 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-05-29 12:19:00,511 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 11556 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:19:00,512 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:19:00,512 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-05-29 12:19:01,538 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:19:01,539 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:19:01,589 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:01,591 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:01,592 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:01,593 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:01,593 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:01,594 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:01,595 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 55 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:19:01,603 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:19:01,603 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:19:01,717 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 110 ms. Found 6 JPA repository interfaces.
2025-05-29 12:19:02,048 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-05-29 12:19:02,050 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-2"]
2025-05-29 12:19:02,051 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-05-29 12:19:02,052 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-05-29 12:19:02,185 INFO  [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-05-29 12:19:02,186 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1669 ms
2025-05-29 12:19:02,274 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Starting...
2025-05-29 12:19:02,276 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:19:02,277 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Start completed.
2025-05-29 12:19:02,278 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:19:02,449 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:19:02,454 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:19:02,465 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.008s)
2025-05-29 12:19:02,469 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-05-29 12:19:02,470 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-05-29 12:19:02,553 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:19:02,570 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:19:02,593 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:19:03,032 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:19:03,045 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:19:03,158 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-05-29 12:19:03,877 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:19:03,938 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a43f8c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57662378, org.springframework.security.web.context.SecurityContextHolderFilter@63cb2f51, org.springframework.security.web.header.HeaderWriterFilter@7532adc8, org.springframework.security.web.authentication.logout.LogoutFilter@7d2500c2, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@6b2f6aaa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@481c2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e25b0b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39d4c84e, org.springframework.security.web.session.SessionManagementFilter@4ed8d0b2, org.springframework.security.web.access.ExceptionTranslationFilter@7d0c9b8d, org.springframework.security.web.access.intercept.AuthorizationFilter@230ed32b]
2025-05-29 12:19:03,953 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:19:03,954 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:19:04,506 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-2"]
2025-05-29 12:19:04,524 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57462 (http) with context path ''
2025-05-29 12:19:04,535 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 4.103 seconds (process running for 57.819)
2025-05-29 12:19:04,674 INFO  [http-nio-auto-2-exec-1] o.a.c.c.C.[Tomcat-1].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-29 12:19:04,675 INFO  [http-nio-auto-2-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-05-29 12:19:04,678 INFO  [http-nio-auto-2-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-05-29 12:19:04,682 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:04,727 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminService: The admin with ID 23 has been successfully created.
2025-05-29 12:19:04,729 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 23
2025-05-29 12:19:04,808 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:04,880 ERROR [http-nio-auto-2-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:04,912 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:04,914 INFO  [http-nio-auto-2-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-05-29 12:19:04,932 ERROR [http-nio-auto-2-exec-4] c.w.v.l.librarian.LibrarianMapper: admin is null null 
2025-05-29 12:19:04,965 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:04,975 ERROR [http-nio-auto-2-exec-5] c.w.v.l.librarian.LibrarianMapper: admin is null null 
2025-05-29 12:19:04,996 ERROR [http-nio-auto-2-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,003 ERROR [http-nio-auto-2-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-05-29 12:19:05,030 ERROR [http-nio-auto-2-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,041 INFO  [http-nio-auto-2-exec-7] c.w.v.l.admin.AdminService: The admin with ID 24 has been successfully created.
2025-05-29 12:19:05,043 INFO  [http-nio-auto-2-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 24
2025-05-29 12:19:05,056 ERROR [http-nio-auto-2-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,152 INFO  [http-nio-auto-2-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-05-29 12:19:05,165 ERROR [http-nio-auto-2-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,224 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,247 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,257 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminService: The admin with ID 25 has been successfully created.
2025-05-29 12:19:05,259 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 25
2025-05-29 12:19:05,267 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,287 INFO  [http-nio-auto-2-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-05-29 12:19:05,296 ERROR [http-nio-auto-2-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,304 INFO  [http-nio-auto-2-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-05-29 12:19:05,308 INFO  [http-nio-auto-2-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-05-29 12:19:05,327 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,330 ERROR [http-nio-auto-2-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-05-29 12:19:05,349 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,393 ERROR [http-nio-auto-2-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,402 INFO  [http-nio-auto-2-exec-6] c.w.v.l.admin.AdminService: The admin with ID 26 has been successfully created.
2025-05-29 12:19:05,404 INFO  [http-nio-auto-2-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 26
2025-05-29 12:19:05,415 ERROR [http-nio-auto-2-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,439 INFO  [http-nio-auto-2-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-05-29 12:19:05,448 ERROR [http-nio-auto-2-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,474 ERROR [http-nio-auto-2-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,476 ERROR [http-nio-auto-2-exec-9] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-05-29 12:19:05,492 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,502 INFO  [http-nio-auto-2-exec-10] c.w.v.l.admin.AdminService: The admin with ID 27 has been successfully created.
2025-05-29 12:19:05,505 INFO  [http-nio-auto-2-exec-10] c.w.v.l.admin.AdminController: Created a new admin with ID: 27
2025-05-29 12:19:05,514 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,529 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,563 ERROR [http-nio-auto-2-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,565 ERROR [http-nio-auto-2-exec-3] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-05-29 12:19:05,581 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,590 INFO  [http-nio-auto-2-exec-4] c.w.v.l.admin.AdminService: The admin with ID 28 has been successfully created.
2025-05-29 12:19:05,592 INFO  [http-nio-auto-2-exec-4] c.w.v.l.admin.AdminController: Created a new admin with ID: 28
2025-05-29 12:19:05,601 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,624 INFO  [http-nio-auto-2-exec-5] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 5
2025-05-29 12:19:05,633 ERROR [http-nio-auto-2-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,656 ERROR [http-nio-auto-2-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,658 ERROR [http-nio-auto-2-exec-7] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-05-29 12:19:05,673 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.integration.member.MemberControllerIntegrationTest]: MemberControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:19:05,716 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.integration.member.MemberControllerIntegrationTest
2025-05-29 12:19:05,846 ERROR [http-nio-auto-2-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,849 INFO  [http-nio-auto-2-exec-8] c.w.v.l.member.MemberService: Get all member
2025-05-29 12:19:05,861 INFO  [http-nio-auto-2-exec-8] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-05-29 12:19:05,995 ERROR [http-nio-auto-2-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:05,999 ERROR [http-nio-auto-2-exec-9] c.w.v.l.member.MemberService: No member found with ID 999
2025-05-29 12:19:06,094 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:06,203 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:06,288 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:06,294 INFO  [http-nio-auto-2-exec-2] c.w.v.l.member.MemberController: retrieve member by id 6
2025-05-29 12:19:06,384 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:19:06,393 ERROR [http-nio-auto-2-exec-4] c.w.v.l.member.MemberService: No member found with ID 999
2025-05-29 12:19:06,413 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.unit.admin.AdminControllerTest]: AdminControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:19:06,457 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.unit.admin.AdminControllerTest
2025-05-29 12:19:06,467 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-05-29 12:19:06,542 INFO  [main] c.w.v.l.u.admin.AdminControllerTest: Starting AdminControllerTest using Java 17.0.8 with PID 11556 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:19:06,543 DEBUG [main] c.w.v.l.u.admin.AdminControllerTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:19:06,543 INFO  [main] c.w.v.l.u.admin.AdminControllerTest: The following 1 profile is active: "test"
2025-05-29 12:19:07,665 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:19:07,666 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:19:07,698 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:07,699 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:07,699 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:07,700 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:07,700 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:07,700 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:07,701 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:19:07,707 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:19:07,708 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:19:07,772 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 64 ms. Found 6 JPA repository interfaces.
2025-05-29 12:19:09,539 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Starting...
2025-05-29 12:19:09,543 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:19:09,544 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Start completed.
2025-05-29 12:19:09,592 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:19:09,600 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:19:09,618 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.013s)
2025-05-29 12:19:09,628 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-05-29 12:19:09,630 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-05-29 12:19:10,004 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:19:10,047 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:19:10,096 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:19:11,493 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:19:11,518 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:19:13,689 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:19:13,788 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c6737a2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61fe5cd7, org.springframework.security.web.context.SecurityContextHolderFilter@425523a1, org.springframework.security.web.header.HeaderWriterFilter@78f65ccf, org.springframework.security.web.authentication.logout.LogoutFilter@6d206b1a, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@3c6cadfa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ee24916, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5de0508f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69cac271, org.springframework.security.web.session.SessionManagementFilter@3c94b564, org.springframework.security.web.access.ExceptionTranslationFilter@54bebf5f, org.springframework.security.web.access.intercept.AuthorizationFilter@6846b041]
2025-05-29 12:19:13,806 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:19:13,807 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:19:14,929 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:19:15,103 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext: Initializing Spring TestDispatcherServlet ''
2025-05-29 12:19:15,104 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-05-29 12:19:15,112 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 7 ms
2025-05-29 12:19:15,329 INFO  [main] c.w.v.l.u.admin.AdminControllerTest: Started AdminControllerTest in 8.862 seconds (process running for 68.619)
2025-05-29 12:19:16,468 INFO  [main] c.w.v.l.admin.AdminController: Updated admin with ID: 1
2025-05-29 12:19:16,538 INFO  [main] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-05-29 12:19:16,747 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-05-29 12:19:16,768 ERROR [main] c.w.v.l.admin.AdminService: Invalid admin ID: -1
2025-05-29 12:19:16,785 ERROR [main] c.w.v.l.admin.AdminService: Invalid admin ID: -1
2025-05-29 12:19:16,797 ERROR [main] c.w.v.l.admin.AdminService: The admin email admin.@out.tst provide not found 
2025-05-29 12:19:16,849 WARN  [main] c.w.v.l.admin.AdminService: No admins found in the system: null
2025-05-29 12:19:16,855 INFO  [main] c.w.v.l.admin.AdminService: Retrieving book with ID: 1
2025-05-29 12:19:16,867 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully deleted.
2025-05-29 12:19:16,874 ERROR [main] c.w.v.l.admin.AdminService: No admin found with ID 1. Please verify the ID and try again.
2025-05-29 12:19:16,888 ERROR [main] c.w.v.l.admin.AdminService: The admin id provide is less than or equal to zero 0 
2025-05-29 12:19:16,900 INFO  [main] c.w.v.l.admin.AdminService: empty list of admins found in the system: []
2025-05-29 12:19:16,910 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully updated.
2025-05-29 12:19:16,923 INFO  [main] c.w.v.l.admin.AdminService: Retrieving book with ID: 1
2025-05-29 12:19:16,924 ERROR [main] c.w.v.l.admin.AdminService: Admin 1 not found
2025-05-29 12:19:16,930 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully deleted.
2025-05-29 12:19:16,949 INFO  [main] c.w.v.l.admin.AdminService: Retrieving all admins: [Person(id=1, name=John Doe, email=johndoe@example.com, address=Address(street=123 Main Street, city=New York, state=NY, country=United States, postalCode=10001), contact=+531 990 900 000)]
2025-05-29 12:19:18,245 INFO  [main] c.w.v.l.book.BookService: Retrieving all books
2025-05-29 12:19:18,266 INFO  [main] c.w.v.l.book.BookService: Retrieving all books
2025-05-29 12:19:18,276 ERROR [main] c.w.v.l.book.BookService: The book with ID 1 could not be found in our database. Please verify the ID and try again.
2025-05-29 12:19:18,284 ERROR [main] c.w.v.l.book.BookService: Invalid data provided for the book with ID 0. Please check the input data and try again.
2025-05-29 12:19:18,291 ERROR [main] c.w.v.l.book.BookService: Book request is null
2025-05-29 12:19:18,301 ERROR [main] c.w.v.l.book.BookService: Book is not available for borrowing: Test Book
2025-05-29 12:19:18,313 INFO  [main] c.w.v.l.book.BookService: Book is not available for borrowing: Test Book
2025-05-29 12:19:18,322 INFO  [main] c.w.v.l.book.BookService: Book is available for borrowing: Test Book
2025-05-29 12:19:18,374 ERROR [main] c.w.v.l.librarian.LibrarianMapper: Librarian is nullnull
2025-05-29 12:19:18,380 ERROR [main] c.w.v.l.librarian.LibrarianMapper: admin is null null 
2025-05-29 12:19:18,430 ERROR [main] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-05-29 12:19:18,454 ERROR [main] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-05-29 12:19:18,507 INFO  [main] c.w.v.l.librarian.LibrarianService: Get librarian by email librariantest.test
2025-05-29 12:19:18,528 INFO  [main] c.w.v.l.librarian.LibrarianService: Get librarian by email test@test.com
2025-05-29 12:19:18,556 INFO  [main] c.w.v.l.librarian.LibrarianService: The librarian with ID 1 has been successfully deleted.
2025-05-29 12:19:18,564 ERROR [main] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-05-29 12:19:18,625 ERROR [main] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-05-29 12:19:18,637 INFO  [main] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-05-29 12:19:18,654 ERROR [main] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -134 
2025-05-29 12:19:18,673 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.unit.member.MemberControllerTest]: MemberControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:19:18,756 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.unit.member.MemberControllerTest
2025-05-29 12:19:18,772 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-05-29 12:19:18,918 INFO  [main] c.w.v.l.u.m.MemberControllerTest: Starting MemberControllerTest using Java 17.0.8 with PID 11556 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:19:18,919 DEBUG [main] c.w.v.l.u.m.MemberControllerTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:19:18,920 INFO  [main] c.w.v.l.u.m.MemberControllerTest: The following 1 profile is active: "test"
2025-05-29 12:19:20,881 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:19:20,881 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:19:20,947 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:20,948 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:20,949 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:20,950 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:20,951 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:20,953 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:19:20,954 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 71 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:19:20,969 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:19:20,970 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:19:21,065 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 93 ms. Found 6 JPA repository interfaces.
2025-05-29 12:19:21,690 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Starting...
2025-05-29 12:19:21,695 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:19:21,696 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Start completed.
2025-05-29 12:19:21,730 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:19:21,737 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:19:21,753 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.012s)
2025-05-29 12:19:21,762 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-05-29 12:19:21,763 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-05-29 12:19:21,964 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:19:22,017 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:19:22,189 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:19:22,897 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:19:22,910 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:19:24,974 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:19:25,117 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c4b6906, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54e87bf9, org.springframework.security.web.context.SecurityContextHolderFilter@3f6ea0db, org.springframework.security.web.header.HeaderWriterFilter@4be571c2, org.springframework.security.web.authentication.logout.LogoutFilter@1bfcb7b6, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@71e7ab1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d0ef531, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@699758b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@aa25cd4, org.springframework.security.web.session.SessionManagementFilter@29879ab8, org.springframework.security.web.access.ExceptionTranslationFilter@267694a7, org.springframework.security.web.access.intercept.AuthorizationFilter@30bf0a9c]
2025-05-29 12:19:25,156 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:19:25,157 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:19:26,232 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:19:26,360 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext: Initializing Spring TestDispatcherServlet ''
2025-05-29 12:19:26,361 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-05-29 12:19:26,368 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 6 ms
2025-05-29 12:19:26,465 INFO  [main] c.w.v.l.u.m.MemberControllerTest: Started MemberControllerTest in 7.694 seconds (process running for 79.761)
2025-05-29 12:19:26,647 INFO  [main] c.w.v.l.member.MemberController: The member with ID 1 has been successfully deleted.
2025-05-29 12:19:26,759 INFO  [main] c.w.v.l.member.MemberController: retrieve member by id 1
2025-05-29 12:19:26,791 INFO  [main] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-05-29 12:19:26,892 INFO  [main] c.w.v.l.member.MemberController: Created a new member with ID: 1
2025-05-29 12:19:26,917 INFO  [main] c.w.v.l.member.MemberController: The member with ID 1 has been successfully deleted.
2025-05-29 12:19:27,307 ERROR [main] c.w.v.l.member.MemberMapper: admin is null null
2025-05-29 12:19:27,312 ERROR [main] c.w.v.l.member.MemberMapper: Librarian is null null
2025-05-29 12:19:27,325 ERROR [main] c.w.v.l.member.MemberMapper: librarian is null null
2025-05-29 12:19:27,333 ERROR [main] c.w.v.l.member.MemberMapper: librarian is null null
2025-05-29 12:19:27,342 ERROR [main] c.w.v.l.member.MemberMapper: admin is null null
2025-05-29 12:19:27,354 ERROR [main] c.w.v.l.member.MemberMapper: member is null null
2025-05-29 12:19:27,525 INFO  [main] c.w.v.l.member.MemberService: member deleted successfully with ID 1
2025-05-29 12:19:27,538 ERROR [main] c.w.v.l.member.MemberService: No member found with ID 1
2025-05-29 12:19:27,561 INFO  [main] c.w.v.l.member.MemberService: Get all member
2025-05-29 12:19:27,602 ERROR [main] c.w.v.l.member.MemberService: No member found with ID 1
2025-05-29 12:19:27,614 ERROR [main] c.w.v.l.member.MemberService: The member id provided is less than or equal to zero 0 
2025-05-29 12:19:27,631 ERROR [main] c.w.v.l.member.MemberService: The librarian id provide is less than or equal to zero 0 
2025-05-29 12:19:30,641 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:19:30,650 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-05-29 12:19:30,657 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-05-29 12:19:32,467 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:19:32,470 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2025-05-29 12:19:32,473 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
2025-05-29 12:19:34,070 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:19:34,073 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown initiated...
2025-05-29 12:19:34,075 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown completed.
2025-05-29 12:19:34,088 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:19:34,090 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Shutdown initiated...
2025-05-29 12:19:34,093 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Shutdown completed.
2025-05-29 12:19:34,100 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:19:34,102 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Shutdown initiated...
2025-05-29 12:19:34,108 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Shutdown completed.
2025-05-29 12:23:58,920 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2025-05-29 12:23:59,186 INFO  [main] c.w.v.l.b.s.CucumberSpringConfiguration: Starting CucumberSpringConfiguration using Java 17.0.8 with PID 6208 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:23:59,188 DEBUG [main] c.w.v.l.b.s.CucumberSpringConfiguration: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:23:59,190 INFO  [main] c.w.v.l.b.s.CucumberSpringConfiguration: The following 1 profile is active: "test"
2025-05-29 12:24:09,408 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:24:09,415 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:24:09,617 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:09,631 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:09,639 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:09,644 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:09,649 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:09,660 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:09,664 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 226 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:24:09,709 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:24:09,716 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:24:10,000 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 267 ms. Found 6 JPA repository interfaces.
2025-05-29 12:24:13,567 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2025-05-29 12:24:15,065 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:24:15,075 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2025-05-29 12:24:15,379 INFO  [main] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2025-05-29 12:24:15,380 INFO  [main] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2025-05-29 12:24:15,381 INFO  [main] o.f.c.i.license.VersionPrinter: 
2025-05-29 12:24:15,560 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:24:15,577 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:24:15,666 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-05-29 12:24:15,676 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.065s)
2025-05-29 12:24:15,699 INFO  [main] o.f.c.i.s.JdbcTableSchemaHistory: Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-05-29 12:24:15,780 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": << Empty Schema >>
2025-05-29 12:24:15,814 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "1 - CREATE ENTITIES TABLE"
2025-05-29 12:24:15,916 INFO  [main] o.f.core.internal.command.DbMigrate: Migrating schema "PUBLIC" to version "2 - CREATE USER TABLE"
2025-05-29 12:24:15,933 INFO  [main] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "PUBLIC", now at version v2 (execution time 00:00.086s)
2025-05-29 12:24:16,259 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:24:16,533 INFO  [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2025-05-29 12:24:16,721 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:24:17,896 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:24:21,390 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:24:21,521 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:24:26,337 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:24:26,534 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@12630310, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31a9e442, org.springframework.security.web.context.SecurityContextHolderFilter@5d8f3a36, org.springframework.security.web.header.HeaderWriterFilter@7a9b780e, org.springframework.security.web.authentication.logout.LogoutFilter@6e7e7cde, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@da2660a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d3ba5ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1db5254d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66a388d4, org.springframework.security.web.session.SessionManagementFilter@15546956, org.springframework.security.web.access.ExceptionTranslationFilter@25e54512, org.springframework.security.web.access.intercept.AuthorizationFilter@f578a04]
2025-05-29 12:24:26,563 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:24:26,564 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:24:29,317 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:24:29,833 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-05-29 12:24:29,838 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext: Initializing Spring TestDispatcherServlet ''
2025-05-29 12:24:29,839 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-05-29 12:24:29,844 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 4 ms
2025-05-29 12:24:30,310 INFO  [main] c.w.v.l.b.s.CucumberSpringConfiguration: Started CucumberSpringConfiguration in 32.784 seconds (process running for 41.503)
2025-05-29 12:24:34,102 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:34,139 INFO  [main] c.w.v.l.member.MemberService: Get all member
2025-05-29 12:24:34,175 INFO  [main] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-05-29 12:24:34,362 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:34,364 INFO  [main] c.w.v.l.member.MemberService: Get all member
2025-05-29 12:24:34,370 INFO  [main] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-05-29 12:24:34,627 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:34,669 INFO  [main] c.w.v.l.member.MemberController: retrieve member by id 1
2025-05-29 12:24:34,753 ERROR [main] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:36,494 INFO  [main] c.w.v.l.member.MemberService: member deleted successfully with ID 1
2025-05-29 12:24:36,545 INFO  [main] c.w.v.l.member.MemberController: The member with ID 1 has been successfully deleted.
2025-05-29 12:24:36,905 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.integration.admin.AdminIntegrationTest]: AdminIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:24:36,986 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.integration.admin.AdminIntegrationTest
2025-05-29 12:24:37,003 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-05-29 12:24:37,151 INFO  [main] c.w.v.l.i.admin.AdminIntegrationTest: Starting AdminIntegrationTest using Java 17.0.8 with PID 6208 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:24:37,155 DEBUG [main] c.w.v.l.i.admin.AdminIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:24:37,155 INFO  [main] c.w.v.l.i.admin.AdminIntegrationTest: The following 1 profile is active: "test"
2025-05-29 12:24:38,280 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:24:38,280 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:24:38,324 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:38,324 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:38,324 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:38,324 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:38,324 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:38,324 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:38,324 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 46 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:24:38,338 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:24:38,338 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:24:38,413 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 74 ms. Found 6 JPA repository interfaces.
2025-05-29 12:24:39,081 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-05-29 12:24:39,102 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-1"]
2025-05-29 12:24:39,113 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-05-29 12:24:39,113 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-05-29 12:24:39,348 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-05-29 12:24:39,348 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2186 ms
2025-05-29 12:24:39,473 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2025-05-29 12:24:39,473 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:24:39,473 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2025-05-29 12:24:39,478 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:24:39,596 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:24:39,599 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:24:39,603 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.008s)
2025-05-29 12:24:39,618 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-05-29 12:24:39,620 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-05-29 12:24:39,698 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:24:39,720 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:24:39,745 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:24:40,225 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:24:40,237 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:24:40,456 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-05-29 12:24:41,225 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:24:41,269 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6540593b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31d5af0e, org.springframework.security.web.context.SecurityContextHolderFilter@78ad7270, org.springframework.security.web.header.HeaderWriterFilter@1189b5f2, org.springframework.security.web.authentication.logout.LogoutFilter@77b7a5cb, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@2e2efda9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6542a2ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39755dcb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a3b5695, org.springframework.security.web.session.SessionManagementFilter@2d848a33, org.springframework.security.web.access.ExceptionTranslationFilter@1cf73fc7, org.springframework.security.web.access.intercept.AuthorizationFilter@10188b26]
2025-05-29 12:24:41,278 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:24:41,278 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:24:41,863 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-05-29 12:24:41,864 INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring TestDispatcherServlet ''
2025-05-29 12:24:41,865 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-05-29 12:24:41,868 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 3 ms
2025-05-29 12:24:41,949 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-1"]
2025-05-29 12:24:42,029 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57902 (http) with context path ''
2025-05-29 12:24:42,057 INFO  [main] c.w.v.l.i.admin.AdminIntegrationTest: Started AdminIntegrationTest in 5.054 seconds (process running for 53.252)
2025-05-29 12:24:42,603 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 3 has been successfully created.
2025-05-29 12:24:44,942 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-29 12:24:44,942 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-05-29 12:24:44,946 INFO  [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2025-05-29 12:24:44,966 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:44,996 ERROR [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: The admin email nonexistent@test.test provide not found 
2025-05-29 12:24:46,159 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 5 has been successfully created.
2025-05-29 12:24:46,227 ERROR [http-nio-auto-1-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:50,740 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 7 has been successfully created.
2025-05-29 12:24:51,110 ERROR [http-nio-auto-1-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:51,307 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminService: The admin with ID 7 has been successfully updated.
2025-05-29 12:24:51,329 INFO  [http-nio-auto-1-exec-4] c.w.v.l.admin.AdminController: Updated admin with ID: 7
2025-05-29 12:24:51,470 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 9 has been successfully created.
2025-05-29 12:24:51,504 ERROR [http-nio-auto-1-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:51,514 INFO  [http-nio-auto-1-exec-5] c.w.v.l.admin.AdminService: The admin with ID 9 has been successfully deleted.
2025-05-29 12:24:51,570 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 11 has been successfully created.
2025-05-29 12:24:51,614 ERROR [http-nio-auto-1-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:51,664 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 13 has been successfully created.
2025-05-29 12:24:51,695 ERROR [http-nio-auto-1-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:51,700 ERROR [http-nio-auto-1-exec-7] c.w.v.l.admin.AdminService: No admin found with ID 999. Please verify the ID and try again.
2025-05-29 12:24:51,744 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 15 has been successfully created.
2025-05-29 12:24:51,771 ERROR [http-nio-auto-1-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:51,778 INFO  [http-nio-auto-1-exec-8] c.w.v.l.admin.AdminService: Retrieving all admins: [Person(id=14, name=John Doe, email=john.doe@example.com, address=Address(street=123 Main St, city=Anytown, state=NY, country=USA, postalCode=12345), contact=+123 456-789-123), Person(id=15, name=Sandro Doe, email=sando@test.test, address=Address(street=123 Main St, city=Anytown, state=NY, country=USA, postalCode=12345), contact=+345 456-789-123)]
2025-05-29 12:24:51,841 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 17 has been successfully created.
2025-05-29 12:24:51,894 ERROR [http-nio-auto-1-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:51,904 INFO  [http-nio-auto-1-exec-9] c.w.v.l.admin.AdminService: The admin with ID 18 has been successfully created.
2025-05-29 12:24:51,906 INFO  [http-nio-auto-1-exec-9] c.w.v.l.admin.AdminController: Created a new admin with ID: 18
2025-05-29 12:24:52,026 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 20 has been successfully created.
2025-05-29 12:24:52,051 ERROR [http-nio-auto-1-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:52,056 INFO  [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: Retrieving book with ID: 999
2025-05-29 12:24:52,058 ERROR [http-nio-auto-1-exec-10] c.w.v.l.admin.AdminService: Admin 999 not found
2025-05-29 12:24:52,098 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 22 has been successfully created.
2025-05-29 12:24:52,120 ERROR [http-nio-auto-1-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:52,125 INFO  [http-nio-auto-1-exec-1] c.w.v.l.admin.AdminService: Retrieving book with ID: 22
2025-05-29 12:24:52,264 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.integration.librarian.LibrarianControllerIntegrationTest]: LibrarianControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:24:52,309 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.integration.librarian.LibrarianControllerIntegrationTest
2025-05-29 12:24:52,319 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-05-29 12:24:52,397 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Starting LibrarianControllerIntegrationTest using Java 17.0.8 with PID 6208 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:24:52,398 DEBUG [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:24:52,398 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: The following 1 profile is active: "test"
2025-05-29 12:24:53,389 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:24:53,390 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:24:53,428 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:53,429 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:53,430 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:53,431 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:53,432 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:53,433 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:53,433 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 42 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:24:53,440 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:24:53,440 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:24:53,497 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 57 ms. Found 6 JPA repository interfaces.
2025-05-29 12:24:53,747 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 0 (http)
2025-05-29 12:24:53,749 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-auto-2"]
2025-05-29 12:24:53,750 INFO  [main] o.a.catalina.core.StandardService: Starting service [Tomcat]
2025-05-29 12:24:53,752 INFO  [main] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-05-29 12:24:53,899 INFO  [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2025-05-29 12:24:53,900 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1497 ms
2025-05-29 12:24:53,994 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Starting...
2025-05-29 12:24:53,997 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:24:53,998 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Start completed.
2025-05-29 12:24:53,999 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:24:54,095 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:24:54,099 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:24:54,108 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.006s)
2025-05-29 12:24:54,111 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-05-29 12:24:54,112 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-05-29 12:24:54,172 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:24:54,187 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:24:54,203 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:24:54,595 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:24:54,608 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:24:54,697 DEBUG [main] c.w.v.l.s.JwtAuthenticationFilter: Filter 'jwtAuthenticationFilter' configured for use
2025-05-29 12:24:55,339 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:24:55,373 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3d255868, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15409750, org.springframework.security.web.context.SecurityContextHolderFilter@22b97409, org.springframework.security.web.header.HeaderWriterFilter@6e25b0b0, org.springframework.security.web.authentication.logout.LogoutFilter@7b5427bc, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@357d322c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e1be277, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@230ed32b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@895f2c8, org.springframework.security.web.session.SessionManagementFilter@2a5c21bf, org.springframework.security.web.access.ExceptionTranslationFilter@6b9e2eda, org.springframework.security.web.access.intercept.AuthorizationFilter@6a5dd09]
2025-05-29 12:24:55,380 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:24:55,381 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:24:55,799 INFO  [main] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-auto-2"]
2025-05-29 12:24:55,816 INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 57930 (http) with context path ''
2025-05-29 12:24:55,825 INFO  [main] c.w.v.l.i.l.LibrarianControllerIntegrationTest: Started LibrarianControllerIntegrationTest in 3.507 seconds (process running for 67.019)
2025-05-29 12:24:55,926 INFO  [http-nio-auto-2-exec-1] o.a.c.c.C.[Tomcat-1].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-29 12:24:55,927 INFO  [http-nio-auto-2-exec-1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2025-05-29 12:24:55,930 INFO  [http-nio-auto-2-exec-1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2025-05-29 12:24:55,932 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:55,969 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminService: The admin with ID 23 has been successfully created.
2025-05-29 12:24:55,971 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 23
2025-05-29 12:24:56,051 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,106 ERROR [http-nio-auto-2-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,129 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,130 INFO  [http-nio-auto-2-exec-4] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-05-29 12:24:56,144 ERROR [http-nio-auto-2-exec-4] c.w.v.l.librarian.LibrarianMapper: admin is null null 
2025-05-29 12:24:56,164 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,170 ERROR [http-nio-auto-2-exec-5] c.w.v.l.librarian.LibrarianMapper: admin is null null 
2025-05-29 12:24:56,185 ERROR [http-nio-auto-2-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,191 ERROR [http-nio-auto-2-exec-6] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-05-29 12:24:56,208 ERROR [http-nio-auto-2-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,217 INFO  [http-nio-auto-2-exec-7] c.w.v.l.admin.AdminService: The admin with ID 24 has been successfully created.
2025-05-29 12:24:56,219 INFO  [http-nio-auto-2-exec-7] c.w.v.l.admin.AdminController: Created a new admin with ID: 24
2025-05-29 12:24:56,229 ERROR [http-nio-auto-2-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,306 INFO  [http-nio-auto-2-exec-8] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 2
2025-05-29 12:24:56,316 ERROR [http-nio-auto-2-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,362 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,378 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,386 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminService: The admin with ID 25 has been successfully created.
2025-05-29 12:24:56,387 INFO  [http-nio-auto-2-exec-1] c.w.v.l.admin.AdminController: Created a new admin with ID: 25
2025-05-29 12:24:56,395 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,411 INFO  [http-nio-auto-2-exec-2] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 3
2025-05-29 12:24:56,419 ERROR [http-nio-auto-2-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,424 INFO  [http-nio-auto-2-exec-3] c.w.v.l.librarian.LibrarianService: The librarian with ID 3 has been successfully deleted.
2025-05-29 12:24:56,427 INFO  [http-nio-auto-2-exec-3] c.w.v.l.l.LibrarianController: The librarian with ID 3 has been successfully deleted.
2025-05-29 12:24:56,442 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,444 ERROR [http-nio-auto-2-exec-4] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-05-29 12:24:56,459 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,501 ERROR [http-nio-auto-2-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,509 INFO  [http-nio-auto-2-exec-6] c.w.v.l.admin.AdminService: The admin with ID 26 has been successfully created.
2025-05-29 12:24:56,511 INFO  [http-nio-auto-2-exec-6] c.w.v.l.admin.AdminController: Created a new admin with ID: 26
2025-05-29 12:24:56,519 ERROR [http-nio-auto-2-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,538 INFO  [http-nio-auto-2-exec-7] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 4
2025-05-29 12:24:56,544 ERROR [http-nio-auto-2-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,563 ERROR [http-nio-auto-2-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,565 ERROR [http-nio-auto-2-exec-9] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-05-29 12:24:56,579 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,587 INFO  [http-nio-auto-2-exec-10] c.w.v.l.admin.AdminService: The admin with ID 27 has been successfully created.
2025-05-29 12:24:56,588 INFO  [http-nio-auto-2-exec-10] c.w.v.l.admin.AdminController: Created a new admin with ID: 27
2025-05-29 12:24:56,595 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,605 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,633 ERROR [http-nio-auto-2-exec-3] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,635 ERROR [http-nio-auto-2-exec-3] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -1 
2025-05-29 12:24:56,651 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,660 INFO  [http-nio-auto-2-exec-4] c.w.v.l.admin.AdminService: The admin with ID 28 has been successfully created.
2025-05-29 12:24:56,661 INFO  [http-nio-auto-2-exec-4] c.w.v.l.admin.AdminController: Created a new admin with ID: 28
2025-05-29 12:24:56,668 ERROR [http-nio-auto-2-exec-5] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,686 INFO  [http-nio-auto-2-exec-5] c.w.v.l.l.LibrarianController: Created a new librarian with ID: 5
2025-05-29 12:24:56,693 ERROR [http-nio-auto-2-exec-6] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,711 ERROR [http-nio-auto-2-exec-7] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,714 ERROR [http-nio-auto-2-exec-7] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-05-29 12:24:56,728 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.integration.member.MemberControllerIntegrationTest]: MemberControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:24:56,761 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.integration.member.MemberControllerIntegrationTest
2025-05-29 12:24:56,866 ERROR [http-nio-auto-2-exec-8] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:56,868 INFO  [http-nio-auto-2-exec-8] c.w.v.l.member.MemberService: Get all member
2025-05-29 12:24:56,877 INFO  [http-nio-auto-2-exec-8] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-05-29 12:24:57,006 ERROR [http-nio-auto-2-exec-9] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:57,010 ERROR [http-nio-auto-2-exec-9] c.w.v.l.member.MemberService: No member found with ID 999
2025-05-29 12:24:57,072 ERROR [http-nio-auto-2-exec-10] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:57,147 ERROR [http-nio-auto-2-exec-1] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:57,210 ERROR [http-nio-auto-2-exec-2] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:57,214 INFO  [http-nio-auto-2-exec-2] c.w.v.l.member.MemberController: retrieve member by id 6
2025-05-29 12:24:57,283 ERROR [http-nio-auto-2-exec-4] c.w.v.l.s.JwtAuthenticationFilter: Token not found or invalid format
2025-05-29 12:24:57,293 ERROR [http-nio-auto-2-exec-4] c.w.v.l.member.MemberService: No member found with ID 999
2025-05-29 12:24:57,310 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.unit.admin.AdminControllerTest]: AdminControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:24:57,340 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.unit.admin.AdminControllerTest
2025-05-29 12:24:57,353 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-05-29 12:24:57,403 INFO  [main] c.w.v.l.u.admin.AdminControllerTest: Starting AdminControllerTest using Java 17.0.8 with PID 6208 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:24:57,403 DEBUG [main] c.w.v.l.u.admin.AdminControllerTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:24:57,404 INFO  [main] c.w.v.l.u.admin.AdminControllerTest: The following 1 profile is active: "test"
2025-05-29 12:24:58,212 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:24:58,213 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:24:58,240 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:58,240 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:58,241 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:58,242 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:58,242 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:58,243 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:24:58,243 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:24:58,249 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:24:58,250 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:24:58,312 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 61 ms. Found 6 JPA repository interfaces.
2025-05-29 12:25:00,127 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Starting...
2025-05-29 12:25:00,132 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:25:00,134 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Start completed.
2025-05-29 12:25:00,189 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:25:00,197 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:25:00,219 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.017s)
2025-05-29 12:25:00,232 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-05-29 12:25:00,235 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-05-29 12:25:00,607 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:25:00,663 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:25:00,735 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:25:03,580 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:25:03,631 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:25:08,800 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:25:09,343 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c685988, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e3da3f8, org.springframework.security.web.context.SecurityContextHolderFilter@3cc4f0d7, org.springframework.security.web.header.HeaderWriterFilter@65c12b40, org.springframework.security.web.authentication.logout.LogoutFilter@3215e669, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@491b2ac3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73c14169, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63b59324, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58c57e46, org.springframework.security.web.session.SessionManagementFilter@415608dc, org.springframework.security.web.access.ExceptionTranslationFilter@5b73911a, org.springframework.security.web.access.intercept.AuthorizationFilter@237030e5]
2025-05-29 12:25:09,377 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:25:09,380 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:25:14,885 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:25:15,067 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext: Initializing Spring TestDispatcherServlet ''
2025-05-29 12:25:15,070 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-05-29 12:25:15,076 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 5 ms
2025-05-29 12:25:15,183 INFO  [main] c.w.v.l.u.admin.AdminControllerTest: Started AdminControllerTest in 17.83 seconds (process running for 86.377)
2025-05-29 12:25:16,368 INFO  [main] c.w.v.l.admin.AdminController: Updated admin with ID: 1
2025-05-29 12:25:16,435 INFO  [main] c.w.v.l.admin.AdminController: Created a new admin with ID: 2
2025-05-29 12:25:16,606 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully created.
2025-05-29 12:25:16,631 ERROR [main] c.w.v.l.admin.AdminService: Invalid admin ID: -1
2025-05-29 12:25:16,640 ERROR [main] c.w.v.l.admin.AdminService: Invalid admin ID: -1
2025-05-29 12:25:16,651 ERROR [main] c.w.v.l.admin.AdminService: The admin email admin.@out.tst provide not found 
2025-05-29 12:25:16,694 WARN  [main] c.w.v.l.admin.AdminService: No admins found in the system: null
2025-05-29 12:25:16,701 INFO  [main] c.w.v.l.admin.AdminService: Retrieving book with ID: 1
2025-05-29 12:25:16,712 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully deleted.
2025-05-29 12:25:16,720 ERROR [main] c.w.v.l.admin.AdminService: No admin found with ID 1. Please verify the ID and try again.
2025-05-29 12:25:16,732 ERROR [main] c.w.v.l.admin.AdminService: The admin id provide is less than or equal to zero 0 
2025-05-29 12:25:16,742 INFO  [main] c.w.v.l.admin.AdminService: empty list of admins found in the system: []
2025-05-29 12:25:16,749 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 2 has been successfully updated.
2025-05-29 12:25:16,762 INFO  [main] c.w.v.l.admin.AdminService: Retrieving book with ID: 1
2025-05-29 12:25:16,764 ERROR [main] c.w.v.l.admin.AdminService: Admin 1 not found
2025-05-29 12:25:16,773 INFO  [main] c.w.v.l.admin.AdminService: The admin with ID 1 has been successfully deleted.
2025-05-29 12:25:16,792 INFO  [main] c.w.v.l.admin.AdminService: Retrieving all admins: [Person(id=1, name=John Doe, email=johndoe@example.com, address=Address(street=123 Main Street, city=New York, state=NY, country=United States, postalCode=10001), contact=+531 990 900 000)]
2025-05-29 12:25:18,031 INFO  [main] c.w.v.l.book.BookService: Retrieving all books
2025-05-29 12:25:18,051 INFO  [main] c.w.v.l.book.BookService: Retrieving all books
2025-05-29 12:25:18,062 ERROR [main] c.w.v.l.book.BookService: The book with ID 1 could not be found in our database. Please verify the ID and try again.
2025-05-29 12:25:18,068 ERROR [main] c.w.v.l.book.BookService: Invalid data provided for the book with ID 0. Please check the input data and try again.
2025-05-29 12:25:18,074 ERROR [main] c.w.v.l.book.BookService: Book request is null
2025-05-29 12:25:18,080 ERROR [main] c.w.v.l.book.BookService: Book is not available for borrowing: Test Book
2025-05-29 12:25:18,090 INFO  [main] c.w.v.l.book.BookService: Book is not available for borrowing: Test Book
2025-05-29 12:25:18,098 INFO  [main] c.w.v.l.book.BookService: Book is available for borrowing: Test Book
2025-05-29 12:25:18,153 ERROR [main] c.w.v.l.librarian.LibrarianMapper: Librarian is nullnull
2025-05-29 12:25:18,157 ERROR [main] c.w.v.l.librarian.LibrarianMapper: admin is null null 
2025-05-29 12:25:18,183 ERROR [main] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-05-29 12:25:18,205 ERROR [main] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-05-29 12:25:18,254 INFO  [main] c.w.v.l.librarian.LibrarianService: Get librarian by email librariantest.test
2025-05-29 12:25:18,272 INFO  [main] c.w.v.l.librarian.LibrarianService: Get librarian by email test@test.com
2025-05-29 12:25:18,293 INFO  [main] c.w.v.l.librarian.LibrarianService: The librarian with ID 1 has been successfully deleted.
2025-05-29 12:25:18,301 ERROR [main] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero 0 
2025-05-29 12:25:18,332 ERROR [main] c.w.v.l.librarian.LibrarianService: No librarian found with ID 99
2025-05-29 12:25:18,341 INFO  [main] c.w.v.l.librarian.LibrarianService: Get all librarians
2025-05-29 12:25:18,355 ERROR [main] c.w.v.l.librarian.LibrarianService: The librarian id provide is less than or equal to zero -134 
2025-05-29 12:25:18,377 INFO  [main] o.s.t.c.s.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [code.with.vanilson.libraryapplication.unit.member.MemberControllerTest]: MemberControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-29 12:25:18,441 INFO  [main] o.s.b.t.c.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration code.with.vanilson.libraryapplication.LibraryManagementSystemApplication for test class code.with.vanilson.libraryapplication.unit.member.MemberControllerTest
2025-05-29 12:25:18,454 INFO  [main] o.s.b.d.r.RestartApplicationListener: Restart disabled due to context in which it is running
2025-05-29 12:25:18,556 INFO  [main] c.w.v.l.u.m.MemberControllerTest: Starting MemberControllerTest using Java 17.0.8 with PID 6208 (started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\library-system)
2025-05-29 12:25:18,558 DEBUG [main] c.w.v.l.u.m.MemberControllerTest: Running with Spring Boot v3.2.8, Spring v6.1.11
2025-05-29 12:25:18,559 INFO  [main] c.w.v.l.u.m.MemberControllerTest: The following 1 profile is active: "test"
2025-05-29 12:25:20,975 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:25:20,976 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29 12:25:21,038 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:25:21,039 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:25:21,041 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:25:21,042 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:25:21,043 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:25:21,045 INFO  [main] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.user.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29 12:25:21,046 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 68 ms. Found 0 JDBC repository interfaces.
2025-05-29 12:25:21,059 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29 12:25:21,060 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29 12:25:21,195 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 134 ms. Found 6 JPA repository interfaces.
2025-05-29 12:25:22,256 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Starting...
2025-05-29 12:25:22,267 INFO  [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:testdb user=SA
2025-05-29 12:25:22,268 INFO  [main] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Start completed.
2025-05-29 12:25:22,306 INFO  [main] org.flywaydb.core.FlywayExecutor: Database: jdbc:h2:mem:testdb (H2 2.2)
2025-05-29 12:25:22,312 WARN  [main] o.f.c.i.database.base.Database: Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-05-29 12:25:22,328 INFO  [main] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.013s)
2025-05-29 12:25:22,337 INFO  [main] o.f.core.internal.command.DbMigrate: Current version of schema "PUBLIC": 2
2025-05-29 12:25:22,339 INFO  [main] o.f.core.internal.command.DbMigrate: Schema "PUBLIC" is up to date. No migration necessary.
2025-05-29 12:25:23,364 INFO  [main] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29 12:25:23,383 INFO  [main] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2025-05-29 12:25:23,415 INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29 12:25:24,401 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29 12:25:24,421 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:25:26,330 INFO  [main] o.s.b.a.e.web.EndpointLinksResolver: Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-29 12:25:26,537 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f72131e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68bbe376, org.springframework.security.web.context.SecurityContextHolderFilter@2f65c7e8, org.springframework.security.web.header.HeaderWriterFilter@3ed00608, org.springframework.security.web.authentication.logout.LogoutFilter@5329b4b2, code.with.vanilson.libraryapplication.security.JwtAuthenticationFilter@1d965318, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46a8d91a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@107a3e30, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76279363, org.springframework.security.web.session.SessionManagementFilter@6387f22d, org.springframework.security.web.access.ExceptionTranslationFilter@32b76e54, org.springframework.security.web.access.intercept.AuthorizationFilter@13168f01]
2025-05-29 12:25:26,562 WARN  [main] o.s.s.c.a.web.builders.WebSecurity: You are asking Spring Security to ignore Ant [pattern='/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-05-29 12:25:26,563 INFO  [main] o.s.s.web.DefaultSecurityFilterChain: Will not secure Ant [pattern='/**']
2025-05-29 12:25:27,999 INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-29 12:25:28,223 INFO  [main] o.s.b.t.m.w.SpringBootMockServletContext: Initializing Spring TestDispatcherServlet ''
2025-05-29 12:25:28,225 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Initializing Servlet ''
2025-05-29 12:25:28,230 INFO  [main] o.s.t.w.s.TestDispatcherServlet: Completed initialization in 4 ms
2025-05-29 12:25:28,329 INFO  [main] c.w.v.l.u.m.MemberControllerTest: Started MemberControllerTest in 9.876 seconds (process running for 99.524)
2025-05-29 12:25:28,491 INFO  [main] c.w.v.l.member.MemberController: The member with ID 1 has been successfully deleted.
2025-05-29 12:25:28,586 INFO  [main] c.w.v.l.member.MemberController: retrieve member by id 1
2025-05-29 12:25:28,605 INFO  [main] c.w.v.l.member.MemberController: Received a GET request to /api/v1/member endpoint
2025-05-29 12:25:28,685 INFO  [main] c.w.v.l.member.MemberController: Created a new member with ID: 1
2025-05-29 12:25:28,706 INFO  [main] c.w.v.l.member.MemberController: The member with ID 1 has been successfully deleted.
2025-05-29 12:25:29,218 ERROR [main] c.w.v.l.member.MemberMapper: admin is null null
2025-05-29 12:25:29,224 ERROR [main] c.w.v.l.member.MemberMapper: Librarian is null null
2025-05-29 12:25:29,240 ERROR [main] c.w.v.l.member.MemberMapper: librarian is null null
2025-05-29 12:25:29,246 ERROR [main] c.w.v.l.member.MemberMapper: librarian is null null
2025-05-29 12:25:29,251 ERROR [main] c.w.v.l.member.MemberMapper: admin is null null
2025-05-29 12:25:29,261 ERROR [main] c.w.v.l.member.MemberMapper: member is null null
2025-05-29 12:25:29,367 INFO  [main] c.w.v.l.member.MemberService: member deleted successfully with ID 1
2025-05-29 12:25:29,383 ERROR [main] c.w.v.l.member.MemberService: No member found with ID 1
2025-05-29 12:25:29,410 INFO  [main] c.w.v.l.member.MemberService: Get all member
2025-05-29 12:25:29,450 ERROR [main] c.w.v.l.member.MemberService: No member found with ID 1
2025-05-29 12:25:29,465 ERROR [main] c.w.v.l.member.MemberService: The member id provided is less than or equal to zero 0 
2025-05-29 12:25:29,479 ERROR [main] c.w.v.l.member.MemberService: The librarian id provide is less than or equal to zero 0 
2025-05-29 12:25:33,410 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:25:33,418 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2025-05-29 12:25:33,424 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2025-05-29 12:25:34,917 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:25:34,919 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2025-05-29 12:25:34,922 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
2025-05-29 12:25:36,812 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:25:36,815 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown initiated...
2025-05-29 12:25:36,821 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown completed.
2025-05-29 12:25:36,838 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:25:36,840 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Shutdown initiated...
2025-05-29 12:25:36,845 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Shutdown completed.
2025-05-29 12:25:36,853 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29 12:25:36,855 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Shutdown initiated...
2025-05-29 12:25:36,863 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Shutdown completed.
